"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/payload@3.39.1_graphql@16.9.0_typescript@5.7.3";
exports.ids = ["vendor-chunks/payload@3.39.1_graphql@16.9.0_typescript@5.7.3"];
exports.modules = {

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/auth/getAccessResults.js":
/*!****************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/auth/getAccessResults.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAccessResults: () => (/* binding */ getAccessResults)\n/* harmony export */ });\n/* harmony import */ var _utilities_getEntityPolicies_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/getEntityPolicies.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/getEntityPolicies.js\");\n/* harmony import */ var _utilities_sanitizePermissions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/sanitizePermissions.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/sanitizePermissions.js\");\n// @ts-strict-ignore\n\n\nasync function getAccessResults({ req }) {\n    const results = {\n        collections: {},\n        globals: {}\n    };\n    const { payload, user } = req;\n    const isLoggedIn = !!user;\n    const userCollectionConfig = user && user.collection ? payload?.collections?.[user.collection]?.config : null;\n    if (userCollectionConfig && payload.config.admin.user === user?.collection) {\n        results.canAccessAdmin = userCollectionConfig.access.admin ? await userCollectionConfig.access.admin({\n            req\n        }) : isLoggedIn;\n    } else {\n        results.canAccessAdmin = false;\n    }\n    const blockPolicies = {};\n    await Promise.all(payload.config.collections.map(async (collection)=>{\n        const collectionOperations = [\n            'create',\n            'read',\n            'update',\n            'delete'\n        ];\n        if (collection.auth && typeof collection.auth.maxLoginAttempts !== 'undefined' && collection.auth.maxLoginAttempts !== 0) {\n            collectionOperations.push('unlock');\n        }\n        if (collection.versions) {\n            collectionOperations.push('readVersions');\n        }\n        const collectionPolicy = await (0,_utilities_getEntityPolicies_js__WEBPACK_IMPORTED_MODULE_0__.getEntityPolicies)({\n            type: 'collection',\n            blockPolicies,\n            entity: collection,\n            operations: collectionOperations,\n            req\n        });\n        results.collections[collection.slug] = collectionPolicy;\n    }));\n    await Promise.all(payload.config.globals.map(async (global)=>{\n        const globalOperations = [\n            'read',\n            'update'\n        ];\n        if (global.versions) {\n            globalOperations.push('readVersions');\n        }\n        const globalPolicy = await (0,_utilities_getEntityPolicies_js__WEBPACK_IMPORTED_MODULE_0__.getEntityPolicies)({\n            type: 'global',\n            blockPolicies,\n            entity: global,\n            operations: globalOperations,\n            req\n        });\n        results.globals[global.slug] = globalPolicy;\n    }));\n    return (0,_utilities_sanitizePermissions_js__WEBPACK_IMPORTED_MODULE_1__.sanitizePermissions)(results);\n}\n\n//# sourceMappingURL=getAccessResults.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9hdXRoL2dldEFjY2Vzc1Jlc3VsdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDc0U7QUFDSTtBQUNuRSxrQ0FBa0MsS0FBSztBQUM5QztBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsa0ZBQWlCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxrRkFBaUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxXQUFXLHNGQUFtQjtBQUM5Qjs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L2F1dGgvZ2V0QWNjZXNzUmVzdWx0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtc3RyaWN0LWlnbm9yZVxuaW1wb3J0IHsgZ2V0RW50aXR5UG9saWNpZXMgfSBmcm9tICcuLi91dGlsaXRpZXMvZ2V0RW50aXR5UG9saWNpZXMuanMnO1xuaW1wb3J0IHsgc2FuaXRpemVQZXJtaXNzaW9ucyB9IGZyb20gJy4uL3V0aWxpdGllcy9zYW5pdGl6ZVBlcm1pc3Npb25zLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBY2Nlc3NSZXN1bHRzKHsgcmVxIH0pIHtcbiAgICBjb25zdCByZXN1bHRzID0ge1xuICAgICAgICBjb2xsZWN0aW9uczoge30sXG4gICAgICAgIGdsb2JhbHM6IHt9XG4gICAgfTtcbiAgICBjb25zdCB7IHBheWxvYWQsIHVzZXIgfSA9IHJlcTtcbiAgICBjb25zdCBpc0xvZ2dlZEluID0gISF1c2VyO1xuICAgIGNvbnN0IHVzZXJDb2xsZWN0aW9uQ29uZmlnID0gdXNlciAmJiB1c2VyLmNvbGxlY3Rpb24gPyBwYXlsb2FkPy5jb2xsZWN0aW9ucz8uW3VzZXIuY29sbGVjdGlvbl0/LmNvbmZpZyA6IG51bGw7XG4gICAgaWYgKHVzZXJDb2xsZWN0aW9uQ29uZmlnICYmIHBheWxvYWQuY29uZmlnLmFkbWluLnVzZXIgPT09IHVzZXI/LmNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0cy5jYW5BY2Nlc3NBZG1pbiA9IHVzZXJDb2xsZWN0aW9uQ29uZmlnLmFjY2Vzcy5hZG1pbiA/IGF3YWl0IHVzZXJDb2xsZWN0aW9uQ29uZmlnLmFjY2Vzcy5hZG1pbih7XG4gICAgICAgICAgICByZXFcbiAgICAgICAgfSkgOiBpc0xvZ2dlZEluO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdHMuY2FuQWNjZXNzQWRtaW4gPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYmxvY2tQb2xpY2llcyA9IHt9O1xuICAgIGF3YWl0IFByb21pc2UuYWxsKHBheWxvYWQuY29uZmlnLmNvbGxlY3Rpb25zLm1hcChhc3luYyAoY29sbGVjdGlvbik9PntcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbk9wZXJhdGlvbnMgPSBbXG4gICAgICAgICAgICAnY3JlYXRlJyxcbiAgICAgICAgICAgICdyZWFkJyxcbiAgICAgICAgICAgICd1cGRhdGUnLFxuICAgICAgICAgICAgJ2RlbGV0ZSdcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24uYXV0aCAmJiB0eXBlb2YgY29sbGVjdGlvbi5hdXRoLm1heExvZ2luQXR0ZW1wdHMgIT09ICd1bmRlZmluZWQnICYmIGNvbGxlY3Rpb24uYXV0aC5tYXhMb2dpbkF0dGVtcHRzICE9PSAwKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uT3BlcmF0aW9ucy5wdXNoKCd1bmxvY2snKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sbGVjdGlvbi52ZXJzaW9ucykge1xuICAgICAgICAgICAgY29sbGVjdGlvbk9wZXJhdGlvbnMucHVzaCgncmVhZFZlcnNpb25zJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29sbGVjdGlvblBvbGljeSA9IGF3YWl0IGdldEVudGl0eVBvbGljaWVzKHtcbiAgICAgICAgICAgIHR5cGU6ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgICAgIGJsb2NrUG9saWNpZXMsXG4gICAgICAgICAgICBlbnRpdHk6IGNvbGxlY3Rpb24sXG4gICAgICAgICAgICBvcGVyYXRpb25zOiBjb2xsZWN0aW9uT3BlcmF0aW9ucyxcbiAgICAgICAgICAgIHJlcVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0cy5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uLnNsdWddID0gY29sbGVjdGlvblBvbGljeTtcbiAgICB9KSk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocGF5bG9hZC5jb25maWcuZ2xvYmFscy5tYXAoYXN5bmMgKGdsb2JhbCk9PntcbiAgICAgICAgY29uc3QgZ2xvYmFsT3BlcmF0aW9ucyA9IFtcbiAgICAgICAgICAgICdyZWFkJyxcbiAgICAgICAgICAgICd1cGRhdGUnXG4gICAgICAgIF07XG4gICAgICAgIGlmIChnbG9iYWwudmVyc2lvbnMpIHtcbiAgICAgICAgICAgIGdsb2JhbE9wZXJhdGlvbnMucHVzaCgncmVhZFZlcnNpb25zJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2xvYmFsUG9saWN5ID0gYXdhaXQgZ2V0RW50aXR5UG9saWNpZXMoe1xuICAgICAgICAgICAgdHlwZTogJ2dsb2JhbCcsXG4gICAgICAgICAgICBibG9ja1BvbGljaWVzLFxuICAgICAgICAgICAgZW50aXR5OiBnbG9iYWwsXG4gICAgICAgICAgICBvcGVyYXRpb25zOiBnbG9iYWxPcGVyYXRpb25zLFxuICAgICAgICAgICAgcmVxXG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHRzLmdsb2JhbHNbZ2xvYmFsLnNsdWddID0gZ2xvYmFsUG9saWN5O1xuICAgIH0pKTtcbiAgICByZXR1cm4gc2FuaXRpemVQZXJtaXNzaW9ucyhyZXN1bHRzKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0QWNjZXNzUmVzdWx0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/auth/getAccessResults.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/auth/types.js":
/*!*****************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/auth/types.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasWhereAccessResult: () => (/* binding */ hasWhereAccessResult)\n/* harmony export */ });\nfunction hasWhereAccessResult(result) {\n    return result && typeof result === 'object';\n}\n\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9hdXRoL3R5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9hdXRoL3R5cGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBoYXNXaGVyZUFjY2Vzc1Jlc3VsdChyZXN1bHQpIHtcbiAgICByZXR1cm4gcmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/auth/types.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/collections/dataloader.js":
/*!*****************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/collections/dataloader.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDataloaderCacheKey: () => (/* binding */ createDataloaderCacheKey),\n/* harmony export */   getDataLoader: () => (/* binding */ getDataLoader)\n/* harmony export */ });\n/* harmony import */ var dataloader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dataloader */ \"(rsc)/../../../../node_modules/.pnpm/dataloader@2.2.3/node_modules/dataloader/index.js\");\n/* harmony import */ var _utilities_isValidID_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/isValidID.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isValidID.js\");\n// @ts-strict-ignore\n\n\n// Payload uses `dataloader` to solve the classic GraphQL N+1 problem.\n// We keep a list of all documents requested to be populated for any given request\n// and then batch together documents within the same collection,\n// making only 1 find per each collection, rather than `findByID` per each requested doc.\n// This dramatically improves performance for REST and Local API `depth` populations,\n// and also ensures complex GraphQL queries perform lightning-fast.\nconst batchAndLoadDocs = (req)=>async (keys)=>{\n        const { payload } = req;\n        // Create docs array of same length as keys, using null as value\n        // We will replace nulls with injected docs as they are retrieved\n        const docs = keys.map(()=>null);\n        /**\n    * Batch IDs by their `find` args\n    * so we can make one find query per combination of collection, depth, locale, and fallbackLocale.\n    *\n    * Resulting shape will be as follows:\n      {\n        // key is stringified set of find args\n        '[null,\"pages\",2,0,\"es\",\"en\",false,false]': [\n          // value is array of IDs to find with these args\n          'q34tl23462346234524',\n          '435523540194324280',\n          '2346245j35l3j5234532li',\n        ],\n        // etc\n      };\n    *\n    **/ const batchByFindArgs = {};\n        for (const key of keys){\n            const [transactionID, collection, id, depth, currentDepth, locale, fallbackLocale, overrideAccess, showHiddenFields, draft, select, populate] = JSON.parse(key);\n            const batchKeyArray = [\n                transactionID,\n                collection,\n                depth,\n                currentDepth,\n                locale,\n                fallbackLocale,\n                overrideAccess,\n                showHiddenFields,\n                draft,\n                select,\n                populate\n            ];\n            const batchKey = JSON.stringify(batchKeyArray);\n            const idType = payload.collections?.[collection].customIDType || payload.db.defaultIDType;\n            const sanitizedID = idType === 'number' ? parseFloat(id) : id;\n            if ((0,_utilities_isValidID_js__WEBPACK_IMPORTED_MODULE_1__.isValidID)(sanitizedID, idType)) {\n                batchByFindArgs[batchKey] = [\n                    ...batchByFindArgs[batchKey] || [],\n                    sanitizedID\n                ];\n            }\n        }\n        // Run find requests one after another, so as to not hang transactions\n        for (const [batchKey, ids] of Object.entries(batchByFindArgs)){\n            const [transactionID, collection, depth, currentDepth, locale, fallbackLocale, overrideAccess, showHiddenFields, draft, select, populate] = JSON.parse(batchKey);\n            req.transactionID = transactionID;\n            const result = await payload.find({\n                collection,\n                currentDepth,\n                depth,\n                disableErrors: true,\n                draft,\n                fallbackLocale,\n                locale,\n                overrideAccess: Boolean(overrideAccess),\n                pagination: false,\n                populate,\n                req,\n                select,\n                showHiddenFields: Boolean(showHiddenFields),\n                where: {\n                    id: {\n                        in: ids\n                    }\n                }\n            });\n            // For each returned doc, find index in original keys\n            // Inject doc within docs array if index exists\n            for (const doc of result.docs){\n                const docKey = createDataloaderCacheKey({\n                    collectionSlug: collection,\n                    currentDepth,\n                    depth,\n                    docID: doc.id,\n                    draft,\n                    fallbackLocale,\n                    locale,\n                    overrideAccess,\n                    populate,\n                    select,\n                    showHiddenFields,\n                    transactionID: req.transactionID\n                });\n                const docsIndex = keys.findIndex((key)=>key === docKey);\n                if (docsIndex > -1) {\n                    docs[docsIndex] = doc;\n                }\n            }\n        }\n        // Return docs array,\n        // which has now been injected with all fetched docs\n        // and should match the length of the incoming keys arg\n        return docs;\n    };\nconst getDataLoader = (req)=>{\n    const findQueries = new Map();\n    const dataLoader = new dataloader__WEBPACK_IMPORTED_MODULE_0__(batchAndLoadDocs(req));\n    dataLoader.find = (args)=>{\n        const key = createFindDataloaderCacheKey(args);\n        const cached = findQueries.get(key);\n        if (cached) {\n            return cached;\n        }\n        const request = req.payload.find(args);\n        findQueries.set(key, request);\n        return request;\n    };\n    return dataLoader;\n};\nconst createFindDataloaderCacheKey = ({ collection, currentDepth, depth, disableErrors, draft, includeLockStatus, joins, limit, overrideAccess, page, pagination, populate, req, select, showHiddenFields, sort, where })=>JSON.stringify([\n        collection,\n        currentDepth,\n        depth,\n        disableErrors,\n        draft,\n        includeLockStatus,\n        joins,\n        limit,\n        overrideAccess,\n        page,\n        pagination,\n        populate,\n        req?.locale,\n        req?.fallbackLocale,\n        req?.user?.id,\n        req?.transactionID,\n        select,\n        showHiddenFields,\n        sort,\n        where\n    ]);\nconst createDataloaderCacheKey = ({ collectionSlug, currentDepth, depth, docID, draft, fallbackLocale, locale, overrideAccess, populate, select, showHiddenFields, transactionID })=>JSON.stringify([\n        transactionID,\n        collectionSlug,\n        docID,\n        depth,\n        currentDepth,\n        locale,\n        fallbackLocale,\n        overrideAccess,\n        showHiddenFields,\n        draft,\n        select,\n        populate\n    ]);\n\n//# sourceMappingURL=dataloader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9jb2xsZWN0aW9ucy9kYXRhbG9hZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNvQztBQUNrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0VBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDJCQUEyQix1Q0FBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZ0xBQWdMO0FBQ3hOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLG9DQUFvQyw4SUFBOEk7QUFDekw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9jb2xsZWN0aW9ucy9kYXRhbG9hZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1zdHJpY3QtaWdub3JlXG5pbXBvcnQgRGF0YUxvYWRlciBmcm9tICdkYXRhbG9hZGVyJztcbmltcG9ydCB7IGlzVmFsaWRJRCB9IGZyb20gJy4uL3V0aWxpdGllcy9pc1ZhbGlkSUQuanMnO1xuLy8gUGF5bG9hZCB1c2VzIGBkYXRhbG9hZGVyYCB0byBzb2x2ZSB0aGUgY2xhc3NpYyBHcmFwaFFMIE4rMSBwcm9ibGVtLlxuLy8gV2Uga2VlcCBhIGxpc3Qgb2YgYWxsIGRvY3VtZW50cyByZXF1ZXN0ZWQgdG8gYmUgcG9wdWxhdGVkIGZvciBhbnkgZ2l2ZW4gcmVxdWVzdFxuLy8gYW5kIHRoZW4gYmF0Y2ggdG9nZXRoZXIgZG9jdW1lbnRzIHdpdGhpbiB0aGUgc2FtZSBjb2xsZWN0aW9uLFxuLy8gbWFraW5nIG9ubHkgMSBmaW5kIHBlciBlYWNoIGNvbGxlY3Rpb24sIHJhdGhlciB0aGFuIGBmaW5kQnlJRGAgcGVyIGVhY2ggcmVxdWVzdGVkIGRvYy5cbi8vIFRoaXMgZHJhbWF0aWNhbGx5IGltcHJvdmVzIHBlcmZvcm1hbmNlIGZvciBSRVNUIGFuZCBMb2NhbCBBUEkgYGRlcHRoYCBwb3B1bGF0aW9ucyxcbi8vIGFuZCBhbHNvIGVuc3VyZXMgY29tcGxleCBHcmFwaFFMIHF1ZXJpZXMgcGVyZm9ybSBsaWdodG5pbmctZmFzdC5cbmNvbnN0IGJhdGNoQW5kTG9hZERvY3MgPSAocmVxKT0+YXN5bmMgKGtleXMpPT57XG4gICAgICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gcmVxO1xuICAgICAgICAvLyBDcmVhdGUgZG9jcyBhcnJheSBvZiBzYW1lIGxlbmd0aCBhcyBrZXlzLCB1c2luZyBudWxsIGFzIHZhbHVlXG4gICAgICAgIC8vIFdlIHdpbGwgcmVwbGFjZSBudWxscyB3aXRoIGluamVjdGVkIGRvY3MgYXMgdGhleSBhcmUgcmV0cmlldmVkXG4gICAgICAgIGNvbnN0IGRvY3MgPSBrZXlzLm1hcCgoKT0+bnVsbCk7XG4gICAgICAgIC8qKlxuICAgICogQmF0Y2ggSURzIGJ5IHRoZWlyIGBmaW5kYCBhcmdzXG4gICAgKiBzbyB3ZSBjYW4gbWFrZSBvbmUgZmluZCBxdWVyeSBwZXIgY29tYmluYXRpb24gb2YgY29sbGVjdGlvbiwgZGVwdGgsIGxvY2FsZSwgYW5kIGZhbGxiYWNrTG9jYWxlLlxuICAgICpcbiAgICAqIFJlc3VsdGluZyBzaGFwZSB3aWxsIGJlIGFzIGZvbGxvd3M6XG4gICAgICB7XG4gICAgICAgIC8vIGtleSBpcyBzdHJpbmdpZmllZCBzZXQgb2YgZmluZCBhcmdzXG4gICAgICAgICdbbnVsbCxcInBhZ2VzXCIsMiwwLFwiZXNcIixcImVuXCIsZmFsc2UsZmFsc2VdJzogW1xuICAgICAgICAgIC8vIHZhbHVlIGlzIGFycmF5IG9mIElEcyB0byBmaW5kIHdpdGggdGhlc2UgYXJnc1xuICAgICAgICAgICdxMzR0bDIzNDYyMzQ2MjM0NTI0JyxcbiAgICAgICAgICAnNDM1NTIzNTQwMTk0MzI0MjgwJyxcbiAgICAgICAgICAnMjM0NjI0NWozNWwzajUyMzQ1MzJsaScsXG4gICAgICAgIF0sXG4gICAgICAgIC8vIGV0Y1xuICAgICAgfTtcbiAgICAqXG4gICAgKiovIGNvbnN0IGJhdGNoQnlGaW5kQXJncyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKXtcbiAgICAgICAgICAgIGNvbnN0IFt0cmFuc2FjdGlvbklELCBjb2xsZWN0aW9uLCBpZCwgZGVwdGgsIGN1cnJlbnREZXB0aCwgbG9jYWxlLCBmYWxsYmFja0xvY2FsZSwgb3ZlcnJpZGVBY2Nlc3MsIHNob3dIaWRkZW5GaWVsZHMsIGRyYWZ0LCBzZWxlY3QsIHBvcHVsYXRlXSA9IEpTT04ucGFyc2Uoa2V5KTtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoS2V5QXJyYXkgPSBbXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JRCxcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgICAgICAgIGN1cnJlbnREZXB0aCxcbiAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tMb2NhbGUsXG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVBY2Nlc3MsXG4gICAgICAgICAgICAgICAgc2hvd0hpZGRlbkZpZWxkcyxcbiAgICAgICAgICAgICAgICBkcmFmdCxcbiAgICAgICAgICAgICAgICBzZWxlY3QsXG4gICAgICAgICAgICAgICAgcG9wdWxhdGVcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCBiYXRjaEtleSA9IEpTT04uc3RyaW5naWZ5KGJhdGNoS2V5QXJyYXkpO1xuICAgICAgICAgICAgY29uc3QgaWRUeXBlID0gcGF5bG9hZC5jb2xsZWN0aW9ucz8uW2NvbGxlY3Rpb25dLmN1c3RvbUlEVHlwZSB8fCBwYXlsb2FkLmRiLmRlZmF1bHRJRFR5cGU7XG4gICAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRJRCA9IGlkVHlwZSA9PT0gJ251bWJlcicgPyBwYXJzZUZsb2F0KGlkKSA6IGlkO1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRJRChzYW5pdGl6ZWRJRCwgaWRUeXBlKSkge1xuICAgICAgICAgICAgICAgIGJhdGNoQnlGaW5kQXJnc1tiYXRjaEtleV0gPSBbXG4gICAgICAgICAgICAgICAgICAgIC4uLmJhdGNoQnlGaW5kQXJnc1tiYXRjaEtleV0gfHwgW10sXG4gICAgICAgICAgICAgICAgICAgIHNhbml0aXplZElEXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSdW4gZmluZCByZXF1ZXN0cyBvbmUgYWZ0ZXIgYW5vdGhlciwgc28gYXMgdG8gbm90IGhhbmcgdHJhbnNhY3Rpb25zXG4gICAgICAgIGZvciAoY29uc3QgW2JhdGNoS2V5LCBpZHNdIG9mIE9iamVjdC5lbnRyaWVzKGJhdGNoQnlGaW5kQXJncykpe1xuICAgICAgICAgICAgY29uc3QgW3RyYW5zYWN0aW9uSUQsIGNvbGxlY3Rpb24sIGRlcHRoLCBjdXJyZW50RGVwdGgsIGxvY2FsZSwgZmFsbGJhY2tMb2NhbGUsIG92ZXJyaWRlQWNjZXNzLCBzaG93SGlkZGVuRmllbGRzLCBkcmFmdCwgc2VsZWN0LCBwb3B1bGF0ZV0gPSBKU09OLnBhcnNlKGJhdGNoS2V5KTtcbiAgICAgICAgICAgIHJlcS50cmFuc2FjdGlvbklEID0gdHJhbnNhY3Rpb25JRDtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBheWxvYWQuZmluZCh7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICBjdXJyZW50RGVwdGgsXG4gICAgICAgICAgICAgICAgZGVwdGgsXG4gICAgICAgICAgICAgICAgZGlzYWJsZUVycm9yczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkcmFmdCxcbiAgICAgICAgICAgICAgICBmYWxsYmFja0xvY2FsZSxcbiAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVBY2Nlc3M6IEJvb2xlYW4ob3ZlcnJpZGVBY2Nlc3MpLFxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBvcHVsYXRlLFxuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBzZWxlY3QsXG4gICAgICAgICAgICAgICAgc2hvd0hpZGRlbkZpZWxkczogQm9vbGVhbihzaG93SGlkZGVuRmllbGRzKSxcbiAgICAgICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW46IGlkc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBGb3IgZWFjaCByZXR1cm5lZCBkb2MsIGZpbmQgaW5kZXggaW4gb3JpZ2luYWwga2V5c1xuICAgICAgICAgICAgLy8gSW5qZWN0IGRvYyB3aXRoaW4gZG9jcyBhcnJheSBpZiBpbmRleCBleGlzdHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgZG9jIG9mIHJlc3VsdC5kb2NzKXtcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NLZXkgPSBjcmVhdGVEYXRhbG9hZGVyQ2FjaGVLZXkoe1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZzogY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudERlcHRoLFxuICAgICAgICAgICAgICAgICAgICBkZXB0aCxcbiAgICAgICAgICAgICAgICAgICAgZG9jSUQ6IGRvYy5pZCxcbiAgICAgICAgICAgICAgICAgICAgZHJhZnQsXG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlQWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0LFxuICAgICAgICAgICAgICAgICAgICBzaG93SGlkZGVuRmllbGRzLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbklEOiByZXEudHJhbnNhY3Rpb25JRFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvY3NJbmRleCA9IGtleXMuZmluZEluZGV4KChrZXkpPT5rZXkgPT09IGRvY0tleSk7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3NJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3NbZG9jc0luZGV4XSA9IGRvYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIGRvY3MgYXJyYXksXG4gICAgICAgIC8vIHdoaWNoIGhhcyBub3cgYmVlbiBpbmplY3RlZCB3aXRoIGFsbCBmZXRjaGVkIGRvY3NcbiAgICAgICAgLy8gYW5kIHNob3VsZCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBpbmNvbWluZyBrZXlzIGFyZ1xuICAgICAgICByZXR1cm4gZG9jcztcbiAgICB9O1xuZXhwb3J0IGNvbnN0IGdldERhdGFMb2FkZXIgPSAocmVxKT0+e1xuICAgIGNvbnN0IGZpbmRRdWVyaWVzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRhdGFMb2FkZXIgPSBuZXcgRGF0YUxvYWRlcihiYXRjaEFuZExvYWREb2NzKHJlcSkpO1xuICAgIGRhdGFMb2FkZXIuZmluZCA9IChhcmdzKT0+e1xuICAgICAgICBjb25zdCBrZXkgPSBjcmVhdGVGaW5kRGF0YWxvYWRlckNhY2hlS2V5KGFyZ3MpO1xuICAgICAgICBjb25zdCBjYWNoZWQgPSBmaW5kUXVlcmllcy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gcmVxLnBheWxvYWQuZmluZChhcmdzKTtcbiAgICAgICAgZmluZFF1ZXJpZXMuc2V0KGtleSwgcmVxdWVzdCk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH07XG4gICAgcmV0dXJuIGRhdGFMb2FkZXI7XG59O1xuY29uc3QgY3JlYXRlRmluZERhdGFsb2FkZXJDYWNoZUtleSA9ICh7IGNvbGxlY3Rpb24sIGN1cnJlbnREZXB0aCwgZGVwdGgsIGRpc2FibGVFcnJvcnMsIGRyYWZ0LCBpbmNsdWRlTG9ja1N0YXR1cywgam9pbnMsIGxpbWl0LCBvdmVycmlkZUFjY2VzcywgcGFnZSwgcGFnaW5hdGlvbiwgcG9wdWxhdGUsIHJlcSwgc2VsZWN0LCBzaG93SGlkZGVuRmllbGRzLCBzb3J0LCB3aGVyZSB9KT0+SlNPTi5zdHJpbmdpZnkoW1xuICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICBjdXJyZW50RGVwdGgsXG4gICAgICAgIGRlcHRoLFxuICAgICAgICBkaXNhYmxlRXJyb3JzLFxuICAgICAgICBkcmFmdCxcbiAgICAgICAgaW5jbHVkZUxvY2tTdGF0dXMsXG4gICAgICAgIGpvaW5zLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgb3ZlcnJpZGVBY2Nlc3MsXG4gICAgICAgIHBhZ2UsXG4gICAgICAgIHBhZ2luYXRpb24sXG4gICAgICAgIHBvcHVsYXRlLFxuICAgICAgICByZXE/LmxvY2FsZSxcbiAgICAgICAgcmVxPy5mYWxsYmFja0xvY2FsZSxcbiAgICAgICAgcmVxPy51c2VyPy5pZCxcbiAgICAgICAgcmVxPy50cmFuc2FjdGlvbklELFxuICAgICAgICBzZWxlY3QsXG4gICAgICAgIHNob3dIaWRkZW5GaWVsZHMsXG4gICAgICAgIHNvcnQsXG4gICAgICAgIHdoZXJlXG4gICAgXSk7XG5leHBvcnQgY29uc3QgY3JlYXRlRGF0YWxvYWRlckNhY2hlS2V5ID0gKHsgY29sbGVjdGlvblNsdWcsIGN1cnJlbnREZXB0aCwgZGVwdGgsIGRvY0lELCBkcmFmdCwgZmFsbGJhY2tMb2NhbGUsIGxvY2FsZSwgb3ZlcnJpZGVBY2Nlc3MsIHBvcHVsYXRlLCBzZWxlY3QsIHNob3dIaWRkZW5GaWVsZHMsIHRyYW5zYWN0aW9uSUQgfSk9PkpTT04uc3RyaW5naWZ5KFtcbiAgICAgICAgdHJhbnNhY3Rpb25JRCxcbiAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgIGRvY0lELFxuICAgICAgICBkZXB0aCxcbiAgICAgICAgY3VycmVudERlcHRoLFxuICAgICAgICBsb2NhbGUsXG4gICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICBvdmVycmlkZUFjY2VzcyxcbiAgICAgICAgc2hvd0hpZGRlbkZpZWxkcyxcbiAgICAgICAgZHJhZnQsXG4gICAgICAgIHNlbGVjdCxcbiAgICAgICAgcG9wdWxhdGVcbiAgICBdKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YWxvYWRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/collections/dataloader.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/combineQueries.js":
/*!******************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/combineQueries.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   combineQueries: () => (/* binding */ combineQueries)\n/* harmony export */ });\n/* harmony import */ var _auth_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../auth/index.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/auth/types.js\");\n\n/**\n * Combines two queries into a single query, using an AND operator\n */ const combineQueries = (where, access)=>{\n    if (!where && !access) {\n        return {};\n    }\n    const and = where ? [\n        where\n    ] : [];\n    if ((0,_auth_index_js__WEBPACK_IMPORTED_MODULE_0__.hasWhereAccessResult)(access)) {\n        and.push(access);\n    }\n    return {\n        and\n    };\n};\n\n//# sourceMappingURL=combineQueries.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9jb21iaW5lUXVlcmllcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3RDtBQUN4RDtBQUNBO0FBQ0EsSUFBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0VBQW9CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L2RhdGFiYXNlL2NvbWJpbmVRdWVyaWVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhc1doZXJlQWNjZXNzUmVzdWx0IH0gZnJvbSAnLi4vYXV0aC9pbmRleC5qcyc7XG4vKipcbiAqIENvbWJpbmVzIHR3byBxdWVyaWVzIGludG8gYSBzaW5nbGUgcXVlcnksIHVzaW5nIGFuIEFORCBvcGVyYXRvclxuICovIGV4cG9ydCBjb25zdCBjb21iaW5lUXVlcmllcyA9ICh3aGVyZSwgYWNjZXNzKT0+e1xuICAgIGlmICghd2hlcmUgJiYgIWFjY2Vzcykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IGFuZCA9IHdoZXJlID8gW1xuICAgICAgICB3aGVyZVxuICAgIF0gOiBbXTtcbiAgICBpZiAoaGFzV2hlcmVBY2Nlc3NSZXN1bHQoYWNjZXNzKSkge1xuICAgICAgICBhbmQucHVzaChhY2Nlc3MpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhbmRcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZVF1ZXJpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/combineQueries.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/createDatabaseAdapter.js":
/*!*************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/createDatabaseAdapter.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDatabaseAdapter: () => (/* binding */ createDatabaseAdapter)\n/* harmony export */ });\n/* harmony import */ var _defaultUpdateJobs_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./defaultUpdateJobs.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/defaultUpdateJobs.js\");\n/* harmony import */ var _migrations_createMigration_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./migrations/createMigration.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/createMigration.js\");\n/* harmony import */ var _migrations_migrate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./migrations/migrate.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrate.js\");\n/* harmony import */ var _migrations_migrateDown_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./migrations/migrateDown.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateDown.js\");\n/* harmony import */ var _migrations_migrateRefresh_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./migrations/migrateRefresh.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateRefresh.js\");\n/* harmony import */ var _migrations_migrateReset_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./migrations/migrateReset.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateReset.js\");\n/* harmony import */ var _migrations_migrateStatus_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./migrations/migrateStatus.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateStatus.js\");\n// @ts-strict-ignore\n\n\n\n\n\n\n\nconst beginTransaction = ()=>Promise.resolve(null);\nconst rollbackTransaction = ()=>Promise.resolve(null);\nconst commitTransaction = ()=>Promise.resolve(null);\nfunction createDatabaseAdapter(args) {\n    return {\n        // Default 'null' transaction functions\n        beginTransaction,\n        commitTransaction,\n        createMigration: _migrations_createMigration_js__WEBPACK_IMPORTED_MODULE_0__.createMigration,\n        migrate: _migrations_migrate_js__WEBPACK_IMPORTED_MODULE_1__.migrate,\n        migrateDown: _migrations_migrateDown_js__WEBPACK_IMPORTED_MODULE_2__.migrateDown,\n        migrateFresh: ()=>Promise.resolve(null),\n        migrateRefresh: _migrations_migrateRefresh_js__WEBPACK_IMPORTED_MODULE_3__.migrateRefresh,\n        migrateReset: _migrations_migrateReset_js__WEBPACK_IMPORTED_MODULE_4__.migrateReset,\n        migrateStatus: _migrations_migrateStatus_js__WEBPACK_IMPORTED_MODULE_5__.migrateStatus,\n        rollbackTransaction,\n        updateJobs: _defaultUpdateJobs_js__WEBPACK_IMPORTED_MODULE_6__.defaultUpdateJobs,\n        ...args,\n        // Ensure migrationDir is set\n        migrationDir: args.migrationDir || 'migrations'\n    };\n}\n\n//# sourceMappingURL=createDatabaseAdapter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9jcmVhdGVEYXRhYmFzZUFkYXB0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUMyRDtBQUNPO0FBQ2hCO0FBQ1E7QUFDTTtBQUNKO0FBQ0U7QUFDOUQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixlQUFlO0FBQ2YsbUJBQW1CO0FBQ25CO0FBQ0Esc0JBQXNCO0FBQ3RCLG9CQUFvQjtBQUNwQixxQkFBcUI7QUFDckI7QUFDQSxvQkFBb0Isb0VBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9jcmVhdGVEYXRhYmFzZUFkYXB0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbmltcG9ydCB7IGRlZmF1bHRVcGRhdGVKb2JzIH0gZnJvbSAnLi9kZWZhdWx0VXBkYXRlSm9icy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNaWdyYXRpb24gfSBmcm9tICcuL21pZ3JhdGlvbnMvY3JlYXRlTWlncmF0aW9uLmpzJztcbmltcG9ydCB7IG1pZ3JhdGUgfSBmcm9tICcuL21pZ3JhdGlvbnMvbWlncmF0ZS5qcyc7XG5pbXBvcnQgeyBtaWdyYXRlRG93biB9IGZyb20gJy4vbWlncmF0aW9ucy9taWdyYXRlRG93bi5qcyc7XG5pbXBvcnQgeyBtaWdyYXRlUmVmcmVzaCB9IGZyb20gJy4vbWlncmF0aW9ucy9taWdyYXRlUmVmcmVzaC5qcyc7XG5pbXBvcnQgeyBtaWdyYXRlUmVzZXQgfSBmcm9tICcuL21pZ3JhdGlvbnMvbWlncmF0ZVJlc2V0LmpzJztcbmltcG9ydCB7IG1pZ3JhdGVTdGF0dXMgfSBmcm9tICcuL21pZ3JhdGlvbnMvbWlncmF0ZVN0YXR1cy5qcyc7XG5jb25zdCBiZWdpblRyYW5zYWN0aW9uID0gKCk9PlByb21pc2UucmVzb2x2ZShudWxsKTtcbmNvbnN0IHJvbGxiYWNrVHJhbnNhY3Rpb24gPSAoKT0+UHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuY29uc3QgY29tbWl0VHJhbnNhY3Rpb24gPSAoKT0+UHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURhdGFiYXNlQWRhcHRlcihhcmdzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gRGVmYXVsdCAnbnVsbCcgdHJhbnNhY3Rpb24gZnVuY3Rpb25zXG4gICAgICAgIGJlZ2luVHJhbnNhY3Rpb24sXG4gICAgICAgIGNvbW1pdFRyYW5zYWN0aW9uLFxuICAgICAgICBjcmVhdGVNaWdyYXRpb24sXG4gICAgICAgIG1pZ3JhdGUsXG4gICAgICAgIG1pZ3JhdGVEb3duLFxuICAgICAgICBtaWdyYXRlRnJlc2g6ICgpPT5Qcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIG1pZ3JhdGVSZWZyZXNoLFxuICAgICAgICBtaWdyYXRlUmVzZXQsXG4gICAgICAgIG1pZ3JhdGVTdGF0dXMsXG4gICAgICAgIHJvbGxiYWNrVHJhbnNhY3Rpb24sXG4gICAgICAgIHVwZGF0ZUpvYnM6IGRlZmF1bHRVcGRhdGVKb2JzLFxuICAgICAgICAuLi5hcmdzLFxuICAgICAgICAvLyBFbnN1cmUgbWlncmF0aW9uRGlyIGlzIHNldFxuICAgICAgICBtaWdyYXRpb25EaXI6IGFyZ3MubWlncmF0aW9uRGlyIHx8ICdtaWdyYXRpb25zJ1xuICAgIH07XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZURhdGFiYXNlQWRhcHRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/createDatabaseAdapter.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/defaultBeginTransaction.js":
/*!***************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/defaultBeginTransaction.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultBeginTransaction: () => (/* binding */ defaultBeginTransaction)\n/* harmony export */ });\n/**\n * Default implementation of `beginTransaction` that returns a resolved promise of null\n */ function defaultBeginTransaction() {\n    const promiseSingleton = Promise.resolve(null);\n    return ()=>promiseSingleton;\n}\n\n//# sourceMappingURL=defaultBeginTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9kZWZhdWx0QmVnaW5UcmFuc2FjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9kZWZhdWx0QmVnaW5UcmFuc2FjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgYGJlZ2luVHJhbnNhY3Rpb25gIHRoYXQgcmV0dXJucyBhIHJlc29sdmVkIHByb21pc2Ugb2YgbnVsbFxuICovIGV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0QmVnaW5UcmFuc2FjdGlvbigpIHtcbiAgICBjb25zdCBwcm9taXNlU2luZ2xldG9uID0gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIHJldHVybiAoKT0+cHJvbWlzZVNpbmdsZXRvbjtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdEJlZ2luVHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/defaultBeginTransaction.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/defaultUpdateJobs.js":
/*!*********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/defaultUpdateJobs.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultUpdateJobs: () => (/* binding */ defaultUpdateJobs)\n/* harmony export */ });\n/* harmony import */ var _queues_config_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../queues/config/index.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/config/index.js\");\n\nconst defaultUpdateJobs = async function updateMany({ id, data, limit, req, returning, where }) {\n    const updatedJobs = [];\n    const jobsToUpdate = (id ? [\n        await this.findOne({\n            collection: _queues_config_index_js__WEBPACK_IMPORTED_MODULE_0__.jobsCollectionSlug,\n            req,\n            where: {\n                id: {\n                    equals: id\n                }\n            }\n        })\n    ] : (await this.find({\n        collection: _queues_config_index_js__WEBPACK_IMPORTED_MODULE_0__.jobsCollectionSlug,\n        limit,\n        pagination: false,\n        req,\n        where\n    })).docs).filter(Boolean);\n    if (!jobsToUpdate) {\n        return null;\n    }\n    for (const job of jobsToUpdate){\n        const updateData = {\n            ...job,\n            ...data\n        };\n        const updatedJob = await this.updateOne({\n            id: job.id,\n            collection: _queues_config_index_js__WEBPACK_IMPORTED_MODULE_0__.jobsCollectionSlug,\n            data: updateData,\n            req,\n            returning\n        });\n        updatedJobs.push(updatedJob);\n    }\n    return updatedJobs;\n};\n\n//# sourceMappingURL=defaultUpdateJobs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9kZWZhdWx0VXBkYXRlSm9icy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErRDtBQUN4RCxzREFBc0Qsd0NBQXdDO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esb0JBQW9CLHVFQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1RUFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvZGF0YWJhc2UvZGVmYXVsdFVwZGF0ZUpvYnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgam9ic0NvbGxlY3Rpb25TbHVnIH0gZnJvbSAnLi4vcXVldWVzL2NvbmZpZy9pbmRleC5qcyc7XG5leHBvcnQgY29uc3QgZGVmYXVsdFVwZGF0ZUpvYnMgPSBhc3luYyBmdW5jdGlvbiB1cGRhdGVNYW55KHsgaWQsIGRhdGEsIGxpbWl0LCByZXEsIHJldHVybmluZywgd2hlcmUgfSkge1xuICAgIGNvbnN0IHVwZGF0ZWRKb2JzID0gW107XG4gICAgY29uc3Qgam9ic1RvVXBkYXRlID0gKGlkID8gW1xuICAgICAgICBhd2FpdCB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgY29sbGVjdGlvbjogam9ic0NvbGxlY3Rpb25TbHVnLFxuICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICAgICAgICBlcXVhbHM6IGlkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIF0gOiAoYXdhaXQgdGhpcy5maW5kKHtcbiAgICAgICAgY29sbGVjdGlvbjogam9ic0NvbGxlY3Rpb25TbHVnLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXG4gICAgICAgIHJlcSxcbiAgICAgICAgd2hlcmVcbiAgICB9KSkuZG9jcykuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGlmICgham9ic1RvVXBkYXRlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGpvYiBvZiBqb2JzVG9VcGRhdGUpe1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xuICAgICAgICAgICAgLi4uam9iLFxuICAgICAgICAgICAgLi4uZGF0YVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkSm9iID0gYXdhaXQgdGhpcy51cGRhdGVPbmUoe1xuICAgICAgICAgICAgaWQ6IGpvYi5pZCxcbiAgICAgICAgICAgIGNvbGxlY3Rpb246IGpvYnNDb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgIGRhdGE6IHVwZGF0ZURhdGEsXG4gICAgICAgICAgICByZXEsXG4gICAgICAgICAgICByZXR1cm5pbmdcbiAgICAgICAgfSk7XG4gICAgICAgIHVwZGF0ZWRKb2JzLnB1c2godXBkYXRlZEpvYik7XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVkSm9icztcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRVcGRhdGVKb2JzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/defaultUpdateJobs.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/createMigration.js":
/*!******************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/createMigration.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMigration: () => (/* binding */ createMigration)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../index.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/writeMigrationIndex.js\");\n/* harmony import */ var _migrationTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./migrationTemplate.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrationTemplate.js\");\n// @ts-strict-ignore\n\n\n\nconst createMigration = function createMigration({ migrationName, payload }) {\n    const dir = payload.db.migrationDir;\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(dir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0__.mkdirSync(dir);\n    }\n    const [yyymmdd, hhmmss] = new Date().toISOString().split('T');\n    const formattedDate = yyymmdd.replace(/\\D/g, '');\n    const formattedTime = hhmmss.split('.')[0].replace(/\\D/g, '');\n    const timestamp = `${formattedDate}_${formattedTime}`;\n    const formattedName = migrationName.replace(/\\W/g, '_');\n    const fileName = `${timestamp}_${formattedName}.ts`;\n    const filePath = `${dir}/${fileName}`;\n    fs__WEBPACK_IMPORTED_MODULE_0__.writeFileSync(filePath, _migrationTemplate_js__WEBPACK_IMPORTED_MODULE_1__.migrationTemplate);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_2__.writeMigrationIndex)({\n        migrationsDir: payload.db.migrationDir\n    });\n    payload.logger.info({\n        msg: `Migration created at ${filePath}`\n    });\n};\n\n//# sourceMappingURL=createMigration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL2NyZWF0ZU1pZ3JhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDb0I7QUFDaUM7QUFDTTtBQUNwRCxtREFBbUQsd0JBQXdCO0FBQ2xGO0FBQ0EsU0FBUywwQ0FBYTtBQUN0QixRQUFRLHlDQUFZO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGNBQWMsR0FBRyxjQUFjO0FBQ3hEO0FBQ0Esd0JBQXdCLFVBQVUsR0FBRyxjQUFjO0FBQ25ELHdCQUF3QixJQUFJLEdBQUcsU0FBUztBQUN4QyxJQUFJLDZDQUFnQixXQUFXLG9FQUFpQjtBQUNoRCxJQUFJLDhEQUFtQjtBQUN2QjtBQUNBLEtBQUs7QUFDTDtBQUNBLHFDQUFxQyxTQUFTO0FBQzlDLEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L2RhdGFiYXNlL21pZ3JhdGlvbnMvY3JlYXRlTWlncmF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1zdHJpY3QtaWdub3JlXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHsgd3JpdGVNaWdyYXRpb25JbmRleCB9IGZyb20gJy4uLy4uL2luZGV4LmpzJztcbmltcG9ydCB7IG1pZ3JhdGlvblRlbXBsYXRlIH0gZnJvbSAnLi9taWdyYXRpb25UZW1wbGF0ZS5qcyc7XG5leHBvcnQgY29uc3QgY3JlYXRlTWlncmF0aW9uID0gZnVuY3Rpb24gY3JlYXRlTWlncmF0aW9uKHsgbWlncmF0aW9uTmFtZSwgcGF5bG9hZCB9KSB7XG4gICAgY29uc3QgZGlyID0gcGF5bG9hZC5kYi5taWdyYXRpb25EaXI7XG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGRpcikpIHtcbiAgICAgICAgZnMubWtkaXJTeW5jKGRpcik7XG4gICAgfVxuICAgIGNvbnN0IFt5eXltbWRkLCBoaG1tc3NdID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJyk7XG4gICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IHl5eW1tZGQucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICBjb25zdCBmb3JtYXR0ZWRUaW1lID0gaGhtbXNzLnNwbGl0KCcuJylbMF0ucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBgJHtmb3JtYXR0ZWREYXRlfV8ke2Zvcm1hdHRlZFRpbWV9YDtcbiAgICBjb25zdCBmb3JtYXR0ZWROYW1lID0gbWlncmF0aW9uTmFtZS5yZXBsYWNlKC9cXFcvZywgJ18nKTtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke3RpbWVzdGFtcH1fJHtmb3JtYXR0ZWROYW1lfS50c2A7XG4gICAgY29uc3QgZmlsZVBhdGggPSBgJHtkaXJ9LyR7ZmlsZU5hbWV9YDtcbiAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBtaWdyYXRpb25UZW1wbGF0ZSk7XG4gICAgd3JpdGVNaWdyYXRpb25JbmRleCh7XG4gICAgICAgIG1pZ3JhdGlvbnNEaXI6IHBheWxvYWQuZGIubWlncmF0aW9uRGlyXG4gICAgfSk7XG4gICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgIG1zZzogYE1pZ3JhdGlvbiBjcmVhdGVkIGF0ICR7ZmlsZVBhdGh9YFxuICAgIH0pO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlTWlncmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/createMigration.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getMigrations.js":
/*!****************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getMigrations.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMigrations: () => (/* binding */ getMigrations)\n/* harmony export */ });\n/**\n * Gets all existing migrations from the database, excluding the dev migration\n */ async function getMigrations({ payload }) {\n    const migrationQuery = await payload.find({\n        collection: 'payload-migrations',\n        limit: 0,\n        sort: [\n            '-batch',\n            '-name'\n        ],\n        where: {\n            batch: {\n                not_equals: -1\n            }\n        }\n    });\n    const existingMigrations = migrationQuery.docs;\n    // Get the highest batch number from existing migrations\n    const latestBatch = Number(existingMigrations?.[0]?.batch) || 0;\n    return {\n        existingMigrations,\n        latestBatch\n    };\n}\n\n//# sourceMappingURL=getMigrations.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL2dldE1pZ3JhdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQSxJQUFXLCtCQUErQixTQUFTO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvZGF0YWJhc2UvbWlncmF0aW9ucy9nZXRNaWdyYXRpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2V0cyBhbGwgZXhpc3RpbmcgbWlncmF0aW9ucyBmcm9tIHRoZSBkYXRhYmFzZSwgZXhjbHVkaW5nIHRoZSBkZXYgbWlncmF0aW9uXG4gKi8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1pZ3JhdGlvbnMoeyBwYXlsb2FkIH0pIHtcbiAgICBjb25zdCBtaWdyYXRpb25RdWVyeSA9IGF3YWl0IHBheWxvYWQuZmluZCh7XG4gICAgICAgIGNvbGxlY3Rpb246ICdwYXlsb2FkLW1pZ3JhdGlvbnMnLFxuICAgICAgICBsaW1pdDogMCxcbiAgICAgICAgc29ydDogW1xuICAgICAgICAgICAgJy1iYXRjaCcsXG4gICAgICAgICAgICAnLW5hbWUnXG4gICAgICAgIF0sXG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBiYXRjaDoge1xuICAgICAgICAgICAgICAgIG5vdF9lcXVhbHM6IC0xXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBleGlzdGluZ01pZ3JhdGlvbnMgPSBtaWdyYXRpb25RdWVyeS5kb2NzO1xuICAgIC8vIEdldCB0aGUgaGlnaGVzdCBiYXRjaCBudW1iZXIgZnJvbSBleGlzdGluZyBtaWdyYXRpb25zXG4gICAgY29uc3QgbGF0ZXN0QmF0Y2ggPSBOdW1iZXIoZXhpc3RpbmdNaWdyYXRpb25zPy5bMF0/LmJhdGNoKSB8fCAwO1xuICAgIHJldHVybiB7XG4gICAgICAgIGV4aXN0aW5nTWlncmF0aW9ucyxcbiAgICAgICAgbGF0ZXN0QmF0Y2hcbiAgICB9O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRNaWdyYXRpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getMigrations.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getPredefinedMigration.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getPredefinedMigration.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPredefinedMigration: () => (/* binding */ getPredefinedMigration)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! url */ \"url\");\n\n\n\n/**\n * Get predefined migration 'up', 'down' and 'imports'\n */ const getPredefinedMigration = async ({ dirname, file, migrationName: migrationNameArg, payload })=>{\n    // Check for predefined migration.\n    // Either passed in via --file or prefixed with '@payloadcms/db-mongodb/' for example\n    const importPath = file ?? migrationNameArg;\n    if (importPath?.startsWith('@payloadcms/db-')) {\n        // removes the package name from the migrationName.\n        const migrationName = importPath.split('/').slice(2).join('/');\n        let cleanPath = path__WEBPACK_IMPORTED_MODULE_1__.join(dirname, `./predefinedMigrations/${migrationName}`);\n        if (fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(`${cleanPath}.mjs`)) {\n            cleanPath = `${cleanPath}.mjs`;\n        } else if (fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(`${cleanPath}.js`)) {\n            cleanPath = `${cleanPath}.js`;\n        } else {\n            payload.logger.error({\n                msg: `Canned migration ${migrationName} not found.`\n            });\n            process.exit(1);\n        }\n        cleanPath = cleanPath.replaceAll('\\\\', '/');\n        const moduleURL = (0,url__WEBPACK_IMPORTED_MODULE_2__.pathToFileURL)(cleanPath);\n        try {\n            const { downSQL, imports, upSQL } = await eval(`import('${moduleURL.href}')`);\n            return {\n                downSQL,\n                imports,\n                upSQL\n            };\n        } catch (err) {\n            payload.logger.error({\n                err,\n                msg: `Error loading predefined migration ${migrationName}`\n            });\n            process.exit(1);\n        }\n    } else if (importPath) {\n        try {\n            const { downSQL, imports, upSQL } = await eval(`import('${importPath}')`);\n            return {\n                downSQL,\n                imports,\n                upSQL\n            };\n        } catch (_err) {\n            if (importPath?.includes('/')) {\n                // We can assume that the intent was to import a file, thus we throw an error.\n                throw new Error(`Error importing migration file from ${importPath}`);\n            }\n            // Silently fail. If the migration cannot be imported, it will be created as a blank migration and the import path will be used as the migration name.\n            return {};\n        }\n    }\n    return {};\n};\n\n//# sourceMappingURL=getPredefinedMigration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL2dldFByZWRlZmluZWRNaWdyYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvQjtBQUNJO0FBQ1k7QUFDcEM7QUFDQTtBQUNBLElBQVcsd0NBQXdDLHlEQUF5RDtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0NBQVMsb0NBQW9DLGNBQWM7QUFDbkYsWUFBWSwwQ0FBYSxJQUFJLFVBQVU7QUFDdkMsMkJBQTJCLFVBQVU7QUFDckMsVUFBVSxTQUFTLDBDQUFhLElBQUksVUFBVTtBQUM5QywyQkFBMkIsVUFBVTtBQUNyQyxVQUFVO0FBQ1Y7QUFDQSx5Q0FBeUMsZUFBZTtBQUN4RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtEQUFhO0FBQ3ZDO0FBQ0Esb0JBQW9CLDBCQUEwQix3QkFBd0IsZUFBZTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSwyREFBMkQsY0FBYztBQUN6RSxhQUFhO0FBQ2I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLG9CQUFvQiwwQkFBMEIsd0JBQXdCLFdBQVc7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsdUVBQXVFLFdBQVc7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL2dldFByZWRlZmluZWRNaWdyYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgcGF0aFRvRmlsZVVSTCB9IGZyb20gJ3VybCc7XG4vKipcbiAqIEdldCBwcmVkZWZpbmVkIG1pZ3JhdGlvbiAndXAnLCAnZG93bicgYW5kICdpbXBvcnRzJ1xuICovIGV4cG9ydCBjb25zdCBnZXRQcmVkZWZpbmVkTWlncmF0aW9uID0gYXN5bmMgKHsgZGlybmFtZSwgZmlsZSwgbWlncmF0aW9uTmFtZTogbWlncmF0aW9uTmFtZUFyZywgcGF5bG9hZCB9KT0+e1xuICAgIC8vIENoZWNrIGZvciBwcmVkZWZpbmVkIG1pZ3JhdGlvbi5cbiAgICAvLyBFaXRoZXIgcGFzc2VkIGluIHZpYSAtLWZpbGUgb3IgcHJlZml4ZWQgd2l0aCAnQHBheWxvYWRjbXMvZGItbW9uZ29kYi8nIGZvciBleGFtcGxlXG4gICAgY29uc3QgaW1wb3J0UGF0aCA9IGZpbGUgPz8gbWlncmF0aW9uTmFtZUFyZztcbiAgICBpZiAoaW1wb3J0UGF0aD8uc3RhcnRzV2l0aCgnQHBheWxvYWRjbXMvZGItJykpIHtcbiAgICAgICAgLy8gcmVtb3ZlcyB0aGUgcGFja2FnZSBuYW1lIGZyb20gdGhlIG1pZ3JhdGlvbk5hbWUuXG4gICAgICAgIGNvbnN0IG1pZ3JhdGlvbk5hbWUgPSBpbXBvcnRQYXRoLnNwbGl0KCcvJykuc2xpY2UoMikuam9pbignLycpO1xuICAgICAgICBsZXQgY2xlYW5QYXRoID0gcGF0aC5qb2luKGRpcm5hbWUsIGAuL3ByZWRlZmluZWRNaWdyYXRpb25zLyR7bWlncmF0aW9uTmFtZX1gKTtcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoYCR7Y2xlYW5QYXRofS5tanNgKSkge1xuICAgICAgICAgICAgY2xlYW5QYXRoID0gYCR7Y2xlYW5QYXRofS5tanNgO1xuICAgICAgICB9IGVsc2UgaWYgKGZzLmV4aXN0c1N5bmMoYCR7Y2xlYW5QYXRofS5qc2ApKSB7XG4gICAgICAgICAgICBjbGVhblBhdGggPSBgJHtjbGVhblBhdGh9LmpzYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBheWxvYWQubG9nZ2VyLmVycm9yKHtcbiAgICAgICAgICAgICAgICBtc2c6IGBDYW5uZWQgbWlncmF0aW9uICR7bWlncmF0aW9uTmFtZX0gbm90IGZvdW5kLmBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFuUGF0aCA9IGNsZWFuUGF0aC5yZXBsYWNlQWxsKCdcXFxcJywgJy8nKTtcbiAgICAgICAgY29uc3QgbW9kdWxlVVJMID0gcGF0aFRvRmlsZVVSTChjbGVhblBhdGgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBkb3duU1FMLCBpbXBvcnRzLCB1cFNRTCB9ID0gYXdhaXQgZXZhbChgaW1wb3J0KCcke21vZHVsZVVSTC5ocmVmfScpYCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRvd25TUUwsXG4gICAgICAgICAgICAgICAgaW1wb3J0cyxcbiAgICAgICAgICAgICAgICB1cFNRTFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgICAgIG1zZzogYEVycm9yIGxvYWRpbmcgcHJlZGVmaW5lZCBtaWdyYXRpb24gJHttaWdyYXRpb25OYW1lfWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChpbXBvcnRQYXRoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRvd25TUUwsIGltcG9ydHMsIHVwU1FMIH0gPSBhd2FpdCBldmFsKGBpbXBvcnQoJyR7aW1wb3J0UGF0aH0nKWApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkb3duU1FMLFxuICAgICAgICAgICAgICAgIGltcG9ydHMsXG4gICAgICAgICAgICAgICAgdXBTUUxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgICAgIGlmIChpbXBvcnRQYXRoPy5pbmNsdWRlcygnLycpKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuIGFzc3VtZSB0aGF0IHRoZSBpbnRlbnQgd2FzIHRvIGltcG9ydCBhIGZpbGUsIHRodXMgd2UgdGhyb3cgYW4gZXJyb3IuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBpbXBvcnRpbmcgbWlncmF0aW9uIGZpbGUgZnJvbSAke2ltcG9ydFBhdGh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTaWxlbnRseSBmYWlsLiBJZiB0aGUgbWlncmF0aW9uIGNhbm5vdCBiZSBpbXBvcnRlZCwgaXQgd2lsbCBiZSBjcmVhdGVkIGFzIGEgYmxhbmsgbWlncmF0aW9uIGFuZCB0aGUgaW1wb3J0IHBhdGggd2lsbCBiZSB1c2VkIGFzIHRoZSBtaWdyYXRpb24gbmFtZS5cbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge307XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRQcmVkZWZpbmVkTWlncmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getPredefinedMigration.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrate.js":
/*!**********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrate.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   migrate: () => (/* binding */ migrate)\n/* harmony export */ });\n/* harmony import */ var _utilities_commitTransaction_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utilities/commitTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/commitTransaction.js\");\n/* harmony import */ var _utilities_createLocalReq_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utilities/createLocalReq.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/createLocalReq.js\");\n/* harmony import */ var _utilities_initTransaction_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utilities/initTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/initTransaction.js\");\n/* harmony import */ var _utilities_killTransaction_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utilities/killTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/killTransaction.js\");\n/* harmony import */ var _getMigrations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getMigrations.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getMigrations.js\");\n/* harmony import */ var _readMigrationFiles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./readMigrationFiles.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/readMigrationFiles.js\");\n// @ts-strict-ignore\n\n\n\n\n\n\nconst migrate = async function migrate(args) {\n    const { payload } = this;\n    const migrationFiles = args?.migrations || await (0,_readMigrationFiles_js__WEBPACK_IMPORTED_MODULE_0__.readMigrationFiles)({\n        payload\n    });\n    const { existingMigrations, latestBatch } = await (0,_getMigrations_js__WEBPACK_IMPORTED_MODULE_1__.getMigrations)({\n        payload\n    });\n    const newBatch = latestBatch + 1;\n    // Execute 'up' function for each migration sequentially\n    for (const migration of migrationFiles){\n        const existingMigration = existingMigrations.find((existing)=>existing.name === migration.name);\n        // Run migration if not found in database\n        if (existingMigration) {\n            continue;\n        }\n        const start = Date.now();\n        const req = await (0,_utilities_createLocalReq_js__WEBPACK_IMPORTED_MODULE_2__.createLocalReq)({}, payload);\n        payload.logger.info({\n            msg: `Migrating: ${migration.name}`\n        });\n        try {\n            await (0,_utilities_initTransaction_js__WEBPACK_IMPORTED_MODULE_3__.initTransaction)(req);\n            const session = payload.db.sessions?.[await req.transactionID];\n            await migration.up({\n                payload,\n                req,\n                session\n            });\n            payload.logger.info({\n                msg: `Migrated:  ${migration.name} (${Date.now() - start}ms)`\n            });\n            await payload.create({\n                collection: 'payload-migrations',\n                data: {\n                    name: migration.name,\n                    batch: newBatch\n                },\n                req\n            });\n            await (0,_utilities_commitTransaction_js__WEBPACK_IMPORTED_MODULE_4__.commitTransaction)(req);\n        } catch (err) {\n            await (0,_utilities_killTransaction_js__WEBPACK_IMPORTED_MODULE_5__.killTransaction)(req);\n            payload.logger.error({\n                err,\n                msg: `Error running migration ${migration.name}`\n            });\n            throw err;\n        }\n    }\n};\n\n//# sourceMappingURL=migrate.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL21pZ3JhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ3lFO0FBQ047QUFDRTtBQUNBO0FBQ2xCO0FBQ1U7QUFDdEQ7QUFDUCxZQUFZLFVBQVU7QUFDdEIscURBQXFELDBFQUFrQjtBQUN2RTtBQUNBLEtBQUs7QUFDTCxZQUFZLGtDQUFrQyxRQUFRLGdFQUFhO0FBQ25FO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0RUFBYyxHQUFHO0FBQzNDO0FBQ0EsK0JBQStCLGVBQWU7QUFDOUMsU0FBUztBQUNUO0FBQ0Esa0JBQWtCLDhFQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxtQ0FBbUMsZ0JBQWdCLEdBQUcsbUJBQW1CO0FBQ3pFLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiLGtCQUFrQixrRkFBaUI7QUFDbkMsVUFBVTtBQUNWLGtCQUFrQiw4RUFBZTtBQUNqQztBQUNBO0FBQ0EsZ0RBQWdELGVBQWU7QUFDL0QsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvZGF0YWJhc2UvbWlncmF0aW9ucy9taWdyYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1zdHJpY3QtaWdub3JlXG5pbXBvcnQgeyBjb21taXRUcmFuc2FjdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9jb21taXRUcmFuc2FjdGlvbi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVMb2NhbFJlcSB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9jcmVhdGVMb2NhbFJlcS5qcyc7XG5pbXBvcnQgeyBpbml0VHJhbnNhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaW5pdFRyYW5zYWN0aW9uLmpzJztcbmltcG9ydCB7IGtpbGxUcmFuc2FjdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9raWxsVHJhbnNhY3Rpb24uanMnO1xuaW1wb3J0IHsgZ2V0TWlncmF0aW9ucyB9IGZyb20gJy4vZ2V0TWlncmF0aW9ucy5qcyc7XG5pbXBvcnQgeyByZWFkTWlncmF0aW9uRmlsZXMgfSBmcm9tICcuL3JlYWRNaWdyYXRpb25GaWxlcy5qcyc7XG5leHBvcnQgY29uc3QgbWlncmF0ZSA9IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGUoYXJncykge1xuICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gdGhpcztcbiAgICBjb25zdCBtaWdyYXRpb25GaWxlcyA9IGFyZ3M/Lm1pZ3JhdGlvbnMgfHwgYXdhaXQgcmVhZE1pZ3JhdGlvbkZpbGVzKHtcbiAgICAgICAgcGF5bG9hZFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZXhpc3RpbmdNaWdyYXRpb25zLCBsYXRlc3RCYXRjaCB9ID0gYXdhaXQgZ2V0TWlncmF0aW9ucyh7XG4gICAgICAgIHBheWxvYWRcbiAgICB9KTtcbiAgICBjb25zdCBuZXdCYXRjaCA9IGxhdGVzdEJhdGNoICsgMTtcbiAgICAvLyBFeGVjdXRlICd1cCcgZnVuY3Rpb24gZm9yIGVhY2ggbWlncmF0aW9uIHNlcXVlbnRpYWxseVxuICAgIGZvciAoY29uc3QgbWlncmF0aW9uIG9mIG1pZ3JhdGlvbkZpbGVzKXtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdNaWdyYXRpb24gPSBleGlzdGluZ01pZ3JhdGlvbnMuZmluZCgoZXhpc3RpbmcpPT5leGlzdGluZy5uYW1lID09PSBtaWdyYXRpb24ubmFtZSk7XG4gICAgICAgIC8vIFJ1biBtaWdyYXRpb24gaWYgbm90IGZvdW5kIGluIGRhdGFiYXNlXG4gICAgICAgIGlmIChleGlzdGluZ01pZ3JhdGlvbikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCByZXEgPSBhd2FpdCBjcmVhdGVMb2NhbFJlcSh7fSwgcGF5bG9hZCk7XG4gICAgICAgIHBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICAgICAgbXNnOiBgTWlncmF0aW5nOiAke21pZ3JhdGlvbi5uYW1lfWBcbiAgICAgICAgfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBpbml0VHJhbnNhY3Rpb24ocmVxKTtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBwYXlsb2FkLmRiLnNlc3Npb25zPy5bYXdhaXQgcmVxLnRyYW5zYWN0aW9uSURdO1xuICAgICAgICAgICAgYXdhaXQgbWlncmF0aW9uLnVwKHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBzZXNzaW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICAgICAgICAgIG1zZzogYE1pZ3JhdGVkOiAgJHttaWdyYXRpb24ubmFtZX0gKCR7RGF0ZS5ub3coKSAtIHN0YXJ0fW1zKWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgcGF5bG9hZC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246ICdwYXlsb2FkLW1pZ3JhdGlvbnMnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbWlncmF0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoOiBuZXdCYXRjaFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IGNvbW1pdFRyYW5zYWN0aW9uKHJlcSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgYXdhaXQga2lsbFRyYW5zYWN0aW9uKHJlcSk7XG4gICAgICAgICAgICBwYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgICAgIG1zZzogYEVycm9yIHJ1bm5pbmcgbWlncmF0aW9uICR7bWlncmF0aW9uLm5hbWV9YFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1taWdyYXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrate.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateDown.js":
/*!**************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateDown.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   migrateDown: () => (/* binding */ migrateDown)\n/* harmony export */ });\n/* harmony import */ var _utilities_commitTransaction_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utilities/commitTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/commitTransaction.js\");\n/* harmony import */ var _utilities_createLocalReq_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utilities/createLocalReq.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/createLocalReq.js\");\n/* harmony import */ var _utilities_initTransaction_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utilities/initTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/initTransaction.js\");\n/* harmony import */ var _utilities_killTransaction_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utilities/killTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/killTransaction.js\");\n/* harmony import */ var _getMigrations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getMigrations.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getMigrations.js\");\n/* harmony import */ var _readMigrationFiles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./readMigrationFiles.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/readMigrationFiles.js\");\n// @ts-strict-ignore\n\n\n\n\n\n\nasync function migrateDown() {\n    const { payload } = this;\n    const migrationFiles = await (0,_readMigrationFiles_js__WEBPACK_IMPORTED_MODULE_0__.readMigrationFiles)({\n        payload\n    });\n    const { existingMigrations, latestBatch } = await (0,_getMigrations_js__WEBPACK_IMPORTED_MODULE_1__.getMigrations)({\n        payload\n    });\n    if (!existingMigrations?.length) {\n        payload.logger.info({\n            msg: 'No migrations to rollback.'\n        });\n        return;\n    }\n    payload.logger.info({\n        msg: `Rolling back batch ${latestBatch} consisting of ${existingMigrations.length} migration(s).`\n    });\n    const latestBatchMigrations = existingMigrations.filter(({ batch })=>batch === latestBatch);\n    for (const migration of latestBatchMigrations){\n        const migrationFile = migrationFiles.find((m)=>m.name === migration.name);\n        if (!migrationFile) {\n            throw new Error(`Migration ${migration.name} not found locally.`);\n        }\n        const start = Date.now();\n        const req = await (0,_utilities_createLocalReq_js__WEBPACK_IMPORTED_MODULE_2__.createLocalReq)({}, payload);\n        try {\n            payload.logger.info({\n                msg: `Migrating down: ${migrationFile.name}`\n            });\n            await (0,_utilities_initTransaction_js__WEBPACK_IMPORTED_MODULE_3__.initTransaction)(req);\n            const session = payload.db.sessions?.[await req.transactionID];\n            await migrationFile.down({\n                payload,\n                req,\n                session\n            });\n            payload.logger.info({\n                msg: `Migrated down:  ${migrationFile.name} (${Date.now() - start}ms)`\n            });\n            // Waiting for implementation here\n            await payload.delete({\n                id: migration.id,\n                collection: 'payload-migrations',\n                req\n            });\n            await (0,_utilities_commitTransaction_js__WEBPACK_IMPORTED_MODULE_4__.commitTransaction)(req);\n        } catch (err) {\n            await (0,_utilities_killTransaction_js__WEBPACK_IMPORTED_MODULE_5__.killTransaction)(req);\n            payload.logger.error({\n                err,\n                msg: `Error running migration ${migrationFile.name}`\n            });\n            process.exit(1);\n        }\n    }\n}\n\n//# sourceMappingURL=migrateDown.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL21pZ3JhdGVEb3duLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUN5RTtBQUNOO0FBQ0U7QUFDQTtBQUNsQjtBQUNVO0FBQ3REO0FBQ1AsWUFBWSxVQUFVO0FBQ3RCLGlDQUFpQywwRUFBa0I7QUFDbkQ7QUFDQSxLQUFLO0FBQ0wsWUFBWSxrQ0FBa0MsUUFBUSxnRUFBYTtBQUNuRTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGFBQWEsZ0JBQWdCLDJCQUEyQjtBQUMzRixLQUFLO0FBQ0wsK0RBQStELE9BQU87QUFDdEU7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGdCQUFnQjtBQUN6RDtBQUNBO0FBQ0EsMEJBQTBCLDRFQUFjLEdBQUc7QUFDM0M7QUFDQTtBQUNBLHdDQUF3QyxtQkFBbUI7QUFDM0QsYUFBYTtBQUNiLGtCQUFrQiw4RUFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esd0NBQXdDLG9CQUFvQixHQUFHLG1CQUFtQjtBQUNsRixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixrQkFBa0Isa0ZBQWlCO0FBQ25DLFVBQVU7QUFDVixrQkFBa0IsOEVBQWU7QUFDakM7QUFDQTtBQUNBLGdEQUFnRCxtQkFBbUI7QUFDbkUsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvZGF0YWJhc2UvbWlncmF0aW9ucy9taWdyYXRlRG93bi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtc3RyaWN0LWlnbm9yZVxuaW1wb3J0IHsgY29tbWl0VHJhbnNhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvY29tbWl0VHJhbnNhY3Rpb24uanMnO1xuaW1wb3J0IHsgY3JlYXRlTG9jYWxSZXEgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvY3JlYXRlTG9jYWxSZXEuanMnO1xuaW1wb3J0IHsgaW5pdFRyYW5zYWN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2luaXRUcmFuc2FjdGlvbi5qcyc7XG5pbXBvcnQgeyBraWxsVHJhbnNhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMva2lsbFRyYW5zYWN0aW9uLmpzJztcbmltcG9ydCB7IGdldE1pZ3JhdGlvbnMgfSBmcm9tICcuL2dldE1pZ3JhdGlvbnMuanMnO1xuaW1wb3J0IHsgcmVhZE1pZ3JhdGlvbkZpbGVzIH0gZnJvbSAnLi9yZWFkTWlncmF0aW9uRmlsZXMuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGVEb3duKCkge1xuICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gdGhpcztcbiAgICBjb25zdCBtaWdyYXRpb25GaWxlcyA9IGF3YWl0IHJlYWRNaWdyYXRpb25GaWxlcyh7XG4gICAgICAgIHBheWxvYWRcbiAgICB9KTtcbiAgICBjb25zdCB7IGV4aXN0aW5nTWlncmF0aW9ucywgbGF0ZXN0QmF0Y2ggfSA9IGF3YWl0IGdldE1pZ3JhdGlvbnMoe1xuICAgICAgICBwYXlsb2FkXG4gICAgfSk7XG4gICAgaWYgKCFleGlzdGluZ01pZ3JhdGlvbnM/Lmxlbmd0aCkge1xuICAgICAgICBwYXlsb2FkLmxvZ2dlci5pbmZvKHtcbiAgICAgICAgICAgIG1zZzogJ05vIG1pZ3JhdGlvbnMgdG8gcm9sbGJhY2suJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwYXlsb2FkLmxvZ2dlci5pbmZvKHtcbiAgICAgICAgbXNnOiBgUm9sbGluZyBiYWNrIGJhdGNoICR7bGF0ZXN0QmF0Y2h9IGNvbnNpc3Rpbmcgb2YgJHtleGlzdGluZ01pZ3JhdGlvbnMubGVuZ3RofSBtaWdyYXRpb24ocykuYFxuICAgIH0pO1xuICAgIGNvbnN0IGxhdGVzdEJhdGNoTWlncmF0aW9ucyA9IGV4aXN0aW5nTWlncmF0aW9ucy5maWx0ZXIoKHsgYmF0Y2ggfSk9PmJhdGNoID09PSBsYXRlc3RCYXRjaCk7XG4gICAgZm9yIChjb25zdCBtaWdyYXRpb24gb2YgbGF0ZXN0QmF0Y2hNaWdyYXRpb25zKXtcbiAgICAgICAgY29uc3QgbWlncmF0aW9uRmlsZSA9IG1pZ3JhdGlvbkZpbGVzLmZpbmQoKG0pPT5tLm5hbWUgPT09IG1pZ3JhdGlvbi5uYW1lKTtcbiAgICAgICAgaWYgKCFtaWdyYXRpb25GaWxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pZ3JhdGlvbiAke21pZ3JhdGlvbi5uYW1lfSBub3QgZm91bmQgbG9jYWxseS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHJlcSA9IGF3YWl0IGNyZWF0ZUxvY2FsUmVxKHt9LCBwYXlsb2FkKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICAgICAgICAgIG1zZzogYE1pZ3JhdGluZyBkb3duOiAke21pZ3JhdGlvbkZpbGUubmFtZX1gXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IGluaXRUcmFuc2FjdGlvbihyZXEpO1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHBheWxvYWQuZGIuc2Vzc2lvbnM/Llthd2FpdCByZXEudHJhbnNhY3Rpb25JRF07XG4gICAgICAgICAgICBhd2FpdCBtaWdyYXRpb25GaWxlLmRvd24oe1xuICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIHNlc3Npb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgICAgICAgICAgbXNnOiBgTWlncmF0ZWQgZG93bjogICR7bWlncmF0aW9uRmlsZS5uYW1lfSAoJHtEYXRlLm5vdygpIC0gc3RhcnR9bXMpYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBXYWl0aW5nIGZvciBpbXBsZW1lbnRhdGlvbiBoZXJlXG4gICAgICAgICAgICBhd2FpdCBwYXlsb2FkLmRlbGV0ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IG1pZ3JhdGlvbi5pZCxcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiAncGF5bG9hZC1taWdyYXRpb25zJyxcbiAgICAgICAgICAgICAgICByZXFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgY29tbWl0VHJhbnNhY3Rpb24ocmVxKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBhd2FpdCBraWxsVHJhbnNhY3Rpb24ocmVxKTtcbiAgICAgICAgICAgIHBheWxvYWQubG9nZ2VyLmVycm9yKHtcbiAgICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICAgICAgbXNnOiBgRXJyb3IgcnVubmluZyBtaWdyYXRpb24gJHttaWdyYXRpb25GaWxlLm5hbWV9YFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pZ3JhdGVEb3duLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateDown.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateRefresh.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateRefresh.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   migrateRefresh: () => (/* binding */ migrateRefresh)\n/* harmony export */ });\n/* harmony import */ var _utilities_commitTransaction_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utilities/commitTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/commitTransaction.js\");\n/* harmony import */ var _utilities_createLocalReq_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utilities/createLocalReq.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/createLocalReq.js\");\n/* harmony import */ var _utilities_initTransaction_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utilities/initTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/initTransaction.js\");\n/* harmony import */ var _utilities_killTransaction_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utilities/killTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/killTransaction.js\");\n/* harmony import */ var _getMigrations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getMigrations.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getMigrations.js\");\n/* harmony import */ var _readMigrationFiles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./readMigrationFiles.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/readMigrationFiles.js\");\n// @ts-strict-ignore\n\n\n\n\n\n\n/**\n * Run all migration down functions before running up\n */ async function migrateRefresh() {\n    const { payload } = this;\n    const migrationFiles = await (0,_readMigrationFiles_js__WEBPACK_IMPORTED_MODULE_0__.readMigrationFiles)({\n        payload\n    });\n    const { existingMigrations } = await (0,_getMigrations_js__WEBPACK_IMPORTED_MODULE_1__.getMigrations)({\n        payload\n    });\n    const req = await (0,_utilities_createLocalReq_js__WEBPACK_IMPORTED_MODULE_2__.createLocalReq)({}, payload);\n    if (existingMigrations?.length) {\n        payload.logger.info({\n            msg: `Rolling back all ${existingMigrations.length} migration(s).`\n        });\n        // Reverse order of migrations to rollback\n        existingMigrations.reverse();\n        for (const migration of existingMigrations){\n            try {\n                const migrationFile = migrationFiles.find((m)=>m.name === migration.name);\n                if (!migrationFile) {\n                    throw new Error(`Migration ${migration.name} not found locally.`);\n                }\n                payload.logger.info({\n                    msg: `Migrating down: ${migration.name}`\n                });\n                const start = Date.now();\n                await (0,_utilities_initTransaction_js__WEBPACK_IMPORTED_MODULE_3__.initTransaction)(req);\n                const session = payload.db.sessions?.[await req.transactionID];\n                await migrationFile.down({\n                    payload,\n                    req,\n                    session\n                });\n                payload.logger.info({\n                    msg: `Migrated down:  ${migration.name} (${Date.now() - start}ms)`\n                });\n                await payload.delete({\n                    collection: 'payload-migrations',\n                    req,\n                    where: {\n                        name: {\n                            equals: migration.name\n                        }\n                    }\n                });\n            } catch (err) {\n                await (0,_utilities_killTransaction_js__WEBPACK_IMPORTED_MODULE_4__.killTransaction)(req);\n                let msg = `Error running migration ${migration.name}. Rolling back.`;\n                if (err instanceof Error) {\n                    msg += ` ${err.message}`;\n                }\n                payload.logger.error({\n                    err,\n                    msg\n                });\n                process.exit(1);\n            }\n        }\n    } else {\n        payload.logger.info({\n            msg: 'No migrations to rollback.'\n        });\n    }\n    // Run all migrate up\n    for (const migration of migrationFiles){\n        payload.logger.info({\n            msg: `Migrating: ${migration.name}`\n        });\n        try {\n            const start = Date.now();\n            await (0,_utilities_initTransaction_js__WEBPACK_IMPORTED_MODULE_3__.initTransaction)(req);\n            await migration.up({\n                payload,\n                req\n            });\n            await payload.create({\n                collection: 'payload-migrations',\n                data: {\n                    name: migration.name,\n                    executed: true\n                },\n                req\n            });\n            await (0,_utilities_commitTransaction_js__WEBPACK_IMPORTED_MODULE_5__.commitTransaction)(req);\n            payload.logger.info({\n                msg: `Migrated:  ${migration.name} (${Date.now() - start}ms)`\n            });\n        } catch (err) {\n            await (0,_utilities_killTransaction_js__WEBPACK_IMPORTED_MODULE_4__.killTransaction)(req);\n            let msg = `Error running migration ${migration.name}. Rolling back.`;\n            if (err instanceof Error) {\n                msg += ` ${err.message}`;\n            }\n            payload.logger.error({\n                err,\n                msg\n            });\n            process.exit(1);\n        }\n    }\n}\n\n//# sourceMappingURL=migrateRefresh.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL21pZ3JhdGVSZWZyZXNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUN5RTtBQUNOO0FBQ0U7QUFDQTtBQUNsQjtBQUNVO0FBQzdEO0FBQ0E7QUFDQSxJQUFXO0FBQ1gsWUFBWSxVQUFVO0FBQ3RCLGlDQUFpQywwRUFBa0I7QUFDbkQ7QUFDQSxLQUFLO0FBQ0wsWUFBWSxxQkFBcUIsUUFBUSxnRUFBYTtBQUN0RDtBQUNBLEtBQUs7QUFDTCxzQkFBc0IsNEVBQWMsR0FBRztBQUN2QztBQUNBO0FBQ0EscUNBQXFDLDJCQUEyQjtBQUNoRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGdCQUFnQjtBQUNqRTtBQUNBO0FBQ0EsNENBQTRDLGVBQWU7QUFDM0QsaUJBQWlCO0FBQ2pCO0FBQ0Esc0JBQXNCLDhFQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSw0Q0FBNEMsZ0JBQWdCLEdBQUcsbUJBQW1CO0FBQ2xGLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZCxzQkFBc0IsOEVBQWU7QUFDckMscURBQXFELGVBQWU7QUFDcEU7QUFDQSwrQkFBK0IsWUFBWTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixlQUFlO0FBQzlDLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCLDhFQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiLGtCQUFrQixrRkFBaUI7QUFDbkM7QUFDQSxtQ0FBbUMsZ0JBQWdCLEdBQUcsbUJBQW1CO0FBQ3pFLGFBQWE7QUFDYixVQUFVO0FBQ1Ysa0JBQWtCLDhFQUFlO0FBQ2pDLGlEQUFpRCxlQUFlO0FBQ2hFO0FBQ0EsMkJBQTJCLFlBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL21pZ3JhdGVSZWZyZXNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1zdHJpY3QtaWdub3JlXG5pbXBvcnQgeyBjb21taXRUcmFuc2FjdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9jb21taXRUcmFuc2FjdGlvbi5qcyc7XG5pbXBvcnQgeyBjcmVhdGVMb2NhbFJlcSB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9jcmVhdGVMb2NhbFJlcS5qcyc7XG5pbXBvcnQgeyBpbml0VHJhbnNhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaW5pdFRyYW5zYWN0aW9uLmpzJztcbmltcG9ydCB7IGtpbGxUcmFuc2FjdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9raWxsVHJhbnNhY3Rpb24uanMnO1xuaW1wb3J0IHsgZ2V0TWlncmF0aW9ucyB9IGZyb20gJy4vZ2V0TWlncmF0aW9ucy5qcyc7XG5pbXBvcnQgeyByZWFkTWlncmF0aW9uRmlsZXMgfSBmcm9tICcuL3JlYWRNaWdyYXRpb25GaWxlcy5qcyc7XG4vKipcbiAqIFJ1biBhbGwgbWlncmF0aW9uIGRvd24gZnVuY3Rpb25zIGJlZm9yZSBydW5uaW5nIHVwXG4gKi8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGVSZWZyZXNoKCkge1xuICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0gdGhpcztcbiAgICBjb25zdCBtaWdyYXRpb25GaWxlcyA9IGF3YWl0IHJlYWRNaWdyYXRpb25GaWxlcyh7XG4gICAgICAgIHBheWxvYWRcbiAgICB9KTtcbiAgICBjb25zdCB7IGV4aXN0aW5nTWlncmF0aW9ucyB9ID0gYXdhaXQgZ2V0TWlncmF0aW9ucyh7XG4gICAgICAgIHBheWxvYWRcbiAgICB9KTtcbiAgICBjb25zdCByZXEgPSBhd2FpdCBjcmVhdGVMb2NhbFJlcSh7fSwgcGF5bG9hZCk7XG4gICAgaWYgKGV4aXN0aW5nTWlncmF0aW9ucz8ubGVuZ3RoKSB7XG4gICAgICAgIHBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICAgICAgbXNnOiBgUm9sbGluZyBiYWNrIGFsbCAke2V4aXN0aW5nTWlncmF0aW9ucy5sZW5ndGh9IG1pZ3JhdGlvbihzKS5gXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSZXZlcnNlIG9yZGVyIG9mIG1pZ3JhdGlvbnMgdG8gcm9sbGJhY2tcbiAgICAgICAgZXhpc3RpbmdNaWdyYXRpb25zLnJldmVyc2UoKTtcbiAgICAgICAgZm9yIChjb25zdCBtaWdyYXRpb24gb2YgZXhpc3RpbmdNaWdyYXRpb25zKXtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWlncmF0aW9uRmlsZSA9IG1pZ3JhdGlvbkZpbGVzLmZpbmQoKG0pPT5tLm5hbWUgPT09IG1pZ3JhdGlvbi5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoIW1pZ3JhdGlvbkZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaWdyYXRpb24gJHttaWdyYXRpb24ubmFtZX0gbm90IGZvdW5kIGxvY2FsbHkuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICAgICAgICAgICAgICBtc2c6IGBNaWdyYXRpbmcgZG93bjogJHttaWdyYXRpb24ubmFtZX1gXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGluaXRUcmFuc2FjdGlvbihyZXEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBwYXlsb2FkLmRiLnNlc3Npb25zPy5bYXdhaXQgcmVxLnRyYW5zYWN0aW9uSURdO1xuICAgICAgICAgICAgICAgIGF3YWl0IG1pZ3JhdGlvbkZpbGUuZG93bih7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICAgICAgICAgICAgICBtc2c6IGBNaWdyYXRlZCBkb3duOiAgJHttaWdyYXRpb24ubmFtZX0gKCR7RGF0ZS5ub3coKSAtIHN0YXJ0fW1zKWBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhd2FpdCBwYXlsb2FkLmRlbGV0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246ICdwYXlsb2FkLW1pZ3JhdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWxzOiBtaWdyYXRpb24ubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBraWxsVHJhbnNhY3Rpb24ocmVxKTtcbiAgICAgICAgICAgICAgICBsZXQgbXNnID0gYEVycm9yIHJ1bm5pbmcgbWlncmF0aW9uICR7bWlncmF0aW9uLm5hbWV9LiBSb2xsaW5nIGJhY2suYDtcbiAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgbXNnICs9IGAgJHtlcnIubWVzc2FnZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICAgICAgICAgbXNnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgICAgICBtc2c6ICdObyBtaWdyYXRpb25zIHRvIHJvbGxiYWNrLidcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFJ1biBhbGwgbWlncmF0ZSB1cFxuICAgIGZvciAoY29uc3QgbWlncmF0aW9uIG9mIG1pZ3JhdGlvbkZpbGVzKXtcbiAgICAgICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgICAgICBtc2c6IGBNaWdyYXRpbmc6ICR7bWlncmF0aW9uLm5hbWV9YFxuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGF3YWl0IGluaXRUcmFuc2FjdGlvbihyZXEpO1xuICAgICAgICAgICAgYXdhaXQgbWlncmF0aW9uLnVwKHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgIHJlcVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBwYXlsb2FkLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbjogJ3BheWxvYWQtbWlncmF0aW9ucycsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtaWdyYXRpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBjb21taXRUcmFuc2FjdGlvbihyZXEpO1xuICAgICAgICAgICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgICAgICAgICAgbXNnOiBgTWlncmF0ZWQ6ICAke21pZ3JhdGlvbi5uYW1lfSAoJHtEYXRlLm5vdygpIC0gc3RhcnR9bXMpYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgYXdhaXQga2lsbFRyYW5zYWN0aW9uKHJlcSk7XG4gICAgICAgICAgICBsZXQgbXNnID0gYEVycm9yIHJ1bm5pbmcgbWlncmF0aW9uICR7bWlncmF0aW9uLm5hbWV9LiBSb2xsaW5nIGJhY2suYDtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIG1zZyArPSBgICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBheWxvYWQubG9nZ2VyLmVycm9yKHtcbiAgICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICAgICAgbXNnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWlncmF0ZVJlZnJlc2guanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateRefresh.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateReset.js":
/*!***************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateReset.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   migrateReset: () => (/* binding */ migrateReset)\n/* harmony export */ });\n/* harmony import */ var _utilities_commitTransaction_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utilities/commitTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/commitTransaction.js\");\n/* harmony import */ var _utilities_createLocalReq_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utilities/createLocalReq.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/createLocalReq.js\");\n/* harmony import */ var _utilities_initTransaction_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utilities/initTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/initTransaction.js\");\n/* harmony import */ var _utilities_killTransaction_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utilities/killTransaction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/killTransaction.js\");\n/* harmony import */ var _getMigrations_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getMigrations.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getMigrations.js\");\n/* harmony import */ var _readMigrationFiles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./readMigrationFiles.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/readMigrationFiles.js\");\n// @ts-strict-ignore\n\n\n\n\n\n\nasync function migrateReset() {\n    const { payload } = this;\n    const migrationFiles = await (0,_readMigrationFiles_js__WEBPACK_IMPORTED_MODULE_0__.readMigrationFiles)({\n        payload\n    });\n    const { existingMigrations } = await (0,_getMigrations_js__WEBPACK_IMPORTED_MODULE_1__.getMigrations)({\n        payload\n    });\n    if (!existingMigrations?.length) {\n        payload.logger.info({\n            msg: 'No migrations to reset.'\n        });\n        return;\n    }\n    const req = await (0,_utilities_createLocalReq_js__WEBPACK_IMPORTED_MODULE_2__.createLocalReq)({}, payload);\n    // Rollback all migrations in order\n    for (const migration of migrationFiles){\n        // Create or update migration in database\n        const existingMigration = existingMigrations.find((existing)=>existing.name === migration.name);\n        if (existingMigration) {\n            payload.logger.info({\n                msg: `Migrating down: ${migration.name}`\n            });\n            try {\n                const start = Date.now();\n                await (0,_utilities_initTransaction_js__WEBPACK_IMPORTED_MODULE_3__.initTransaction)(req);\n                const session = payload.db.sessions?.[await req.transactionID];\n                await migration.down({\n                    payload,\n                    req,\n                    session\n                });\n                await payload.delete({\n                    collection: 'payload-migrations',\n                    req,\n                    where: {\n                        id: {\n                            equals: existingMigration.id\n                        }\n                    }\n                });\n                await (0,_utilities_commitTransaction_js__WEBPACK_IMPORTED_MODULE_4__.commitTransaction)(req);\n                payload.logger.info({\n                    msg: `Migrated down:  ${migration.name} (${Date.now() - start}ms)`\n                });\n            } catch (err) {\n                await (0,_utilities_killTransaction_js__WEBPACK_IMPORTED_MODULE_5__.killTransaction)(req);\n                payload.logger.error({\n                    err,\n                    msg: `Error running migration ${migration.name}`\n                });\n                throw err;\n            }\n        }\n    }\n    // Delete dev migration\n    try {\n        await payload.delete({\n            collection: 'payload-migrations',\n            where: {\n                batch: {\n                    equals: -1\n                }\n            }\n        });\n    } catch (err) {\n        payload.logger.error({\n            err,\n            msg: 'Error deleting dev migration'\n        });\n    }\n}\n\n//# sourceMappingURL=migrateReset.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL21pZ3JhdGVSZXNldC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDeUU7QUFDTjtBQUNFO0FBQ0E7QUFDbEI7QUFDVTtBQUN0RDtBQUNQLFlBQVksVUFBVTtBQUN0QixpQ0FBaUMsMEVBQWtCO0FBQ25EO0FBQ0EsS0FBSztBQUNMLFlBQVkscUJBQXFCLFFBQVEsZ0VBQWE7QUFDdEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxzQkFBc0IsNEVBQWMsR0FBRztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBZTtBQUN2RCxhQUFhO0FBQ2I7QUFDQTtBQUNBLHNCQUFzQiw4RUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsc0JBQXNCLGtGQUFpQjtBQUN2QztBQUNBLDRDQUE0QyxnQkFBZ0IsR0FBRyxtQkFBbUI7QUFDbEYsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZCxzQkFBc0IsOEVBQWU7QUFDckM7QUFDQTtBQUNBLG9EQUFvRCxlQUFlO0FBQ25FLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL21pZ3JhdGVSZXNldC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtc3RyaWN0LWlnbm9yZVxuaW1wb3J0IHsgY29tbWl0VHJhbnNhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvY29tbWl0VHJhbnNhY3Rpb24uanMnO1xuaW1wb3J0IHsgY3JlYXRlTG9jYWxSZXEgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvY3JlYXRlTG9jYWxSZXEuanMnO1xuaW1wb3J0IHsgaW5pdFRyYW5zYWN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2luaXRUcmFuc2FjdGlvbi5qcyc7XG5pbXBvcnQgeyBraWxsVHJhbnNhY3Rpb24gfSBmcm9tICcuLi8uLi91dGlsaXRpZXMva2lsbFRyYW5zYWN0aW9uLmpzJztcbmltcG9ydCB7IGdldE1pZ3JhdGlvbnMgfSBmcm9tICcuL2dldE1pZ3JhdGlvbnMuanMnO1xuaW1wb3J0IHsgcmVhZE1pZ3JhdGlvbkZpbGVzIH0gZnJvbSAnLi9yZWFkTWlncmF0aW9uRmlsZXMuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZ3JhdGVSZXNldCgpIHtcbiAgICBjb25zdCB7IHBheWxvYWQgfSA9IHRoaXM7XG4gICAgY29uc3QgbWlncmF0aW9uRmlsZXMgPSBhd2FpdCByZWFkTWlncmF0aW9uRmlsZXMoe1xuICAgICAgICBwYXlsb2FkXG4gICAgfSk7XG4gICAgY29uc3QgeyBleGlzdGluZ01pZ3JhdGlvbnMgfSA9IGF3YWl0IGdldE1pZ3JhdGlvbnMoe1xuICAgICAgICBwYXlsb2FkXG4gICAgfSk7XG4gICAgaWYgKCFleGlzdGluZ01pZ3JhdGlvbnM/Lmxlbmd0aCkge1xuICAgICAgICBwYXlsb2FkLmxvZ2dlci5pbmZvKHtcbiAgICAgICAgICAgIG1zZzogJ05vIG1pZ3JhdGlvbnMgdG8gcmVzZXQuJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXEgPSBhd2FpdCBjcmVhdGVMb2NhbFJlcSh7fSwgcGF5bG9hZCk7XG4gICAgLy8gUm9sbGJhY2sgYWxsIG1pZ3JhdGlvbnMgaW4gb3JkZXJcbiAgICBmb3IgKGNvbnN0IG1pZ3JhdGlvbiBvZiBtaWdyYXRpb25GaWxlcyl7XG4gICAgICAgIC8vIENyZWF0ZSBvciB1cGRhdGUgbWlncmF0aW9uIGluIGRhdGFiYXNlXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTWlncmF0aW9uID0gZXhpc3RpbmdNaWdyYXRpb25zLmZpbmQoKGV4aXN0aW5nKT0+ZXhpc3RpbmcubmFtZSA9PT0gbWlncmF0aW9uLm5hbWUpO1xuICAgICAgICBpZiAoZXhpc3RpbmdNaWdyYXRpb24pIHtcbiAgICAgICAgICAgIHBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICAgICAgICAgIG1zZzogYE1pZ3JhdGluZyBkb3duOiAke21pZ3JhdGlvbi5uYW1lfWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgaW5pdFRyYW5zYWN0aW9uKHJlcSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHBheWxvYWQuZGIuc2Vzc2lvbnM/Llthd2FpdCByZXEudHJhbnNhY3Rpb25JRF07XG4gICAgICAgICAgICAgICAgYXdhaXQgbWlncmF0aW9uLmRvd24oe1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhd2FpdCBwYXlsb2FkLmRlbGV0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246ICdwYXlsb2FkLW1pZ3JhdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWFsczogZXhpc3RpbmdNaWdyYXRpb24uaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbW1pdFRyYW5zYWN0aW9uKHJlcSk7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgICAgICAgICAgICAgIG1zZzogYE1pZ3JhdGVkIGRvd246ICAke21pZ3JhdGlvbi5uYW1lfSAoJHtEYXRlLm5vdygpIC0gc3RhcnR9bXMpYFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQga2lsbFRyYW5zYWN0aW9uKHJlcSk7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5sb2dnZXIuZXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICAgICAgICAgIG1zZzogYEVycm9yIHJ1bm5pbmcgbWlncmF0aW9uICR7bWlncmF0aW9uLm5hbWV9YFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBEZWxldGUgZGV2IG1pZ3JhdGlvblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHBheWxvYWQuZGVsZXRlKHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb246ICdwYXlsb2FkLW1pZ3JhdGlvbnMnLFxuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBiYXRjaDoge1xuICAgICAgICAgICAgICAgICAgICBlcXVhbHM6IC0xXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcGF5bG9hZC5sb2dnZXIuZXJyb3Ioe1xuICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgbXNnOiAnRXJyb3IgZGVsZXRpbmcgZGV2IG1pZ3JhdGlvbidcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1taWdyYXRlUmVzZXQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateReset.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateStatus.js":
/*!****************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateStatus.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   migrateStatus: () => (/* binding */ migrateStatus)\n/* harmony export */ });\n/* harmony import */ var console_table_printer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! console-table-printer */ \"(rsc)/../../../../node_modules/.pnpm/console-table-printer@2.12.1/node_modules/console-table-printer/dist/index.js\");\n/* harmony import */ var _getMigrations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getMigrations.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/getMigrations.js\");\n/* harmony import */ var _readMigrationFiles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./readMigrationFiles.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/readMigrationFiles.js\");\n\n\n\nasync function migrateStatus() {\n    const { payload } = this;\n    const migrationFiles = await (0,_readMigrationFiles_js__WEBPACK_IMPORTED_MODULE_1__.readMigrationFiles)({\n        payload\n    });\n    payload.logger.debug({\n        msg: `Found ${migrationFiles.length} migration files.`\n    });\n    const { existingMigrations } = await (0,_getMigrations_js__WEBPACK_IMPORTED_MODULE_2__.getMigrations)({\n        payload\n    });\n    if (!migrationFiles.length) {\n        payload.logger.info({\n            msg: 'No migrations found.'\n        });\n        return;\n    }\n    // Compare migration files to existing migrations\n    const statuses = migrationFiles.map((migration)=>{\n        const existingMigration = existingMigrations.find((m)=>m.name === migration.name);\n        return {\n            Name: migration.name,\n            Batch: existingMigration?.batch,\n            Ran: existingMigration ? 'Yes' : 'No'\n        };\n    });\n    const p = new console_table_printer__WEBPACK_IMPORTED_MODULE_0__.Table();\n    statuses.forEach((s)=>{\n        p.addRow(s, {\n            color: s.Ran === 'Yes' ? 'green' : 'red'\n        });\n    });\n    p.printTable();\n}\n\n//# sourceMappingURL=migrateStatus.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL21pZ3JhdGVTdGF0dXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE4QztBQUNLO0FBQ1U7QUFDdEQ7QUFDUCxZQUFZLFVBQVU7QUFDdEIsaUNBQWlDLDBFQUFrQjtBQUNuRDtBQUNBLEtBQUs7QUFDTDtBQUNBLHNCQUFzQix1QkFBdUI7QUFDN0MsS0FBSztBQUNMLFlBQVkscUJBQXFCLFFBQVEsZ0VBQWE7QUFDdEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQix3REFBSztBQUN2QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL21pZ3JhdGVTdGF0dXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGFibGUgfSBmcm9tICdjb25zb2xlLXRhYmxlLXByaW50ZXInO1xuaW1wb3J0IHsgZ2V0TWlncmF0aW9ucyB9IGZyb20gJy4vZ2V0TWlncmF0aW9ucy5qcyc7XG5pbXBvcnQgeyByZWFkTWlncmF0aW9uRmlsZXMgfSBmcm9tICcuL3JlYWRNaWdyYXRpb25GaWxlcy5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZVN0YXR1cygpIHtcbiAgICBjb25zdCB7IHBheWxvYWQgfSA9IHRoaXM7XG4gICAgY29uc3QgbWlncmF0aW9uRmlsZXMgPSBhd2FpdCByZWFkTWlncmF0aW9uRmlsZXMoe1xuICAgICAgICBwYXlsb2FkXG4gICAgfSk7XG4gICAgcGF5bG9hZC5sb2dnZXIuZGVidWcoe1xuICAgICAgICBtc2c6IGBGb3VuZCAke21pZ3JhdGlvbkZpbGVzLmxlbmd0aH0gbWlncmF0aW9uIGZpbGVzLmBcbiAgICB9KTtcbiAgICBjb25zdCB7IGV4aXN0aW5nTWlncmF0aW9ucyB9ID0gYXdhaXQgZ2V0TWlncmF0aW9ucyh7XG4gICAgICAgIHBheWxvYWRcbiAgICB9KTtcbiAgICBpZiAoIW1pZ3JhdGlvbkZpbGVzLmxlbmd0aCkge1xuICAgICAgICBwYXlsb2FkLmxvZ2dlci5pbmZvKHtcbiAgICAgICAgICAgIG1zZzogJ05vIG1pZ3JhdGlvbnMgZm91bmQuJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBDb21wYXJlIG1pZ3JhdGlvbiBmaWxlcyB0byBleGlzdGluZyBtaWdyYXRpb25zXG4gICAgY29uc3Qgc3RhdHVzZXMgPSBtaWdyYXRpb25GaWxlcy5tYXAoKG1pZ3JhdGlvbik9PntcbiAgICAgICAgY29uc3QgZXhpc3RpbmdNaWdyYXRpb24gPSBleGlzdGluZ01pZ3JhdGlvbnMuZmluZCgobSk9Pm0ubmFtZSA9PT0gbWlncmF0aW9uLm5hbWUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgTmFtZTogbWlncmF0aW9uLm5hbWUsXG4gICAgICAgICAgICBCYXRjaDogZXhpc3RpbmdNaWdyYXRpb24/LmJhdGNoLFxuICAgICAgICAgICAgUmFuOiBleGlzdGluZ01pZ3JhdGlvbiA/ICdZZXMnIDogJ05vJ1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHAgPSBuZXcgVGFibGUoKTtcbiAgICBzdGF0dXNlcy5mb3JFYWNoKChzKT0+e1xuICAgICAgICBwLmFkZFJvdyhzLCB7XG4gICAgICAgICAgICBjb2xvcjogcy5SYW4gPT09ICdZZXMnID8gJ2dyZWVuJyA6ICdyZWQnXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHAucHJpbnRUYWJsZSgpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1taWdyYXRlU3RhdHVzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrateStatus.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrationTemplate.js":
/*!********************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrationTemplate.js ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   migrationTemplate: () => (/* binding */ migrationTemplate)\n/* harmony export */ });\nconst migrationTemplate = `\nimport {\n  MigrateUpArgs,\n  MigrateDownArgs,\n} from \"@payloadcms/db-mongodb\";\n\nexport async function up({ payload, req }: MigrateUpArgs): Promise<void> {\n  // Migration code\n};\n\nexport async function down({ payload, req }: MigrateDownArgs): Promise<void> {\n  // Migration code\n};\n`;\n\n//# sourceMappingURL=migrationTemplate.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL21pZ3JhdGlvblRlbXBsYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUYsMkJBQTJCLGNBQWM7QUFDekM7QUFDQTs7QUFFQSw2QkFBNkIsY0FBYztBQUMzQztBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL21pZ3JhdGlvblRlbXBsYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBtaWdyYXRpb25UZW1wbGF0ZSA9IGBcbmltcG9ydCB7XG4gIE1pZ3JhdGVVcEFyZ3MsXG4gIE1pZ3JhdGVEb3duQXJncyxcbn0gZnJvbSBcIkBwYXlsb2FkY21zL2RiLW1vbmdvZGJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwKHsgcGF5bG9hZCwgcmVxIH06IE1pZ3JhdGVVcEFyZ3MpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gTWlncmF0aW9uIGNvZGVcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkb3duKHsgcGF5bG9hZCwgcmVxIH06IE1pZ3JhdGVEb3duQXJncyk6IFByb21pc2U8dm9pZD4ge1xuICAvLyBNaWdyYXRpb24gY29kZVxufTtcbmA7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pZ3JhdGlvblRlbXBsYXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/migrationTemplate.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/readMigrationFiles.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/readMigrationFiles.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readMigrationFiles: () => (/* binding */ readMigrationFiles)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var node_url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node:url */ \"node:url\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n// @ts-strict-ignore\n\n\n\n/**\n * Read the migration files from disk\n */ const readMigrationFiles = async ({ payload })=>{\n    if (!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(payload.db.migrationDir)) {\n        payload.logger.error({\n            msg: `No migration directory found at ${payload.db.migrationDir}`\n        });\n        return [];\n    }\n    payload.logger.info({\n        msg: `Reading migration files from ${payload.db.migrationDir}`\n    });\n    const files = fs__WEBPACK_IMPORTED_MODULE_0__.readdirSync(payload.db.migrationDir).sort().filter((f)=>{\n        return (f.endsWith('.ts') || f.endsWith('.js')) && f !== 'index.js' && f !== 'index.ts';\n    }).map((file)=>{\n        return path__WEBPACK_IMPORTED_MODULE_2__.resolve(payload.db.migrationDir, file);\n    });\n    return Promise.all(files.map(async (filePath)=>{\n        // eval used to circumvent errors bundling\n        let migration = typeof require === 'function' ? await eval(`require('${filePath.replaceAll('\\\\', '/')}')`) : await eval(`import('${(0,node_url__WEBPACK_IMPORTED_MODULE_1__.pathToFileURL)(filePath).href}')`);\n        if ('default' in migration) {\n            migration = migration.default;\n        }\n        const result = {\n            name: path__WEBPACK_IMPORTED_MODULE_2__.basename(filePath).split('.')?.[0],\n            down: migration.down,\n            up: migration.up\n        };\n        return result;\n    }));\n};\n\n//# sourceMappingURL=readMigrationFiles.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL3JlYWRNaWdyYXRpb25GaWxlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDb0I7QUFDcUI7QUFDakI7QUFDeEI7QUFDQTtBQUNBLElBQVcsb0NBQW9DLFNBQVM7QUFDeEQsU0FBUywwQ0FBYTtBQUN0QjtBQUNBLG9EQUFvRCx3QkFBd0I7QUFDNUUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx3QkFBd0I7QUFDckUsS0FBSztBQUNMLGtCQUFrQiwyQ0FBYztBQUNoQztBQUNBLEtBQUs7QUFDTCxlQUFlLHlDQUFZO0FBQzNCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsK0VBQStFLCtCQUErQiw2QkFBNkIsdURBQWEsZ0JBQWdCO0FBQ3hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBDQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvZGF0YWJhc2UvbWlncmF0aW9ucy9yZWFkTWlncmF0aW9uRmlsZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgeyBwYXRoVG9GaWxlVVJMIH0gZnJvbSAnbm9kZTp1cmwnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG4vKipcbiAqIFJlYWQgdGhlIG1pZ3JhdGlvbiBmaWxlcyBmcm9tIGRpc2tcbiAqLyBleHBvcnQgY29uc3QgcmVhZE1pZ3JhdGlvbkZpbGVzID0gYXN5bmMgKHsgcGF5bG9hZCB9KT0+e1xuICAgIGlmICghZnMuZXhpc3RzU3luYyhwYXlsb2FkLmRiLm1pZ3JhdGlvbkRpcikpIHtcbiAgICAgICAgcGF5bG9hZC5sb2dnZXIuZXJyb3Ioe1xuICAgICAgICAgICAgbXNnOiBgTm8gbWlncmF0aW9uIGRpcmVjdG9yeSBmb3VuZCBhdCAke3BheWxvYWQuZGIubWlncmF0aW9uRGlyfWBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcGF5bG9hZC5sb2dnZXIuaW5mbyh7XG4gICAgICAgIG1zZzogYFJlYWRpbmcgbWlncmF0aW9uIGZpbGVzIGZyb20gJHtwYXlsb2FkLmRiLm1pZ3JhdGlvbkRpcn1gXG4gICAgfSk7XG4gICAgY29uc3QgZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhwYXlsb2FkLmRiLm1pZ3JhdGlvbkRpcikuc29ydCgpLmZpbHRlcigoZik9PntcbiAgICAgICAgcmV0dXJuIChmLmVuZHNXaXRoKCcudHMnKSB8fCBmLmVuZHNXaXRoKCcuanMnKSkgJiYgZiAhPT0gJ2luZGV4LmpzJyAmJiBmICE9PSAnaW5kZXgudHMnO1xuICAgIH0pLm1hcCgoZmlsZSk9PntcbiAgICAgICAgcmV0dXJuIHBhdGgucmVzb2x2ZShwYXlsb2FkLmRiLm1pZ3JhdGlvbkRpciwgZmlsZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVzLm1hcChhc3luYyAoZmlsZVBhdGgpPT57XG4gICAgICAgIC8vIGV2YWwgdXNlZCB0byBjaXJjdW12ZW50IGVycm9ycyBidW5kbGluZ1xuICAgICAgICBsZXQgbWlncmF0aW9uID0gdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicgPyBhd2FpdCBldmFsKGByZXF1aXJlKCcke2ZpbGVQYXRoLnJlcGxhY2VBbGwoJ1xcXFwnLCAnLycpfScpYCkgOiBhd2FpdCBldmFsKGBpbXBvcnQoJyR7cGF0aFRvRmlsZVVSTChmaWxlUGF0aCkuaHJlZn0nKWApO1xuICAgICAgICBpZiAoJ2RlZmF1bHQnIGluIG1pZ3JhdGlvbikge1xuICAgICAgICAgICAgbWlncmF0aW9uID0gbWlncmF0aW9uLmRlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgbmFtZTogcGF0aC5iYXNlbmFtZShmaWxlUGF0aCkuc3BsaXQoJy4nKT8uWzBdLFxuICAgICAgICAgICAgZG93bjogbWlncmF0aW9uLmRvd24sXG4gICAgICAgICAgICB1cDogbWlncmF0aW9uLnVwXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSkpO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhZE1pZ3JhdGlvbkZpbGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/readMigrationFiles.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/writeMigrationIndex.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/writeMigrationIndex.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   writeMigrationIndex: () => (/* binding */ writeMigrationIndex)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var get_tsconfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-tsconfig */ \"(rsc)/../../../../node_modules/.pnpm/get-tsconfig@4.8.1/node_modules/get-tsconfig/dist/index.mjs\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n\n\n\n// Function to get all migration files (TS or JS) excluding 'index'\nconst getMigrationFiles = (dir)=>{\n    return fs__WEBPACK_IMPORTED_MODULE_0__.readdirSync(dir).filter((file)=>(file.endsWith('.ts') || file.endsWith('.js')) && file !== 'index.ts' && file !== 'index.js').sort();\n};\n// Function to generate the index.ts content\nconst generateIndexContent = (files)=>{\n    const tsconfig = (0,get_tsconfig__WEBPACK_IMPORTED_MODULE_1__.getTsconfig)();\n    const importExt = tsconfig?.config?.compilerOptions?.moduleResolution === 'NodeNext' ? '.js' : '';\n    let imports = '';\n    let exportsArray = 'export const migrations = [\\n';\n    files.forEach((file, index)=>{\n        const fileNameWithoutExt = file.replace(/\\.[^/.]+$/, '');\n        imports += `import * as migration_${fileNameWithoutExt} from './${fileNameWithoutExt}${importExt}';\\n`;\n        exportsArray += `  {\n    up: migration_${fileNameWithoutExt}.up,\n    down: migration_${fileNameWithoutExt}.down,\n    name: '${fileNameWithoutExt}'${index !== files.length - 1 ? ',' : ''}\\n  },\\n`;\n    });\n    exportsArray += '];\\n';\n    return imports + '\\n' + exportsArray;\n};\n// Main function to create the index.ts file\nconst writeMigrationIndex = (args)=>{\n    const migrationFiles = getMigrationFiles(args.migrationsDir);\n    const indexContent = generateIndexContent(migrationFiles);\n    fs__WEBPACK_IMPORTED_MODULE_0__.writeFileSync(path__WEBPACK_IMPORTED_MODULE_2__.join(args.migrationsDir, 'index.ts'), indexContent);\n};\n\n//# sourceMappingURL=writeMigrationIndex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL3dyaXRlTWlncmF0aW9uSW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvQjtBQUN1QjtBQUNuQjtBQUN4QjtBQUNBO0FBQ0EsV0FBVywyQ0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIseURBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvQkFBb0IsVUFBVSxtQkFBbUIsRUFBRSxVQUFVLEVBQUU7QUFDM0c7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDLHNCQUFzQixtQkFBbUI7QUFDekMsYUFBYSxtQkFBbUIsR0FBRyxzQ0FBc0MsS0FBSztBQUM5RSxLQUFLO0FBQ0wsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLElBQUksNkNBQWdCLENBQUMsc0NBQVM7QUFDOUI7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9kYXRhYmFzZS9taWdyYXRpb25zL3dyaXRlTWlncmF0aW9uSW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCB7IGdldFRzY29uZmlnIH0gZnJvbSAnZ2V0LXRzY29uZmlnJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuLy8gRnVuY3Rpb24gdG8gZ2V0IGFsbCBtaWdyYXRpb24gZmlsZXMgKFRTIG9yIEpTKSBleGNsdWRpbmcgJ2luZGV4J1xuY29uc3QgZ2V0TWlncmF0aW9uRmlsZXMgPSAoZGlyKT0+e1xuICAgIHJldHVybiBmcy5yZWFkZGlyU3luYyhkaXIpLmZpbHRlcigoZmlsZSk9PihmaWxlLmVuZHNXaXRoKCcudHMnKSB8fCBmaWxlLmVuZHNXaXRoKCcuanMnKSkgJiYgZmlsZSAhPT0gJ2luZGV4LnRzJyAmJiBmaWxlICE9PSAnaW5kZXguanMnKS5zb3J0KCk7XG59O1xuLy8gRnVuY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGluZGV4LnRzIGNvbnRlbnRcbmNvbnN0IGdlbmVyYXRlSW5kZXhDb250ZW50ID0gKGZpbGVzKT0+e1xuICAgIGNvbnN0IHRzY29uZmlnID0gZ2V0VHNjb25maWcoKTtcbiAgICBjb25zdCBpbXBvcnRFeHQgPSB0c2NvbmZpZz8uY29uZmlnPy5jb21waWxlck9wdGlvbnM/Lm1vZHVsZVJlc29sdXRpb24gPT09ICdOb2RlTmV4dCcgPyAnLmpzJyA6ICcnO1xuICAgIGxldCBpbXBvcnRzID0gJyc7XG4gICAgbGV0IGV4cG9ydHNBcnJheSA9ICdleHBvcnQgY29uc3QgbWlncmF0aW9ucyA9IFtcXG4nO1xuICAgIGZpbGVzLmZvckVhY2goKGZpbGUsIGluZGV4KT0+e1xuICAgICAgICBjb25zdCBmaWxlTmFtZVdpdGhvdXRFeHQgPSBmaWxlLnJlcGxhY2UoL1xcLlteLy5dKyQvLCAnJyk7XG4gICAgICAgIGltcG9ydHMgKz0gYGltcG9ydCAqIGFzIG1pZ3JhdGlvbl8ke2ZpbGVOYW1lV2l0aG91dEV4dH0gZnJvbSAnLi8ke2ZpbGVOYW1lV2l0aG91dEV4dH0ke2ltcG9ydEV4dH0nO1xcbmA7XG4gICAgICAgIGV4cG9ydHNBcnJheSArPSBgICB7XG4gICAgdXA6IG1pZ3JhdGlvbl8ke2ZpbGVOYW1lV2l0aG91dEV4dH0udXAsXG4gICAgZG93bjogbWlncmF0aW9uXyR7ZmlsZU5hbWVXaXRob3V0RXh0fS5kb3duLFxuICAgIG5hbWU6ICcke2ZpbGVOYW1lV2l0aG91dEV4dH0nJHtpbmRleCAhPT0gZmlsZXMubGVuZ3RoIC0gMSA/ICcsJyA6ICcnfVxcbiAgfSxcXG5gO1xuICAgIH0pO1xuICAgIGV4cG9ydHNBcnJheSArPSAnXTtcXG4nO1xuICAgIHJldHVybiBpbXBvcnRzICsgJ1xcbicgKyBleHBvcnRzQXJyYXk7XG59O1xuLy8gTWFpbiBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGluZGV4LnRzIGZpbGVcbmV4cG9ydCBjb25zdCB3cml0ZU1pZ3JhdGlvbkluZGV4ID0gKGFyZ3MpPT57XG4gICAgY29uc3QgbWlncmF0aW9uRmlsZXMgPSBnZXRNaWdyYXRpb25GaWxlcyhhcmdzLm1pZ3JhdGlvbnNEaXIpO1xuICAgIGNvbnN0IGluZGV4Q29udGVudCA9IGdlbmVyYXRlSW5kZXhDb250ZW50KG1pZ3JhdGlvbkZpbGVzKTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihhcmdzLm1pZ3JhdGlvbnNEaXIsICdpbmRleC50cycpLCBpbmRleENvbnRlbnQpO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JpdGVNaWdyYXRpb25JbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/migrations/writeMigrationIndex.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/APIError.js":
/*!**********************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/APIError.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIError: () => (/* binding */ APIError),\n/* harmony export */   APIErrorName: () => (/* binding */ APIErrorName)\n/* harmony export */ });\n/* harmony import */ var http_status__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! http-status */ \"(rsc)/../../../../node_modules/.pnpm/http-status@2.1.0/node_modules/http-status/dist/index.js\");\n// @ts-strict-ignore\n\n// This gets dynamically reassigned during compilation\nlet APIErrorName = 'APIError';\nclass ExtendableError extends Error {\n    data;\n    isOperational;\n    isPublic;\n    status;\n    constructor(message, status, data, isPublic){\n        super(message, {\n            // show data in cause\n            cause: data\n        });\n        APIErrorName = this.constructor.name;\n        this.name = this.constructor.name;\n        this.message = message;\n        this.status = status;\n        this.data = data;\n        this.isPublic = isPublic;\n        this.isOperational = true // This is required since bluebird 4 doesn't append it anymore.\n        ;\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\n/**\n * Class representing an API error.\n * @extends ExtendableError\n */ class APIError extends ExtendableError {\n    /**\n   * Creates an API error.\n   * @param {string} message - Error message.\n   * @param {number} status - HTTP status code of error.\n   * @param {object} data - response data to be returned.\n   * @param {boolean} isPublic - Whether the message should be visible to user or not.\n   */ constructor(message, status = http_status__WEBPACK_IMPORTED_MODULE_0__.status.INTERNAL_SERVER_ERROR, data = null, isPublic = false){\n        super(message, status, data, isPublic);\n    }\n}\n\n//# sourceMappingURL=APIError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9lcnJvcnMvQVBJRXJyb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDbUQ7QUFDbkQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVztBQUNYO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEIsb0NBQW9DLCtDQUFVO0FBQzlDO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L2Vycm9ycy9BUElFcnJvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtc3RyaWN0LWlnbm9yZVxuaW1wb3J0IHsgc3RhdHVzIGFzIGh0dHBTdGF0dXMgfSBmcm9tICdodHRwLXN0YXR1cyc7XG4vLyBUaGlzIGdldHMgZHluYW1pY2FsbHkgcmVhc3NpZ25lZCBkdXJpbmcgY29tcGlsYXRpb25cbmV4cG9ydCBsZXQgQVBJRXJyb3JOYW1lID0gJ0FQSUVycm9yJztcbmNsYXNzIEV4dGVuZGFibGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBkYXRhO1xuICAgIGlzT3BlcmF0aW9uYWw7XG4gICAgaXNQdWJsaWM7XG4gICAgc3RhdHVzO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cywgZGF0YSwgaXNQdWJsaWMpe1xuICAgICAgICBzdXBlcihtZXNzYWdlLCB7XG4gICAgICAgICAgICAvLyBzaG93IGRhdGEgaW4gY2F1c2VcbiAgICAgICAgICAgIGNhdXNlOiBkYXRhXG4gICAgICAgIH0pO1xuICAgICAgICBBUElFcnJvck5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuaXNQdWJsaWMgPSBpc1B1YmxpYztcbiAgICAgICAgdGhpcy5pc09wZXJhdGlvbmFsID0gdHJ1ZSAvLyBUaGlzIGlzIHJlcXVpcmVkIHNpbmNlIGJsdWViaXJkIDQgZG9lc24ndCBhcHBlbmQgaXQgYW55bW9yZS5cbiAgICAgICAgO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhbiBBUEkgZXJyb3IuXG4gKiBAZXh0ZW5kcyBFeHRlbmRhYmxlRXJyb3JcbiAqLyBleHBvcnQgY2xhc3MgQVBJRXJyb3IgZXh0ZW5kcyBFeHRlbmRhYmxlRXJyb3Ige1xuICAgIC8qKlxuICAgKiBDcmVhdGVzIGFuIEFQSSBlcnJvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBFcnJvciBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzIC0gSFRUUCBzdGF0dXMgY29kZSBvZiBlcnJvci5cbiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSByZXNwb25zZSBkYXRhIHRvIGJlIHJldHVybmVkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUHVibGljIC0gV2hldGhlciB0aGUgbWVzc2FnZSBzaG91bGQgYmUgdmlzaWJsZSB0byB1c2VyIG9yIG5vdC5cbiAgICovIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cyA9IGh0dHBTdGF0dXMuSU5URVJOQUxfU0VSVkVSX0VSUk9SLCBkYXRhID0gbnVsbCwgaXNQdWJsaWMgPSBmYWxzZSl7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXR1cywgZGF0YSwgaXNQdWJsaWMpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QVBJRXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/APIError.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/Forbidden.js":
/*!***********************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/Forbidden.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Forbidden: () => (/* binding */ Forbidden)\n/* harmony export */ });\n/* harmony import */ var _payloadcms_translations_languages_en__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @payloadcms/translations/languages/en */ \"(rsc)/../../../../node_modules/.pnpm/@payloadcms+translations@3.39.1/node_modules/@payloadcms/translations/dist/languages/en.js\");\n/* harmony import */ var http_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! http-status */ \"(rsc)/../../../../node_modules/.pnpm/http-status@2.1.0/node_modules/http-status/dist/index.js\");\n/* harmony import */ var _APIError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./APIError.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/APIError.js\");\n\n\n\nclass Forbidden extends _APIError_js__WEBPACK_IMPORTED_MODULE_2__.APIError {\n    constructor(t){\n        super(t ? t('error:notAllowedToPerformAction') : _payloadcms_translations_languages_en__WEBPACK_IMPORTED_MODULE_0__.en.translations.error.notAllowedToPerformAction, http_status__WEBPACK_IMPORTED_MODULE_1__.status.FORBIDDEN);\n    }\n}\n\n//# sourceMappingURL=Forbidden.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9lcnJvcnMvRm9yYmlkZGVuLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkQ7QUFDUjtBQUNWO0FBQ2xDLHdCQUF3QixrREFBUTtBQUN2QztBQUNBLHlEQUF5RCxxRUFBRSwrQ0FBK0MsK0NBQVU7QUFDcEg7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L2Vycm9ycy9Gb3JiaWRkZW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW4gfSBmcm9tICdAcGF5bG9hZGNtcy90cmFuc2xhdGlvbnMvbGFuZ3VhZ2VzL2VuJztcbmltcG9ydCB7IHN0YXR1cyBhcyBodHRwU3RhdHVzIH0gZnJvbSAnaHR0cC1zdGF0dXMnO1xuaW1wb3J0IHsgQVBJRXJyb3IgfSBmcm9tICcuL0FQSUVycm9yLmpzJztcbmV4cG9ydCBjbGFzcyBGb3JiaWRkZW4gZXh0ZW5kcyBBUElFcnJvciB7XG4gICAgY29uc3RydWN0b3IodCl7XG4gICAgICAgIHN1cGVyKHQgPyB0KCdlcnJvcjpub3RBbGxvd2VkVG9QZXJmb3JtQWN0aW9uJykgOiBlbi50cmFuc2xhdGlvbnMuZXJyb3Iubm90QWxsb3dlZFRvUGVyZm9ybUFjdGlvbiwgaHR0cFN0YXR1cy5GT1JCSURERU4pO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Rm9yYmlkZGVuLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/Forbidden.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/InvalidConfiguration.js":
/*!**********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/InvalidConfiguration.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidConfiguration: () => (/* binding */ InvalidConfiguration)\n/* harmony export */ });\n/* harmony import */ var http_status__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! http-status */ \"(rsc)/../../../../node_modules/.pnpm/http-status@2.1.0/node_modules/http-status/dist/index.js\");\n/* harmony import */ var _APIError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./APIError.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/APIError.js\");\n\n\nclass InvalidConfiguration extends _APIError_js__WEBPACK_IMPORTED_MODULE_1__.APIError {\n    constructor(message){\n        super(message, http_status__WEBPACK_IMPORTED_MODULE_0__.status.INTERNAL_SERVER_ERROR);\n    }\n}\n\n//# sourceMappingURL=InvalidConfiguration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9lcnJvcnMvSW52YWxpZENvbmZpZ3VyYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1EO0FBQ1Y7QUFDbEMsbUNBQW1DLGtEQUFRO0FBQ2xEO0FBQ0EsdUJBQXVCLCtDQUFVO0FBQ2pDO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9lcnJvcnMvSW52YWxpZENvbmZpZ3VyYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RhdHVzIGFzIGh0dHBTdGF0dXMgfSBmcm9tICdodHRwLXN0YXR1cyc7XG5pbXBvcnQgeyBBUElFcnJvciB9IGZyb20gJy4vQVBJRXJyb3IuanMnO1xuZXhwb3J0IGNsYXNzIEludmFsaWRDb25maWd1cmF0aW9uIGV4dGVuZHMgQVBJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2Upe1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBodHRwU3RhdHVzLklOVEVSTkFMX1NFUlZFUl9FUlJPUik7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnZhbGlkQ29uZmlndXJhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/InvalidConfiguration.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/QueryError.js":
/*!************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/QueryError.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryError: () => (/* binding */ QueryError)\n/* harmony export */ });\n/* harmony import */ var http_status__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! http-status */ \"(rsc)/../../../../node_modules/.pnpm/http-status@2.1.0/node_modules/http-status/dist/index.js\");\n/* harmony import */ var _APIError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./APIError.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/APIError.js\");\n\n\nclass QueryError extends _APIError_js__WEBPACK_IMPORTED_MODULE_1__.APIError {\n    constructor(results){\n        const message = `The following path${results.length === 1 ? '' : 's'} cannot be queried:`;\n        super(`${message} ${results.map((err)=>err.path).join(', ')}`, http_status__WEBPACK_IMPORTED_MODULE_0__.status.BAD_REQUEST, results);\n    }\n}\n\n//# sourceMappingURL=QueryError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9lcnJvcnMvUXVlcnlFcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUQ7QUFDVjtBQUNsQyx5QkFBeUIsa0RBQVE7QUFDeEM7QUFDQSw2Q0FBNkMsaUNBQWlDO0FBQzlFLGlCQUFpQixTQUFTLEVBQUUsd0NBQXdDLEdBQUcsK0NBQVU7QUFDakY7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L2Vycm9ycy9RdWVyeUVycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0YXR1cyBhcyBodHRwU3RhdHVzIH0gZnJvbSAnaHR0cC1zdGF0dXMnO1xuaW1wb3J0IHsgQVBJRXJyb3IgfSBmcm9tICcuL0FQSUVycm9yLmpzJztcbmV4cG9ydCBjbGFzcyBRdWVyeUVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHJlc3VsdHMpe1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYFRoZSBmb2xsb3dpbmcgcGF0aCR7cmVzdWx0cy5sZW5ndGggPT09IDEgPyAnJyA6ICdzJ30gY2Fubm90IGJlIHF1ZXJpZWQ6YDtcbiAgICAgICAgc3VwZXIoYCR7bWVzc2FnZX0gJHtyZXN1bHRzLm1hcCgoZXJyKT0+ZXJyLnBhdGgpLmpvaW4oJywgJyl9YCwgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgcmVzdWx0cyk7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1RdWVyeUVycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/QueryError.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/ValidationError.js":
/*!*****************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/ValidationError.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ValidationError: () => (/* binding */ ValidationError),\n/* harmony export */   ValidationErrorName: () => (/* binding */ ValidationErrorName)\n/* harmony export */ });\n/* harmony import */ var _payloadcms_translations_languages_en__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @payloadcms/translations/languages/en */ \"(rsc)/../../../../node_modules/.pnpm/@payloadcms+translations@3.39.1/node_modules/@payloadcms/translations/dist/languages/en.js\");\n/* harmony import */ var http_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! http-status */ \"(rsc)/../../../../node_modules/.pnpm/http-status@2.1.0/node_modules/http-status/dist/index.js\");\n/* harmony import */ var _APIError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./APIError.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/APIError.js\");\n\n\n\n// This gets dynamically reassigned during compilation\nlet ValidationErrorName = 'ValidationError';\nclass ValidationError extends _APIError_js__WEBPACK_IMPORTED_MODULE_2__.APIError {\n    constructor(results, t){\n        const message = t ? t('error:followingFieldsInvalid', {\n            count: results.errors.length\n        }) : results.errors.length === 1 ? _payloadcms_translations_languages_en__WEBPACK_IMPORTED_MODULE_0__.en.translations.error.followingFieldsInvalid_one : _payloadcms_translations_languages_en__WEBPACK_IMPORTED_MODULE_0__.en.translations.error.followingFieldsInvalid_other;\n        const req = results.req;\n        // delete to avoid logging the whole req\n        delete results['req'];\n        super(`${message} ${results.errors.map((f)=>{\n            if (f.label) {\n                if (typeof f.label === 'function') {\n                    if (!req || !req.i18n || !req.t) {\n                        return f.path;\n                    }\n                    return f.label({\n                        i18n: req.i18n,\n                        t: req.t\n                    });\n                }\n                if (typeof f.label === 'object') {\n                    if (req?.i18n?.language) {\n                        return f.label[req.i18n.language];\n                    }\n                    return f.label[Object.keys(f.label)[0]];\n                }\n                return f.label;\n            }\n            return f.path;\n        }).join(', ')}`, http_status__WEBPACK_IMPORTED_MODULE_1__.status.BAD_REQUEST, results);\n        ValidationErrorName = this.constructor.name;\n    }\n}\n\n//# sourceMappingURL=ValidationError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9lcnJvcnMvVmFsaWRhdGlvbkVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJEO0FBQ1I7QUFDVjtBQUN6QztBQUNPO0FBQ0EsOEJBQThCLGtEQUFRO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsa0NBQWtDLHFFQUFFLGlEQUFpRCxxRUFBRTtBQUNoRztBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUyxFQUFFO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGFBQWEsR0FBRywrQ0FBVTtBQUNuQztBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9lcnJvcnMvVmFsaWRhdGlvbkVycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVuIH0gZnJvbSAnQHBheWxvYWRjbXMvdHJhbnNsYXRpb25zL2xhbmd1YWdlcy9lbic7XG5pbXBvcnQgeyBzdGF0dXMgYXMgaHR0cFN0YXR1cyB9IGZyb20gJ2h0dHAtc3RhdHVzJztcbmltcG9ydCB7IEFQSUVycm9yIH0gZnJvbSAnLi9BUElFcnJvci5qcyc7XG4vLyBUaGlzIGdldHMgZHluYW1pY2FsbHkgcmVhc3NpZ25lZCBkdXJpbmcgY29tcGlsYXRpb25cbmV4cG9ydCBsZXQgVmFsaWRhdGlvbkVycm9yTmFtZSA9ICdWYWxpZGF0aW9uRXJyb3InO1xuZXhwb3J0IGNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZXN1bHRzLCB0KXtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHQgPyB0KCdlcnJvcjpmb2xsb3dpbmdGaWVsZHNJbnZhbGlkJywge1xuICAgICAgICAgICAgY291bnQ6IHJlc3VsdHMuZXJyb3JzLmxlbmd0aFxuICAgICAgICB9KSA6IHJlc3VsdHMuZXJyb3JzLmxlbmd0aCA9PT0gMSA/IGVuLnRyYW5zbGF0aW9ucy5lcnJvci5mb2xsb3dpbmdGaWVsZHNJbnZhbGlkX29uZSA6IGVuLnRyYW5zbGF0aW9ucy5lcnJvci5mb2xsb3dpbmdGaWVsZHNJbnZhbGlkX290aGVyO1xuICAgICAgICBjb25zdCByZXEgPSByZXN1bHRzLnJlcTtcbiAgICAgICAgLy8gZGVsZXRlIHRvIGF2b2lkIGxvZ2dpbmcgdGhlIHdob2xlIHJlcVxuICAgICAgICBkZWxldGUgcmVzdWx0c1sncmVxJ107XG4gICAgICAgIHN1cGVyKGAke21lc3NhZ2V9ICR7cmVzdWx0cy5lcnJvcnMubWFwKChmKT0+e1xuICAgICAgICAgICAgaWYgKGYubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYubGFiZWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXEgfHwgIXJlcS5pMThuIHx8ICFyZXEudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGYucGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZi5sYWJlbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpMThuOiByZXEuaTE4bixcbiAgICAgICAgICAgICAgICAgICAgICAgIHQ6IHJlcS50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYubGFiZWwgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXE/LmkxOG4/Lmxhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZi5sYWJlbFtyZXEuaTE4bi5sYW5ndWFnZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGYubGFiZWxbT2JqZWN0LmtleXMoZi5sYWJlbClbMF1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZi5sYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmLnBhdGg7XG4gICAgICAgIH0pLmpvaW4oJywgJyl9YCwgaHR0cFN0YXR1cy5CQURfUkVRVUVTVCwgcmVzdWx0cyk7XG4gICAgICAgIFZhbGlkYXRpb25FcnJvck5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WYWxpZGF0aW9uRXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/ValidationError.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js":
/*!**************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fieldAffectsData: () => (/* binding */ fieldAffectsData),\n/* harmony export */   fieldHasMaxDepth: () => (/* binding */ fieldHasMaxDepth),\n/* harmony export */   fieldHasSubFields: () => (/* binding */ fieldHasSubFields),\n/* harmony export */   fieldIsArrayType: () => (/* binding */ fieldIsArrayType),\n/* harmony export */   fieldIsBlockType: () => (/* binding */ fieldIsBlockType),\n/* harmony export */   fieldIsGroupType: () => (/* binding */ fieldIsGroupType),\n/* harmony export */   fieldIsHiddenOrDisabled: () => (/* binding */ fieldIsHiddenOrDisabled),\n/* harmony export */   fieldIsID: () => (/* binding */ fieldIsID),\n/* harmony export */   fieldIsLocalized: () => (/* binding */ fieldIsLocalized),\n/* harmony export */   fieldIsPresentationalOnly: () => (/* binding */ fieldIsPresentationalOnly),\n/* harmony export */   fieldIsSidebar: () => (/* binding */ fieldIsSidebar),\n/* harmony export */   fieldIsVirtual: () => (/* binding */ fieldIsVirtual),\n/* harmony export */   fieldShouldBeLocalized: () => (/* binding */ fieldShouldBeLocalized),\n/* harmony export */   fieldSupportsMany: () => (/* binding */ fieldSupportsMany),\n/* harmony export */   groupHasName: () => (/* binding */ groupHasName),\n/* harmony export */   optionIsObject: () => (/* binding */ optionIsObject),\n/* harmony export */   optionIsValue: () => (/* binding */ optionIsValue),\n/* harmony export */   optionsAreObjects: () => (/* binding */ optionsAreObjects),\n/* harmony export */   tabHasName: () => (/* binding */ tabHasName),\n/* harmony export */   valueIsValueWithRelation: () => (/* binding */ valueIsValueWithRelation)\n/* harmony export */ });\n// @ts-strict-ignore\n/* eslint-disable @typescript-eslint/no-explicit-any */ function valueIsValueWithRelation(value) {\n    return value !== null && typeof value === 'object' && 'relationTo' in value && 'value' in value;\n}\nfunction fieldHasSubFields(field) {\n    return field.type === 'group' || field.type === 'array' || field.type === 'row' || field.type === 'collapsible';\n}\nfunction fieldIsArrayType(field) {\n    return field.type === 'array';\n}\nfunction fieldIsBlockType(field) {\n    return field.type === 'blocks';\n}\nfunction fieldIsGroupType(field) {\n    return field.type === 'group';\n}\nfunction optionIsObject(option) {\n    return typeof option === 'object';\n}\nfunction optionsAreObjects(options) {\n    return Array.isArray(options) && typeof options?.[0] === 'object';\n}\nfunction optionIsValue(option) {\n    return typeof option === 'string';\n}\nfunction fieldSupportsMany(field) {\n    return field.type === 'select' || field.type === 'relationship' || field.type === 'upload';\n}\nfunction fieldHasMaxDepth(field) {\n    return (field.type === 'upload' || field.type === 'relationship' || field.type === 'join') && typeof field.maxDepth === 'number';\n}\nfunction fieldIsPresentationalOnly(field) {\n    return field.type === 'ui';\n}\nfunction fieldIsSidebar(field) {\n    return 'admin' in field && 'position' in field.admin && field.admin.position === 'sidebar';\n}\nfunction fieldIsID(field) {\n    return 'name' in field && field.name === 'id';\n}\nfunction fieldIsHiddenOrDisabled(field) {\n    return 'hidden' in field && field.hidden || 'admin' in field && 'disabled' in field.admin && field.admin.disabled;\n}\nfunction fieldAffectsData(field) {\n    return 'name' in field && !fieldIsPresentationalOnly(field);\n}\nfunction tabHasName(tab) {\n    return 'name' in tab;\n}\nfunction groupHasName(group) {\n    return 'name' in group;\n}\n/**\n * Check if a field has localized: true set. This does not check if a field *should*\n * be localized. To check if a field should be localized, use `fieldShouldBeLocalized`.\n *\n * @deprecated this will be removed or modified in v4.0, as `fieldIsLocalized` can easily lead to bugs due to\n * parent field localization not being taken into account.\n */ function fieldIsLocalized(field) {\n    return 'localized' in field && field.localized;\n}\n/**\n * Similar to `fieldIsLocalized`, but returns `false` if any parent field is localized.\n */ function fieldShouldBeLocalized({ field, parentIsLocalized }) {\n    return 'localized' in field && field.localized && (!parentIsLocalized || process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized === 'true');\n}\nfunction fieldIsVirtual(field) {\n    return 'virtual' in field && Boolean(field.virtual);\n}\n\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9maWVsZHMvY29uZmlnL3R5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSx3REFBK0Q7QUFDL0Q7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVcsa0NBQWtDLDBCQUEwQjtBQUN2RTtBQUNBO0FBQ087QUFDUDtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvZmllbGRzL2NvbmZpZy90eXBlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtc3RyaWN0LWlnbm9yZVxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqLyBleHBvcnQgZnVuY3Rpb24gdmFsdWVJc1ZhbHVlV2l0aFJlbGF0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgJ3JlbGF0aW9uVG8nIGluIHZhbHVlICYmICd2YWx1ZScgaW4gdmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZmllbGRIYXNTdWJGaWVsZHMoZmllbGQpIHtcbiAgICByZXR1cm4gZmllbGQudHlwZSA9PT0gJ2dyb3VwJyB8fCBmaWVsZC50eXBlID09PSAnYXJyYXknIHx8IGZpZWxkLnR5cGUgPT09ICdyb3cnIHx8IGZpZWxkLnR5cGUgPT09ICdjb2xsYXBzaWJsZSc7XG59XG5leHBvcnQgZnVuY3Rpb24gZmllbGRJc0FycmF5VHlwZShmaWVsZCkge1xuICAgIHJldHVybiBmaWVsZC50eXBlID09PSAnYXJyYXknO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpZWxkSXNCbG9ja1R5cGUoZmllbGQpIHtcbiAgICByZXR1cm4gZmllbGQudHlwZSA9PT0gJ2Jsb2Nrcyc7XG59XG5leHBvcnQgZnVuY3Rpb24gZmllbGRJc0dyb3VwVHlwZShmaWVsZCkge1xuICAgIHJldHVybiBmaWVsZC50eXBlID09PSAnZ3JvdXAnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbklzT2JqZWN0KG9wdGlvbikge1xuICAgIHJldHVybiB0eXBlb2Ygb3B0aW9uID09PSAnb2JqZWN0Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcHRpb25zQXJlT2JqZWN0cyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgdHlwZW9mIG9wdGlvbnM/LlswXSA9PT0gJ29iamVjdCc7XG59XG5leHBvcnQgZnVuY3Rpb24gb3B0aW9uSXNWYWx1ZShvcHRpb24pIHtcbiAgICByZXR1cm4gdHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnQgZnVuY3Rpb24gZmllbGRTdXBwb3J0c01hbnkoZmllbGQpIHtcbiAgICByZXR1cm4gZmllbGQudHlwZSA9PT0gJ3NlbGVjdCcgfHwgZmllbGQudHlwZSA9PT0gJ3JlbGF0aW9uc2hpcCcgfHwgZmllbGQudHlwZSA9PT0gJ3VwbG9hZCc7XG59XG5leHBvcnQgZnVuY3Rpb24gZmllbGRIYXNNYXhEZXB0aChmaWVsZCkge1xuICAgIHJldHVybiAoZmllbGQudHlwZSA9PT0gJ3VwbG9hZCcgfHwgZmllbGQudHlwZSA9PT0gJ3JlbGF0aW9uc2hpcCcgfHwgZmllbGQudHlwZSA9PT0gJ2pvaW4nKSAmJiB0eXBlb2YgZmllbGQubWF4RGVwdGggPT09ICdudW1iZXInO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpZWxkSXNQcmVzZW50YXRpb25hbE9ubHkoZmllbGQpIHtcbiAgICByZXR1cm4gZmllbGQudHlwZSA9PT0gJ3VpJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWVsZElzU2lkZWJhcihmaWVsZCkge1xuICAgIHJldHVybiAnYWRtaW4nIGluIGZpZWxkICYmICdwb3NpdGlvbicgaW4gZmllbGQuYWRtaW4gJiYgZmllbGQuYWRtaW4ucG9zaXRpb24gPT09ICdzaWRlYmFyJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWVsZElzSUQoZmllbGQpIHtcbiAgICByZXR1cm4gJ25hbWUnIGluIGZpZWxkICYmIGZpZWxkLm5hbWUgPT09ICdpZCc7XG59XG5leHBvcnQgZnVuY3Rpb24gZmllbGRJc0hpZGRlbk9yRGlzYWJsZWQoZmllbGQpIHtcbiAgICByZXR1cm4gJ2hpZGRlbicgaW4gZmllbGQgJiYgZmllbGQuaGlkZGVuIHx8ICdhZG1pbicgaW4gZmllbGQgJiYgJ2Rpc2FibGVkJyBpbiBmaWVsZC5hZG1pbiAmJiBmaWVsZC5hZG1pbi5kaXNhYmxlZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWVsZEFmZmVjdHNEYXRhKGZpZWxkKSB7XG4gICAgcmV0dXJuICduYW1lJyBpbiBmaWVsZCAmJiAhZmllbGRJc1ByZXNlbnRhdGlvbmFsT25seShmaWVsZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdGFiSGFzTmFtZSh0YWIpIHtcbiAgICByZXR1cm4gJ25hbWUnIGluIHRhYjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBncm91cEhhc05hbWUoZ3JvdXApIHtcbiAgICByZXR1cm4gJ25hbWUnIGluIGdyb3VwO1xufVxuLyoqXG4gKiBDaGVjayBpZiBhIGZpZWxkIGhhcyBsb2NhbGl6ZWQ6IHRydWUgc2V0LiBUaGlzIGRvZXMgbm90IGNoZWNrIGlmIGEgZmllbGQgKnNob3VsZCpcbiAqIGJlIGxvY2FsaXplZC4gVG8gY2hlY2sgaWYgYSBmaWVsZCBzaG91bGQgYmUgbG9jYWxpemVkLCB1c2UgYGZpZWxkU2hvdWxkQmVMb2NhbGl6ZWRgLlxuICpcbiAqIEBkZXByZWNhdGVkIHRoaXMgd2lsbCBiZSByZW1vdmVkIG9yIG1vZGlmaWVkIGluIHY0LjAsIGFzIGBmaWVsZElzTG9jYWxpemVkYCBjYW4gZWFzaWx5IGxlYWQgdG8gYnVncyBkdWUgdG9cbiAqIHBhcmVudCBmaWVsZCBsb2NhbGl6YXRpb24gbm90IGJlaW5nIHRha2VuIGludG8gYWNjb3VudC5cbiAqLyBleHBvcnQgZnVuY3Rpb24gZmllbGRJc0xvY2FsaXplZChmaWVsZCkge1xuICAgIHJldHVybiAnbG9jYWxpemVkJyBpbiBmaWVsZCAmJiBmaWVsZC5sb2NhbGl6ZWQ7XG59XG4vKipcbiAqIFNpbWlsYXIgdG8gYGZpZWxkSXNMb2NhbGl6ZWRgLCBidXQgcmV0dXJucyBgZmFsc2VgIGlmIGFueSBwYXJlbnQgZmllbGQgaXMgbG9jYWxpemVkLlxuICovIGV4cG9ydCBmdW5jdGlvbiBmaWVsZFNob3VsZEJlTG9jYWxpemVkKHsgZmllbGQsIHBhcmVudElzTG9jYWxpemVkIH0pIHtcbiAgICByZXR1cm4gJ2xvY2FsaXplZCcgaW4gZmllbGQgJiYgZmllbGQubG9jYWxpemVkICYmICghcGFyZW50SXNMb2NhbGl6ZWQgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUEFZTE9BRF9DT01QQVRJQklMSVRZX2FsbG93TG9jYWxpemVkV2l0aGluTG9jYWxpemVkID09PSAndHJ1ZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpZWxkSXNWaXJ0dWFsKGZpZWxkKSB7XG4gICAgcmV0dXJuICd2aXJ0dWFsJyBpbiBmaWVsZCAmJiBCb29sZWFuKGZpZWxkLnZpcnR1YWwpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/config/index.js":
/*!**************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/config/index.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDefaultJobsCollection: () => (/* binding */ getDefaultJobsCollection),\n/* harmony export */   jobAfterRead: () => (/* binding */ jobAfterRead),\n/* harmony export */   jobsCollectionSlug: () => (/* binding */ jobsCollectionSlug)\n/* harmony export */ });\n/* harmony import */ var _restEndpointRun_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../restEndpointRun.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/restEndpointRun.js\");\n/* harmony import */ var _utilities_getJobTaskStatus_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/getJobTaskStatus.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/utilities/getJobTaskStatus.js\");\n\n\nconst jobsCollectionSlug = 'payload-jobs';\nconst getDefaultJobsCollection = (config)=>{\n    const workflowSlugs = new Set();\n    const taskSlugs = new Set([\n        'inline'\n    ]);\n    if (config.jobs?.workflows?.length) {\n        config.jobs?.workflows.forEach((workflow)=>{\n            workflowSlugs.add(workflow.slug);\n        });\n    }\n    if (config.jobs?.tasks?.length) {\n        config.jobs.tasks.forEach((task)=>{\n            if (workflowSlugs.has(task.slug)) {\n                throw new Error(`Task slug \"${task.slug}\" is already used by a workflow. No tasks are allowed to have the same slug as a workflow.`);\n            }\n            taskSlugs.add(task.slug);\n        });\n    }\n    const logFields = [\n        {\n            name: 'executedAt',\n            type: 'date',\n            required: true\n        },\n        {\n            name: 'completedAt',\n            type: 'date',\n            required: true\n        },\n        {\n            name: 'taskSlug',\n            type: 'select',\n            options: [\n                ...taskSlugs\n            ],\n            required: true\n        },\n        {\n            name: 'taskID',\n            type: 'text',\n            required: true\n        },\n        {\n            name: 'input',\n            type: 'json'\n        },\n        {\n            name: 'output',\n            type: 'json'\n        },\n        {\n            name: 'state',\n            type: 'radio',\n            options: [\n                'failed',\n                'succeeded'\n            ],\n            required: true\n        },\n        {\n            name: 'error',\n            type: 'json',\n            admin: {\n                condition: (_, data)=>data.state === 'failed'\n            },\n            required: true\n        }\n    ];\n    if (config?.jobs?.addParentToTaskLog) {\n        logFields.push({\n            name: 'parent',\n            type: 'group',\n            fields: [\n                {\n                    name: 'taskSlug',\n                    type: 'select',\n                    options: [\n                        ...taskSlugs\n                    ]\n                },\n                {\n                    name: 'taskID',\n                    type: 'text'\n                }\n            ]\n        });\n    }\n    const jobsCollection = {\n        slug: jobsCollectionSlug,\n        admin: {\n            group: 'System',\n            hidden: true\n        },\n        endpoints: [\n            _restEndpointRun_js__WEBPACK_IMPORTED_MODULE_0__.runJobsEndpoint\n        ],\n        fields: [\n            {\n                name: 'input',\n                type: 'json',\n                admin: {\n                    description: 'Input data provided to the job'\n                }\n            },\n            {\n                name: 'taskStatus',\n                type: 'json',\n                virtual: true\n            },\n            {\n                type: 'tabs',\n                tabs: [\n                    {\n                        fields: [\n                            {\n                                name: 'completedAt',\n                                type: 'date',\n                                index: true\n                            },\n                            {\n                                name: 'totalTried',\n                                type: 'number',\n                                defaultValue: 0,\n                                index: true\n                            },\n                            {\n                                name: 'hasError',\n                                type: 'checkbox',\n                                admin: {\n                                    description: 'If hasError is true this job will not be retried'\n                                },\n                                defaultValue: false,\n                                index: true\n                            },\n                            {\n                                name: 'error',\n                                type: 'json',\n                                admin: {\n                                    condition: (data)=>data.hasError,\n                                    description: 'If hasError is true, this is the error that caused it'\n                                }\n                            },\n                            {\n                                name: 'log',\n                                type: 'array',\n                                admin: {\n                                    description: 'Task execution log'\n                                },\n                                fields: logFields\n                            }\n                        ],\n                        label: 'Status'\n                    }\n                ]\n            },\n            // only include the workflowSlugs field if workflows exist\n            ...workflowSlugs.size > 0 ? [\n                {\n                    name: 'workflowSlug',\n                    type: 'select',\n                    admin: {\n                        position: 'sidebar'\n                    },\n                    index: true,\n                    options: [\n                        ...workflowSlugs\n                    ]\n                }\n            ] : [],\n            {\n                name: 'taskSlug',\n                type: 'select',\n                admin: {\n                    position: 'sidebar'\n                },\n                index: true,\n                options: [\n                    ...taskSlugs\n                ],\n                required: false\n            },\n            {\n                name: 'queue',\n                type: 'text',\n                admin: {\n                    position: 'sidebar'\n                },\n                defaultValue: 'default',\n                index: true\n            },\n            {\n                name: 'waitUntil',\n                type: 'date',\n                index: true\n            },\n            {\n                name: 'processing',\n                type: 'checkbox',\n                admin: {\n                    position: 'sidebar'\n                },\n                defaultValue: false,\n                index: true\n            }\n        ],\n        hooks: {\n            afterRead: [\n                ({ doc, req })=>{\n                    // This hook is used to add the virtual `tasks` field to the document, that is computed from the `log` field\n                    return jobAfterRead({\n                        config: req.payload.config,\n                        doc\n                    });\n                }\n            ],\n            /**\n       * If another update comes in after a job as already been cancelled, we need to make sure that update doesn't\n       * change the state of the job.\n       */ beforeChange: [\n                ({ data, originalDoc })=>{\n                    if (originalDoc?.error?.cancelled) {\n                        data.processing = false;\n                        data.hasError = true;\n                        delete data.completedAt;\n                        delete data.waitUntil;\n                    }\n                    return data;\n                }\n            ]\n        },\n        lockDocuments: false\n    };\n    return jobsCollection;\n};\nfunction jobAfterRead({ config, doc }) {\n    doc.taskStatus = (0,_utilities_getJobTaskStatus_js__WEBPACK_IMPORTED_MODULE_1__.getJobTaskStatus)({\n        jobLog: doc.log || []\n    });\n    return doc;\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvY29uZmlnL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEO0FBQ1k7QUFDN0Q7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFVBQVU7QUFDeEQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFlBQVksZ0VBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixVQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtQkFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLGFBQWE7QUFDNUMscUJBQXFCLGdGQUFnQjtBQUNyQztBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvcXVldWVzL2NvbmZpZy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBydW5Kb2JzRW5kcG9pbnQgfSBmcm9tICcuLi9yZXN0RW5kcG9pbnRSdW4uanMnO1xuaW1wb3J0IHsgZ2V0Sm9iVGFza1N0YXR1cyB9IGZyb20gJy4uL3V0aWxpdGllcy9nZXRKb2JUYXNrU3RhdHVzLmpzJztcbmV4cG9ydCBjb25zdCBqb2JzQ29sbGVjdGlvblNsdWcgPSAncGF5bG9hZC1qb2JzJztcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0Sm9ic0NvbGxlY3Rpb24gPSAoY29uZmlnKT0+e1xuICAgIGNvbnN0IHdvcmtmbG93U2x1Z3MgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgdGFza1NsdWdzID0gbmV3IFNldChbXG4gICAgICAgICdpbmxpbmUnXG4gICAgXSk7XG4gICAgaWYgKGNvbmZpZy5qb2JzPy53b3JrZmxvd3M/Lmxlbmd0aCkge1xuICAgICAgICBjb25maWcuam9icz8ud29ya2Zsb3dzLmZvckVhY2goKHdvcmtmbG93KT0+e1xuICAgICAgICAgICAgd29ya2Zsb3dTbHVncy5hZGQod29ya2Zsb3cuc2x1Zyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmpvYnM/LnRhc2tzPy5sZW5ndGgpIHtcbiAgICAgICAgY29uZmlnLmpvYnMudGFza3MuZm9yRWFjaCgodGFzayk9PntcbiAgICAgICAgICAgIGlmICh3b3JrZmxvd1NsdWdzLmhhcyh0YXNrLnNsdWcpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUYXNrIHNsdWcgXCIke3Rhc2suc2x1Z31cIiBpcyBhbHJlYWR5IHVzZWQgYnkgYSB3b3JrZmxvdy4gTm8gdGFza3MgYXJlIGFsbG93ZWQgdG8gaGF2ZSB0aGUgc2FtZSBzbHVnIGFzIGEgd29ya2Zsb3cuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YXNrU2x1Z3MuYWRkKHRhc2suc2x1Zyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBsb2dGaWVsZHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdleGVjdXRlZEF0JyxcbiAgICAgICAgICAgIHR5cGU6ICdkYXRlJyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdjb21wbGV0ZWRBdCcsXG4gICAgICAgICAgICB0eXBlOiAnZGF0ZScsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAndGFza1NsdWcnLFxuICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgLi4udGFza1NsdWdzXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ3Rhc2tJRCcsXG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnaW5wdXQnLFxuICAgICAgICAgICAgdHlwZTogJ2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdvdXRwdXQnLFxuICAgICAgICAgICAgdHlwZTogJ2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdzdGF0ZScsXG4gICAgICAgICAgICB0eXBlOiAncmFkaW8nLFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgICdmYWlsZWQnLFxuICAgICAgICAgICAgICAgICdzdWNjZWVkZWQnXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ2Vycm9yJyxcbiAgICAgICAgICAgIHR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIGFkbWluOiB7XG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiAoXywgZGF0YSk9PmRhdGEuc3RhdGUgPT09ICdmYWlsZWQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfVxuICAgIF07XG4gICAgaWYgKGNvbmZpZz8uam9icz8uYWRkUGFyZW50VG9UYXNrTG9nKSB7XG4gICAgICAgIGxvZ0ZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6ICdwYXJlbnQnLFxuICAgICAgICAgICAgdHlwZTogJ2dyb3VwJyxcbiAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3Rhc2tTbHVnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRhc2tTbHVnc1xuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd0YXNrSUQnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBqb2JzQ29sbGVjdGlvbiA9IHtcbiAgICAgICAgc2x1Zzogam9ic0NvbGxlY3Rpb25TbHVnLFxuICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgZ3JvdXA6ICdTeXN0ZW0nLFxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGVuZHBvaW50czogW1xuICAgICAgICAgICAgcnVuSm9ic0VuZHBvaW50XG4gICAgICAgIF0sXG4gICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdpbnB1dCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGFkbWluOiB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW5wdXQgZGF0YSBwcm92aWRlZCB0byB0aGUgam9iJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3Rhc2tTdGF0dXMnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICB2aXJ0dWFsOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0YWJzJyxcbiAgICAgICAgICAgICAgICB0YWJzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbXBsZXRlZEF0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAndG90YWxUcmllZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdoYXNFcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkbWluOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0lmIGhhc0Vycm9yIGlzIHRydWUgdGhpcyBqb2Igd2lsbCBub3QgYmUgcmV0cmllZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiAoZGF0YSk9PmRhdGEuaGFzRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0lmIGhhc0Vycm9yIGlzIHRydWUsIHRoaXMgaXMgdGhlIGVycm9yIHRoYXQgY2F1c2VkIGl0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdsb2cnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdUYXNrIGV4ZWN1dGlvbiBsb2cnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogbG9nRmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnU3RhdHVzJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIG9ubHkgaW5jbHVkZSB0aGUgd29ya2Zsb3dTbHVncyBmaWVsZCBpZiB3b3JrZmxvd3MgZXhpc3RcbiAgICAgICAgICAgIC4uLndvcmtmbG93U2x1Z3Muc2l6ZSA+IDAgPyBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd29ya2Zsb3dTbHVnJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICAgIGFkbWluOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3NpZGViYXInXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi53b3JrZmxvd1NsdWdzXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdIDogW10sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3Rhc2tTbHVnJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3NpZGViYXInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmRleDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIC4uLnRhc2tTbHVnc1xuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdxdWV1ZScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgIGFkbWluOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnc2lkZWJhcidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICAgIGluZGV4OiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICd3YWl0VW50aWwnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRlJyxcbiAgICAgICAgICAgICAgICBpbmRleDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAncHJvY2Vzc2luZycsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3NpZGViYXInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGluZGV4OiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIGhvb2tzOiB7XG4gICAgICAgICAgICBhZnRlclJlYWQ6IFtcbiAgICAgICAgICAgICAgICAoeyBkb2MsIHJlcSB9KT0+e1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGhvb2sgaXMgdXNlZCB0byBhZGQgdGhlIHZpcnR1YWwgYHRhc2tzYCBmaWVsZCB0byB0aGUgZG9jdW1lbnQsIHRoYXQgaXMgY29tcHV0ZWQgZnJvbSB0aGUgYGxvZ2AgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpvYkFmdGVyUmVhZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IHJlcS5wYXlsb2FkLmNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgKiBJZiBhbm90aGVyIHVwZGF0ZSBjb21lcyBpbiBhZnRlciBhIGpvYiBhcyBhbHJlYWR5IGJlZW4gY2FuY2VsbGVkLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IHVwZGF0ZSBkb2Vzbid0XG4gICAgICAgKiBjaGFuZ2UgdGhlIHN0YXRlIG9mIHRoZSBqb2IuXG4gICAgICAgKi8gYmVmb3JlQ2hhbmdlOiBbXG4gICAgICAgICAgICAgICAgKHsgZGF0YSwgb3JpZ2luYWxEb2MgfSk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsRG9jPy5lcnJvcj8uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRhdGEuY29tcGxldGVkQXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGF0YS53YWl0VW50aWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBsb2NrRG9jdW1lbnRzOiBmYWxzZVxuICAgIH07XG4gICAgcmV0dXJuIGpvYnNDb2xsZWN0aW9uO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBqb2JBZnRlclJlYWQoeyBjb25maWcsIGRvYyB9KSB7XG4gICAgZG9jLnRhc2tTdGF0dXMgPSBnZXRKb2JUYXNrU3RhdHVzKHtcbiAgICAgICAgam9iTG9nOiBkb2MubG9nIHx8IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIGRvYztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/config/index.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/index.js":
/*!**************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/index.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runJobs: () => (/* binding */ runJobs)\n/* harmony export */ });\n/* harmony import */ var _errors_Forbidden_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../errors/Forbidden.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/Forbidden.js\");\n/* harmony import */ var _utilities_isolateObjectProperty_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utilities/isolateObjectProperty.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isolateObjectProperty.js\");\n/* harmony import */ var _config_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config/index.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/config/index.js\");\n/* harmony import */ var _utilities_updateJob_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utilities/updateJob.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/utilities/updateJob.js\");\n/* harmony import */ var _runJob_getUpdateJobFunction_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./runJob/getUpdateJobFunction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/getUpdateJobFunction.js\");\n/* harmony import */ var _runJob_importHandlerPath_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./runJob/importHandlerPath.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/importHandlerPath.js\");\n/* harmony import */ var _runJob_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./runJob/index.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/index.js\");\n/* harmony import */ var _runJSONJob_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./runJSONJob/index.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJSONJob/index.js\");\n// @ts-strict-ignore\n\n\n\n\n\n\n\n\nconst runJobs = async (args)=>{\n    const { id, limit = 10, overrideAccess, processingOrder, queue, req, sequential, where: whereFromProps } = args;\n    if (!overrideAccess) {\n        const hasAccess = await req.payload.config.jobs.access.run({\n            req\n        });\n        if (!hasAccess) {\n            throw new _errors_Forbidden_js__WEBPACK_IMPORTED_MODULE_0__.Forbidden(req.t);\n        }\n    }\n    const where = {\n        and: [\n            {\n                completedAt: {\n                    exists: false\n                }\n            },\n            {\n                hasError: {\n                    not_equals: true\n                }\n            },\n            {\n                processing: {\n                    equals: false\n                }\n            },\n            {\n                or: [\n                    {\n                        waitUntil: {\n                            exists: false\n                        }\n                    },\n                    {\n                        waitUntil: {\n                            less_than: new Date().toISOString()\n                        }\n                    }\n                ]\n            }\n        ]\n    };\n    if (queue) {\n        where.and.push({\n            queue: {\n                equals: queue\n            }\n        });\n    }\n    if (whereFromProps) {\n        where.and.push(whereFromProps);\n    }\n    // Find all jobs and ensure we set job to processing: true as early as possible to reduce the chance of\n    // the same job being picked up by another worker\n    const jobsQuery = {\n        docs: []\n    };\n    if (id) {\n        // Only one job to run\n        jobsQuery.docs = [\n            await (0,_utilities_updateJob_js__WEBPACK_IMPORTED_MODULE_1__.updateJob)({\n                id,\n                data: {\n                    processing: true\n                },\n                depth: req.payload.config.jobs.depth,\n                disableTransaction: true,\n                req,\n                returning: true\n            })\n        ];\n    } else {\n        let defaultProcessingOrder = req.payload.collections[_config_index_js__WEBPACK_IMPORTED_MODULE_2__.jobsCollectionSlug].config.defaultSort ?? 'createdAt';\n        const processingOrderConfig = req.payload.config.jobs?.processingOrder;\n        if (typeof processingOrderConfig === 'function') {\n            defaultProcessingOrder = await processingOrderConfig(args);\n        } else if (typeof processingOrderConfig === 'object' && !Array.isArray(processingOrderConfig)) {\n            if (queue && processingOrderConfig.queues && processingOrderConfig.queues[queue]) {\n                defaultProcessingOrder = processingOrderConfig.queues[queue];\n            } else if (processingOrderConfig.default) {\n                defaultProcessingOrder = processingOrderConfig.default;\n            }\n        } else if (typeof processingOrderConfig === 'string') {\n            defaultProcessingOrder = processingOrderConfig;\n        }\n        const updatedDocs = await (0,_utilities_updateJob_js__WEBPACK_IMPORTED_MODULE_1__.updateJobs)({\n            data: {\n                processing: true\n            },\n            depth: req.payload.config.jobs.depth,\n            disableTransaction: true,\n            limit,\n            req,\n            returning: true,\n            sort: processingOrder ?? defaultProcessingOrder,\n            where\n        });\n        if (updatedDocs) {\n            jobsQuery.docs = updatedDocs;\n        }\n    }\n    /**\n   * Just for logging purposes, we want to know how many jobs are new and how many are existing (= already been tried).\n   * This is only for logs - in the end we still want to run all jobs, regardless of whether they are new or existing.\n   */ const { existingJobs, newJobs } = jobsQuery.docs.reduce((acc, job)=>{\n        if (job.totalTried > 0) {\n            acc.existingJobs.push(job);\n        } else {\n            acc.newJobs.push(job);\n        }\n        return acc;\n    }, {\n        existingJobs: [],\n        newJobs: []\n    });\n    if (!jobsQuery.docs.length) {\n        return {\n            noJobsRemaining: true,\n            remainingJobsFromQueried: 0\n        };\n    }\n    if (jobsQuery?.docs?.length) {\n        req.payload.logger.info({\n            msg: `Running ${jobsQuery.docs.length} jobs.`,\n            new: newJobs?.length,\n            retrying: existingJobs?.length\n        });\n    }\n    const jobsToDelete = req.payload.config.jobs.deleteJobOnComplete ? [] : undefined;\n    const runSingleJob = async (job)=>{\n        if (!job.workflowSlug && !job.taskSlug) {\n            throw new Error('Job must have either a workflowSlug or a taskSlug');\n        }\n        const jobReq = (0,_utilities_isolateObjectProperty_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(req, 'transactionID');\n        const workflowConfig = job.workflowSlug ? req.payload.config.jobs?.workflows.find(({ slug })=>slug === job.workflowSlug) : {\n            slug: 'singleTask',\n            handler: async ({ job, tasks })=>{\n                await tasks[job.taskSlug]('1', {\n                    input: job.input\n                });\n            }\n        };\n        if (!workflowConfig) {\n            return null // Skip jobs with no workflow configuration\n            ;\n        }\n        const updateJob = (0,_runJob_getUpdateJobFunction_js__WEBPACK_IMPORTED_MODULE_4__.getUpdateJobFunction)(job, jobReq);\n        // the runner will either be passed to the config\n        // OR it will be a path, which we will need to import via eval to avoid\n        // Next.js compiler dynamic import expression errors\n        let workflowHandler;\n        if (typeof workflowConfig.handler === 'function' || typeof workflowConfig.handler === 'object' && Array.isArray(workflowConfig.handler)) {\n            workflowHandler = workflowConfig.handler;\n        } else {\n            workflowHandler = await (0,_runJob_importHandlerPath_js__WEBPACK_IMPORTED_MODULE_5__.importHandlerPath)(workflowConfig.handler);\n            if (!workflowHandler) {\n                const jobLabel = job.workflowSlug || `Task: ${job.taskSlug}`;\n                const errorMessage = `Can't find runner while importing with the path ${workflowConfig.handler} in job type ${jobLabel}.`;\n                req.payload.logger.error(errorMessage);\n                await updateJob({\n                    error: {\n                        error: errorMessage\n                    },\n                    hasError: true,\n                    processing: false\n                });\n                return;\n            }\n        }\n        if (typeof workflowHandler === 'function') {\n            const result = await (0,_runJob_index_js__WEBPACK_IMPORTED_MODULE_6__.runJob)({\n                job,\n                req: jobReq,\n                updateJob,\n                workflowConfig,\n                workflowHandler\n            });\n            if (result.status !== 'error' && jobsToDelete) {\n                jobsToDelete.push(job.id);\n            }\n            return {\n                id: job.id,\n                result\n            };\n        } else {\n            const result = await (0,_runJSONJob_index_js__WEBPACK_IMPORTED_MODULE_7__.runJSONJob)({\n                job,\n                req: jobReq,\n                updateJob,\n                workflowConfig,\n                workflowHandler\n            });\n            if (result.status !== 'error' && jobsToDelete) {\n                jobsToDelete.push(job.id);\n            }\n            return {\n                id: job.id,\n                result\n            };\n        }\n    };\n    let resultsArray = [];\n    if (sequential) {\n        for (const job of jobsQuery.docs){\n            const result = await runSingleJob(job);\n            if (result !== null) {\n                resultsArray.push(result);\n            }\n        }\n    } else {\n        const jobPromises = jobsQuery.docs.map(runSingleJob);\n        resultsArray = await Promise.all(jobPromises);\n    }\n    if (jobsToDelete && jobsToDelete.length > 0) {\n        try {\n            if (req.payload.config.jobs.runHooks) {\n                await req.payload.delete({\n                    collection: _config_index_js__WEBPACK_IMPORTED_MODULE_2__.jobsCollectionSlug,\n                    depth: 0,\n                    disableTransaction: true,\n                    where: {\n                        id: {\n                            in: jobsToDelete\n                        }\n                    }\n                });\n            } else {\n                await req.payload.db.deleteMany({\n                    collection: _config_index_js__WEBPACK_IMPORTED_MODULE_2__.jobsCollectionSlug,\n                    where: {\n                        id: {\n                            in: jobsToDelete\n                        }\n                    }\n                });\n            }\n        } catch (err) {\n            req.payload.logger.error({\n                err,\n                msg: `failed to delete jobs ${jobsToDelete.join(', ')} on complete`\n            });\n        }\n    }\n    const resultsObject = resultsArray.reduce((acc, cur)=>{\n        if (cur !== null) {\n            // Check if there's a valid result to include\n            acc[cur.id] = cur.result;\n        }\n        return acc;\n    }, {});\n    let remainingJobsFromQueried = 0;\n    for(const jobID in resultsObject){\n        const jobResult = resultsObject[jobID];\n        if (jobResult.status === 'error') {\n            remainingJobsFromQueried++ // Can be retried\n            ;\n        }\n    }\n    return {\n        jobStatus: resultsObject,\n        remainingJobsFromQueried\n    };\n};\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3lEO0FBQ3VCO0FBQ3JCO0FBQ1U7QUFDRztBQUNOO0FBQ3ZCO0FBQ1E7QUFDNUM7QUFDUCxZQUFZLGlHQUFpRztBQUM3RztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxzQkFBc0IsMkRBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0VBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsTUFBTTtBQUNOLDZEQUE2RCxnRUFBa0I7QUFDL0U7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0Esa0NBQWtDLG1FQUFVO0FBQzVDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdUJBQXVCO0FBQ25EO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLCtFQUFxQjtBQUM1Qyw2RkFBNkYsTUFBTTtBQUNuRztBQUNBLDhCQUE4QixZQUFZO0FBQzFDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHFGQUFvQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysb0NBQW9DLCtFQUFpQjtBQUNyRDtBQUNBLDhEQUE4RCxhQUFhO0FBQzNFLHdGQUF3Rix3QkFBd0IsY0FBYyxTQUFTO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsd0RBQU07QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixpQ0FBaUMsZ0VBQVU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdFQUFrQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQSxnQ0FBZ0MsZ0VBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLDhDQUE4Qyx5QkFBeUI7QUFDdkUsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3F1ZXVlcy9vcGVyYXRpb25zL3J1bkpvYnMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbmltcG9ydCB7IEZvcmJpZGRlbiB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy9Gb3JiaWRkZW4uanMnO1xuaW1wb3J0IGlzb2xhdGVPYmplY3RQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi91dGlsaXRpZXMvaXNvbGF0ZU9iamVjdFByb3BlcnR5LmpzJztcbmltcG9ydCB7IGpvYnNDb2xsZWN0aW9uU2x1ZyB9IGZyb20gJy4uLy4uL2NvbmZpZy9pbmRleC5qcyc7XG5pbXBvcnQgeyB1cGRhdGVKb2IsIHVwZGF0ZUpvYnMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvdXBkYXRlSm9iLmpzJztcbmltcG9ydCB7IGdldFVwZGF0ZUpvYkZ1bmN0aW9uIH0gZnJvbSAnLi9ydW5Kb2IvZ2V0VXBkYXRlSm9iRnVuY3Rpb24uanMnO1xuaW1wb3J0IHsgaW1wb3J0SGFuZGxlclBhdGggfSBmcm9tICcuL3J1bkpvYi9pbXBvcnRIYW5kbGVyUGF0aC5qcyc7XG5pbXBvcnQgeyBydW5Kb2IgfSBmcm9tICcuL3J1bkpvYi9pbmRleC5qcyc7XG5pbXBvcnQgeyBydW5KU09OSm9iIH0gZnJvbSAnLi9ydW5KU09OSm9iL2luZGV4LmpzJztcbmV4cG9ydCBjb25zdCBydW5Kb2JzID0gYXN5bmMgKGFyZ3MpPT57XG4gICAgY29uc3QgeyBpZCwgbGltaXQgPSAxMCwgb3ZlcnJpZGVBY2Nlc3MsIHByb2Nlc3NpbmdPcmRlciwgcXVldWUsIHJlcSwgc2VxdWVudGlhbCwgd2hlcmU6IHdoZXJlRnJvbVByb3BzIH0gPSBhcmdzO1xuICAgIGlmICghb3ZlcnJpZGVBY2Nlc3MpIHtcbiAgICAgICAgY29uc3QgaGFzQWNjZXNzID0gYXdhaXQgcmVxLnBheWxvYWQuY29uZmlnLmpvYnMuYWNjZXNzLnJ1bih7XG4gICAgICAgICAgICByZXFcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghaGFzQWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRm9yYmlkZGVuKHJlcS50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3aGVyZSA9IHtcbiAgICAgICAgYW5kOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGFzRXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgbm90X2VxdWFsczogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2luZzoge1xuICAgICAgICAgICAgICAgICAgICBlcXVhbHM6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0VW50aWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdHM6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRVbnRpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlc3NfdGhhbjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xuICAgIGlmIChxdWV1ZSkge1xuICAgICAgICB3aGVyZS5hbmQucHVzaCh7XG4gICAgICAgICAgICBxdWV1ZToge1xuICAgICAgICAgICAgICAgIGVxdWFsczogcXVldWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh3aGVyZUZyb21Qcm9wcykge1xuICAgICAgICB3aGVyZS5hbmQucHVzaCh3aGVyZUZyb21Qcm9wcyk7XG4gICAgfVxuICAgIC8vIEZpbmQgYWxsIGpvYnMgYW5kIGVuc3VyZSB3ZSBzZXQgam9iIHRvIHByb2Nlc3Npbmc6IHRydWUgYXMgZWFybHkgYXMgcG9zc2libGUgdG8gcmVkdWNlIHRoZSBjaGFuY2Ugb2ZcbiAgICAvLyB0aGUgc2FtZSBqb2IgYmVpbmcgcGlja2VkIHVwIGJ5IGFub3RoZXIgd29ya2VyXG4gICAgY29uc3Qgam9ic1F1ZXJ5ID0ge1xuICAgICAgICBkb2NzOiBbXVxuICAgIH07XG4gICAgaWYgKGlkKSB7XG4gICAgICAgIC8vIE9ubHkgb25lIGpvYiB0byBydW5cbiAgICAgICAgam9ic1F1ZXJ5LmRvY3MgPSBbXG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVKb2Ioe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2luZzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVwdGg6IHJlcS5wYXlsb2FkLmNvbmZpZy5qb2JzLmRlcHRoLFxuICAgICAgICAgICAgICAgIGRpc2FibGVUcmFuc2FjdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgcmV0dXJuaW5nOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkZWZhdWx0UHJvY2Vzc2luZ09yZGVyID0gcmVxLnBheWxvYWQuY29sbGVjdGlvbnNbam9ic0NvbGxlY3Rpb25TbHVnXS5jb25maWcuZGVmYXVsdFNvcnQgPz8gJ2NyZWF0ZWRBdCc7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NpbmdPcmRlckNvbmZpZyA9IHJlcS5wYXlsb2FkLmNvbmZpZy5qb2JzPy5wcm9jZXNzaW5nT3JkZXI7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2Vzc2luZ09yZGVyQ29uZmlnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBkZWZhdWx0UHJvY2Vzc2luZ09yZGVyID0gYXdhaXQgcHJvY2Vzc2luZ09yZGVyQ29uZmlnKGFyZ3MpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzaW5nT3JkZXJDb25maWcgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHByb2Nlc3NpbmdPcmRlckNvbmZpZykpIHtcbiAgICAgICAgICAgIGlmIChxdWV1ZSAmJiBwcm9jZXNzaW5nT3JkZXJDb25maWcucXVldWVzICYmIHByb2Nlc3NpbmdPcmRlckNvbmZpZy5xdWV1ZXNbcXVldWVdKSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFByb2Nlc3NpbmdPcmRlciA9IHByb2Nlc3NpbmdPcmRlckNvbmZpZy5xdWV1ZXNbcXVldWVdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzaW5nT3JkZXJDb25maWcuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRQcm9jZXNzaW5nT3JkZXIgPSBwcm9jZXNzaW5nT3JkZXJDb25maWcuZGVmYXVsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2Vzc2luZ09yZGVyQ29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZGVmYXVsdFByb2Nlc3NpbmdPcmRlciA9IHByb2Nlc3NpbmdPcmRlckNvbmZpZztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkRG9jcyA9IGF3YWl0IHVwZGF0ZUpvYnMoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHByb2Nlc3Npbmc6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXB0aDogcmVxLnBheWxvYWQuY29uZmlnLmpvYnMuZGVwdGgsXG4gICAgICAgICAgICBkaXNhYmxlVHJhbnNhY3Rpb246IHRydWUsXG4gICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgIHJldHVybmluZzogdHJ1ZSxcbiAgICAgICAgICAgIHNvcnQ6IHByb2Nlc3NpbmdPcmRlciA/PyBkZWZhdWx0UHJvY2Vzc2luZ09yZGVyLFxuICAgICAgICAgICAgd2hlcmVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1cGRhdGVkRG9jcykge1xuICAgICAgICAgICAgam9ic1F1ZXJ5LmRvY3MgPSB1cGRhdGVkRG9jcztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICogSnVzdCBmb3IgbG9nZ2luZyBwdXJwb3Nlcywgd2Ugd2FudCB0byBrbm93IGhvdyBtYW55IGpvYnMgYXJlIG5ldyBhbmQgaG93IG1hbnkgYXJlIGV4aXN0aW5nICg9IGFscmVhZHkgYmVlbiB0cmllZCkuXG4gICAqIFRoaXMgaXMgb25seSBmb3IgbG9ncyAtIGluIHRoZSBlbmQgd2Ugc3RpbGwgd2FudCB0byBydW4gYWxsIGpvYnMsIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGV5IGFyZSBuZXcgb3IgZXhpc3RpbmcuXG4gICAqLyBjb25zdCB7IGV4aXN0aW5nSm9icywgbmV3Sm9icyB9ID0gam9ic1F1ZXJ5LmRvY3MucmVkdWNlKChhY2MsIGpvYik9PntcbiAgICAgICAgaWYgKGpvYi50b3RhbFRyaWVkID4gMCkge1xuICAgICAgICAgICAgYWNjLmV4aXN0aW5nSm9icy5wdXNoKGpvYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY2MubmV3Sm9icy5wdXNoKGpvYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7XG4gICAgICAgIGV4aXN0aW5nSm9iczogW10sXG4gICAgICAgIG5ld0pvYnM6IFtdXG4gICAgfSk7XG4gICAgaWYgKCFqb2JzUXVlcnkuZG9jcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vSm9ic1JlbWFpbmluZzogdHJ1ZSxcbiAgICAgICAgICAgIHJlbWFpbmluZ0pvYnNGcm9tUXVlcmllZDogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoam9ic1F1ZXJ5Py5kb2NzPy5sZW5ndGgpIHtcbiAgICAgICAgcmVxLnBheWxvYWQubG9nZ2VyLmluZm8oe1xuICAgICAgICAgICAgbXNnOiBgUnVubmluZyAke2pvYnNRdWVyeS5kb2NzLmxlbmd0aH0gam9icy5gLFxuICAgICAgICAgICAgbmV3OiBuZXdKb2JzPy5sZW5ndGgsXG4gICAgICAgICAgICByZXRyeWluZzogZXhpc3RpbmdKb2JzPy5sZW5ndGhcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGpvYnNUb0RlbGV0ZSA9IHJlcS5wYXlsb2FkLmNvbmZpZy5qb2JzLmRlbGV0ZUpvYk9uQ29tcGxldGUgPyBbXSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBydW5TaW5nbGVKb2IgPSBhc3luYyAoam9iKT0+e1xuICAgICAgICBpZiAoIWpvYi53b3JrZmxvd1NsdWcgJiYgIWpvYi50YXNrU2x1Zykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdKb2IgbXVzdCBoYXZlIGVpdGhlciBhIHdvcmtmbG93U2x1ZyBvciBhIHRhc2tTbHVnJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgam9iUmVxID0gaXNvbGF0ZU9iamVjdFByb3BlcnR5KHJlcSwgJ3RyYW5zYWN0aW9uSUQnKTtcbiAgICAgICAgY29uc3Qgd29ya2Zsb3dDb25maWcgPSBqb2Iud29ya2Zsb3dTbHVnID8gcmVxLnBheWxvYWQuY29uZmlnLmpvYnM/LndvcmtmbG93cy5maW5kKCh7IHNsdWcgfSk9PnNsdWcgPT09IGpvYi53b3JrZmxvd1NsdWcpIDoge1xuICAgICAgICAgICAgc2x1ZzogJ3NpbmdsZVRhc2snLFxuICAgICAgICAgICAgaGFuZGxlcjogYXN5bmMgKHsgam9iLCB0YXNrcyB9KT0+e1xuICAgICAgICAgICAgICAgIGF3YWl0IHRhc2tzW2pvYi50YXNrU2x1Z10oJzEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiBqb2IuaW5wdXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF3b3JrZmxvd0NvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgLy8gU2tpcCBqb2JzIHdpdGggbm8gd29ya2Zsb3cgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZUpvYiA9IGdldFVwZGF0ZUpvYkZ1bmN0aW9uKGpvYiwgam9iUmVxKTtcbiAgICAgICAgLy8gdGhlIHJ1bm5lciB3aWxsIGVpdGhlciBiZSBwYXNzZWQgdG8gdGhlIGNvbmZpZ1xuICAgICAgICAvLyBPUiBpdCB3aWxsIGJlIGEgcGF0aCwgd2hpY2ggd2Ugd2lsbCBuZWVkIHRvIGltcG9ydCB2aWEgZXZhbCB0byBhdm9pZFxuICAgICAgICAvLyBOZXh0LmpzIGNvbXBpbGVyIGR5bmFtaWMgaW1wb3J0IGV4cHJlc3Npb24gZXJyb3JzXG4gICAgICAgIGxldCB3b3JrZmxvd0hhbmRsZXI7XG4gICAgICAgIGlmICh0eXBlb2Ygd29ya2Zsb3dDb25maWcuaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygd29ya2Zsb3dDb25maWcuaGFuZGxlciA9PT0gJ29iamVjdCcgJiYgQXJyYXkuaXNBcnJheSh3b3JrZmxvd0NvbmZpZy5oYW5kbGVyKSkge1xuICAgICAgICAgICAgd29ya2Zsb3dIYW5kbGVyID0gd29ya2Zsb3dDb25maWcuaGFuZGxlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdvcmtmbG93SGFuZGxlciA9IGF3YWl0IGltcG9ydEhhbmRsZXJQYXRoKHdvcmtmbG93Q29uZmlnLmhhbmRsZXIpO1xuICAgICAgICAgICAgaWYgKCF3b3JrZmxvd0hhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2JMYWJlbCA9IGpvYi53b3JrZmxvd1NsdWcgfHwgYFRhc2s6ICR7am9iLnRhc2tTbHVnfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYENhbid0IGZpbmQgcnVubmVyIHdoaWxlIGltcG9ydGluZyB3aXRoIHRoZSBwYXRoICR7d29ya2Zsb3dDb25maWcuaGFuZGxlcn0gaW4gam9iIHR5cGUgJHtqb2JMYWJlbH0uYDtcbiAgICAgICAgICAgICAgICByZXEucGF5bG9hZC5sb2dnZXIuZXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVKb2Ioe1xuICAgICAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBoYXNFcnJvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2luZzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB3b3JrZmxvd0hhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJ1bkpvYih7XG4gICAgICAgICAgICAgICAgam9iLFxuICAgICAgICAgICAgICAgIHJlcTogam9iUmVxLFxuICAgICAgICAgICAgICAgIHVwZGF0ZUpvYixcbiAgICAgICAgICAgICAgICB3b3JrZmxvd0NvbmZpZyxcbiAgICAgICAgICAgICAgICB3b3JrZmxvd0hhbmRsZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdlcnJvcicgJiYgam9ic1RvRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgam9ic1RvRGVsZXRlLnB1c2goam9iLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IGpvYi5pZCxcbiAgICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBydW5KU09OSm9iKHtcbiAgICAgICAgICAgICAgICBqb2IsXG4gICAgICAgICAgICAgICAgcmVxOiBqb2JSZXEsXG4gICAgICAgICAgICAgICAgdXBkYXRlSm9iLFxuICAgICAgICAgICAgICAgIHdvcmtmbG93Q29uZmlnLFxuICAgICAgICAgICAgICAgIHdvcmtmbG93SGFuZGxlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyAhPT0gJ2Vycm9yJyAmJiBqb2JzVG9EZWxldGUpIHtcbiAgICAgICAgICAgICAgICBqb2JzVG9EZWxldGUucHVzaChqb2IuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogam9iLmlkLFxuICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgbGV0IHJlc3VsdHNBcnJheSA9IFtdO1xuICAgIGlmIChzZXF1ZW50aWFsKSB7XG4gICAgICAgIGZvciAoY29uc3Qgam9iIG9mIGpvYnNRdWVyeS5kb2NzKXtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJ1blNpbmdsZUpvYihqb2IpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNBcnJheS5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBqb2JQcm9taXNlcyA9IGpvYnNRdWVyeS5kb2NzLm1hcChydW5TaW5nbGVKb2IpO1xuICAgICAgICByZXN1bHRzQXJyYXkgPSBhd2FpdCBQcm9taXNlLmFsbChqb2JQcm9taXNlcyk7XG4gICAgfVxuICAgIGlmIChqb2JzVG9EZWxldGUgJiYgam9ic1RvRGVsZXRlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyZXEucGF5bG9hZC5jb25maWcuam9icy5ydW5Ib29rcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlcS5wYXlsb2FkLmRlbGV0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IGpvYnNDb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgICAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVUcmFuc2FjdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW46IGpvYnNUb0RlbGV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlcS5wYXlsb2FkLmRiLmRlbGV0ZU1hbnkoe1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBqb2JzQ29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluOiBqb2JzVG9EZWxldGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlcS5wYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgICAgIG1zZzogYGZhaWxlZCB0byBkZWxldGUgam9icyAke2pvYnNUb0RlbGV0ZS5qb2luKCcsICcpfSBvbiBjb21wbGV0ZWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdHNPYmplY3QgPSByZXN1bHRzQXJyYXkucmVkdWNlKChhY2MsIGN1cik9PntcbiAgICAgICAgaWYgKGN1ciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIHZhbGlkIHJlc3VsdCB0byBpbmNsdWRlXG4gICAgICAgICAgICBhY2NbY3VyLmlkXSA9IGN1ci5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgbGV0IHJlbWFpbmluZ0pvYnNGcm9tUXVlcmllZCA9IDA7XG4gICAgZm9yKGNvbnN0IGpvYklEIGluIHJlc3VsdHNPYmplY3Qpe1xuICAgICAgICBjb25zdCBqb2JSZXN1bHQgPSByZXN1bHRzT2JqZWN0W2pvYklEXTtcbiAgICAgICAgaWYgKGpvYlJlc3VsdC5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgIHJlbWFpbmluZ0pvYnNGcm9tUXVlcmllZCsrIC8vIENhbiBiZSByZXRyaWVkXG4gICAgICAgICAgICA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgam9iU3RhdHVzOiByZXN1bHRzT2JqZWN0LFxuICAgICAgICByZW1haW5pbmdKb2JzRnJvbVF1ZXJpZWRcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/index.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJSONJob/index.js":
/*!*************************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJSONJob/index.js ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runJSONJob: () => (/* binding */ runJSONJob)\n/* harmony export */ });\n/* harmony import */ var _runJob_getRunTaskFunction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../runJob/getRunTaskFunction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/getRunTaskFunction.js\");\n/* harmony import */ var _runJob_handleWorkflowError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../runJob/handleWorkflowError.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/handleWorkflowError.js\");\n// @ts-strict-ignore\n\n\nconst runJSONJob = async ({ job, req, updateJob, workflowConfig, workflowHandler })=>{\n    // Object so that we can pass contents by reference, not value.\n    // We want any mutations to be reflected in here.\n    const state = {\n        reachedMaxRetries: false\n    };\n    const stepsToRun = [];\n    for (const step of workflowHandler){\n        if ('task' in step) {\n            if (job?.taskStatus?.[step.task]?.[step.id]?.complete) {\n                continue;\n            }\n        } else {\n            if (job?.taskStatus?.['inline']?.[step.id]?.complete) {\n                continue;\n            }\n        }\n        if (step.condition && !step.condition({\n            job: job\n        })) {\n            continue;\n        }\n        stepsToRun.push(step);\n    }\n    const tasks = (0,_runJob_getRunTaskFunction_js__WEBPACK_IMPORTED_MODULE_0__.getRunTaskFunction)(state, job, workflowConfig, req, false, updateJob);\n    const inlineTask = (0,_runJob_getRunTaskFunction_js__WEBPACK_IMPORTED_MODULE_0__.getRunTaskFunction)(state, job, workflowConfig, req, true, updateJob);\n    // Run the job\n    let hasFinalError = false;\n    let error;\n    try {\n        await Promise.all(stepsToRun.map(async (step)=>{\n            if ('task' in step) {\n                await tasks[step.task](step.id, {\n                    input: step.input ? step.input({\n                        job: job\n                    }) : {},\n                    retries: step.retries\n                });\n            } else {\n                await inlineTask(step.id, {\n                    retries: step.retries,\n                    task: step.inlineTask\n                });\n            }\n        }));\n    } catch (err) {\n        const errorResult = (0,_runJob_handleWorkflowError_js__WEBPACK_IMPORTED_MODULE_1__.handleWorkflowError)({\n            error: err,\n            job,\n            req,\n            state,\n            workflowConfig\n        });\n        error = err;\n        hasFinalError = errorResult.hasFinalError;\n    }\n    // Check if workflow has completed\n    let workflowCompleted = false;\n    for (const [slug, map] of Object.entries(job.taskStatus)){\n        for (const [id, taskStatus] of Object.entries(map)){\n            if (taskStatus.complete) {\n                const step = workflowHandler.find((step)=>{\n                    if ('task' in step) {\n                        return step.task === slug && step.id === id;\n                    } else {\n                        return step.id === id && slug === 'inline';\n                    }\n                });\n                if (step.completesJob) {\n                    workflowCompleted = true;\n                    break;\n                }\n            }\n        }\n    }\n    if (workflowCompleted) {\n        if (error) {\n            // Tasks update the job if they error - but in case there is an unhandled error (e.g. in the workflow itself, not in a task)\n            // we need to ensure the job is updated to reflect the error\n            await updateJob({\n                completedAt: new Date().toISOString(),\n                error: hasFinalError ? error : undefined,\n                hasError: hasFinalError,\n                processing: false,\n                totalTried: (job.totalTried ?? 0) + 1\n            });\n        } else {\n            await updateJob({\n                completedAt: new Date().toISOString(),\n                processing: false,\n                totalTried: (job.totalTried ?? 0) + 1\n            });\n        }\n        return {\n            status: 'success'\n        };\n    } else {\n        if (error) {\n            // Tasks update the job if they error - but in case there is an unhandled error (e.g. in the workflow itself, not in a task)\n            // we need to ensure the job is updated to reflect the error\n            await updateJob({\n                error: hasFinalError ? error : undefined,\n                hasError: hasFinalError,\n                processing: false,\n                totalTried: (job.totalTried ?? 0) + 1\n            });\n            return {\n                status: hasFinalError ? 'error-reached-max-retries' : 'error'\n            };\n        } else {\n            // Retry the job - no need to bump processing or totalTried as this does not count as a retry. A condition of a different task might have just opened up!\n            return await runJSONJob({\n                job,\n                req,\n                updateJob,\n                workflowConfig,\n                workflowHandler\n            });\n        }\n    }\n};\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL3J1bkpTT05Kb2IvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDcUU7QUFDRTtBQUNoRSw0QkFBNEIsc0RBQXNEO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlGQUFrQjtBQUNwQyx1QkFBdUIsaUZBQWtCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixNQUFNO0FBQzNCO0FBQ0EsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1QsTUFBTTtBQUNOLDRCQUE0QixtRkFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvcXVldWVzL29wZXJhdGlvbnMvcnVuSm9icy9ydW5KU09OSm9iL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1zdHJpY3QtaWdub3JlXG5pbXBvcnQgeyBnZXRSdW5UYXNrRnVuY3Rpb24gfSBmcm9tICcuLi9ydW5Kb2IvZ2V0UnVuVGFza0Z1bmN0aW9uLmpzJztcbmltcG9ydCB7IGhhbmRsZVdvcmtmbG93RXJyb3IgfSBmcm9tICcuLi9ydW5Kb2IvaGFuZGxlV29ya2Zsb3dFcnJvci5qcyc7XG5leHBvcnQgY29uc3QgcnVuSlNPTkpvYiA9IGFzeW5jICh7IGpvYiwgcmVxLCB1cGRhdGVKb2IsIHdvcmtmbG93Q29uZmlnLCB3b3JrZmxvd0hhbmRsZXIgfSk9PntcbiAgICAvLyBPYmplY3Qgc28gdGhhdCB3ZSBjYW4gcGFzcyBjb250ZW50cyBieSByZWZlcmVuY2UsIG5vdCB2YWx1ZS5cbiAgICAvLyBXZSB3YW50IGFueSBtdXRhdGlvbnMgdG8gYmUgcmVmbGVjdGVkIGluIGhlcmUuXG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIHJlYWNoZWRNYXhSZXRyaWVzOiBmYWxzZVxuICAgIH07XG4gICAgY29uc3Qgc3RlcHNUb1J1biA9IFtdO1xuICAgIGZvciAoY29uc3Qgc3RlcCBvZiB3b3JrZmxvd0hhbmRsZXIpe1xuICAgICAgICBpZiAoJ3Rhc2snIGluIHN0ZXApIHtcbiAgICAgICAgICAgIGlmIChqb2I/LnRhc2tTdGF0dXM/LltzdGVwLnRhc2tdPy5bc3RlcC5pZF0/LmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoam9iPy50YXNrU3RhdHVzPy5bJ2lubGluZSddPy5bc3RlcC5pZF0/LmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ZXAuY29uZGl0aW9uICYmICFzdGVwLmNvbmRpdGlvbih7XG4gICAgICAgICAgICBqb2I6IGpvYlxuICAgICAgICB9KSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcHNUb1J1bi5wdXNoKHN0ZXApO1xuICAgIH1cbiAgICBjb25zdCB0YXNrcyA9IGdldFJ1blRhc2tGdW5jdGlvbihzdGF0ZSwgam9iLCB3b3JrZmxvd0NvbmZpZywgcmVxLCBmYWxzZSwgdXBkYXRlSm9iKTtcbiAgICBjb25zdCBpbmxpbmVUYXNrID0gZ2V0UnVuVGFza0Z1bmN0aW9uKHN0YXRlLCBqb2IsIHdvcmtmbG93Q29uZmlnLCByZXEsIHRydWUsIHVwZGF0ZUpvYik7XG4gICAgLy8gUnVuIHRoZSBqb2JcbiAgICBsZXQgaGFzRmluYWxFcnJvciA9IGZhbHNlO1xuICAgIGxldCBlcnJvcjtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChzdGVwc1RvUnVuLm1hcChhc3luYyAoc3RlcCk9PntcbiAgICAgICAgICAgIGlmICgndGFzaycgaW4gc3RlcCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRhc2tzW3N0ZXAudGFza10oc3RlcC5pZCwge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogc3RlcC5pbnB1dCA/IHN0ZXAuaW5wdXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgam9iOiBqb2JcbiAgICAgICAgICAgICAgICAgICAgfSkgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmllczogc3RlcC5yZXRyaWVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGlubGluZVRhc2soc3RlcC5pZCwge1xuICAgICAgICAgICAgICAgICAgICByZXRyaWVzOiBzdGVwLnJldHJpZXMsXG4gICAgICAgICAgICAgICAgICAgIHRhc2s6IHN0ZXAuaW5saW5lVGFza1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnN0IGVycm9yUmVzdWx0ID0gaGFuZGxlV29ya2Zsb3dFcnJvcih7XG4gICAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgICAgam9iLFxuICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICB3b3JrZmxvd0NvbmZpZ1xuICAgICAgICB9KTtcbiAgICAgICAgZXJyb3IgPSBlcnI7XG4gICAgICAgIGhhc0ZpbmFsRXJyb3IgPSBlcnJvclJlc3VsdC5oYXNGaW5hbEVycm9yO1xuICAgIH1cbiAgICAvLyBDaGVjayBpZiB3b3JrZmxvdyBoYXMgY29tcGxldGVkXG4gICAgbGV0IHdvcmtmbG93Q29tcGxldGVkID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBbc2x1ZywgbWFwXSBvZiBPYmplY3QuZW50cmllcyhqb2IudGFza1N0YXR1cykpe1xuICAgICAgICBmb3IgKGNvbnN0IFtpZCwgdGFza1N0YXR1c10gb2YgT2JqZWN0LmVudHJpZXMobWFwKSl7XG4gICAgICAgICAgICBpZiAodGFza1N0YXR1cy5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSB3b3JrZmxvd0hhbmRsZXIuZmluZCgoc3RlcCk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYgKCd0YXNrJyBpbiBzdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RlcC50YXNrID09PSBzbHVnICYmIHN0ZXAuaWQgPT09IGlkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXAuaWQgPT09IGlkICYmIHNsdWcgPT09ICdpbmxpbmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0ZXAuY29tcGxldGVzSm9iKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtmbG93Q29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh3b3JrZmxvd0NvbXBsZXRlZCkge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFRhc2tzIHVwZGF0ZSB0aGUgam9iIGlmIHRoZXkgZXJyb3IgLSBidXQgaW4gY2FzZSB0aGVyZSBpcyBhbiB1bmhhbmRsZWQgZXJyb3IgKGUuZy4gaW4gdGhlIHdvcmtmbG93IGl0c2VsZiwgbm90IGluIGEgdGFzaylcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZW5zdXJlIHRoZSBqb2IgaXMgdXBkYXRlZCB0byByZWZsZWN0IHRoZSBlcnJvclxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlSm9iKHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBoYXNGaW5hbEVycm9yID8gZXJyb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgaGFzRXJyb3I6IGhhc0ZpbmFsRXJyb3IsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgdG90YWxUcmllZDogKGpvYi50b3RhbFRyaWVkID8/IDApICsgMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVKb2Ioe1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgdG90YWxUcmllZDogKGpvYi50b3RhbFRyaWVkID8/IDApICsgMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnXG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBUYXNrcyB1cGRhdGUgdGhlIGpvYiBpZiB0aGV5IGVycm9yIC0gYnV0IGluIGNhc2UgdGhlcmUgaXMgYW4gdW5oYW5kbGVkIGVycm9yIChlLmcuIGluIHRoZSB3b3JrZmxvdyBpdHNlbGYsIG5vdCBpbiBhIHRhc2spXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgam9iIGlzIHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGUgZXJyb3JcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUpvYih7XG4gICAgICAgICAgICAgICAgZXJyb3I6IGhhc0ZpbmFsRXJyb3IgPyBlcnJvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBoYXNFcnJvcjogaGFzRmluYWxFcnJvcixcbiAgICAgICAgICAgICAgICBwcm9jZXNzaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0b3RhbFRyaWVkOiAoam9iLnRvdGFsVHJpZWQgPz8gMCkgKyAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBoYXNGaW5hbEVycm9yID8gJ2Vycm9yLXJlYWNoZWQtbWF4LXJldHJpZXMnIDogJ2Vycm9yJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJldHJ5IHRoZSBqb2IgLSBubyBuZWVkIHRvIGJ1bXAgcHJvY2Vzc2luZyBvciB0b3RhbFRyaWVkIGFzIHRoaXMgZG9lcyBub3QgY291bnQgYXMgYSByZXRyeS4gQSBjb25kaXRpb24gb2YgYSBkaWZmZXJlbnQgdGFzayBtaWdodCBoYXZlIGp1c3Qgb3BlbmVkIHVwIVxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJ1bkpTT05Kb2Ioe1xuICAgICAgICAgICAgICAgIGpvYixcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgdXBkYXRlSm9iLFxuICAgICAgICAgICAgICAgIHdvcmtmbG93Q29uZmlnLFxuICAgICAgICAgICAgICAgIHdvcmtmbG93SGFuZGxlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJSONJob/index.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/calculateBackoffWaitUntil.js":
/*!*****************************************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/calculateBackoffWaitUntil.js ***!
  \*****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateBackoffWaitUntil: () => (/* binding */ calculateBackoffWaitUntil)\n/* harmony export */ });\nfunction calculateBackoffWaitUntil({ retriesConfig, totalTried }) {\n    let waitUntil = new Date();\n    if (typeof retriesConfig === 'object') {\n        if (retriesConfig.backoff) {\n            if (retriesConfig.backoff.type === 'fixed') {\n                waitUntil = retriesConfig.backoff.delay ? new Date(new Date().getTime() + retriesConfig.backoff.delay) : new Date();\n            } else if (retriesConfig.backoff.type === 'exponential') {\n                // 2 ^ (attempts - 1) * delay (current attempt is not included in totalTried, thus no need for -1)\n                const delay = retriesConfig.backoff.delay ? retriesConfig.backoff.delay : 0;\n                waitUntil = new Date(new Date().getTime() + Math.pow(2, totalTried) * delay);\n            }\n        }\n    }\n    /*\n  const differenceInMSBetweenNowAndWaitUntil = waitUntil.getTime() - new Date().getTime()\n\n  const differenceInSBetweenNowAndWaitUntil = differenceInMSBetweenNowAndWaitUntil / 1000\n  console.log('Calculated backoff', {\n    differenceInMSBetweenNowAndWaitUntil,\n    differenceInSBetweenNowAndWaitUntil,\n    retriesConfig,\n    totalTried,\n  })*/ return waitUntil;\n}\n\n//# sourceMappingURL=calculateBackoffWaitUntil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL3J1bkpvYi9jYWxjdWxhdGVCYWNrb2ZmV2FpdFVudGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxxQ0FBcUMsMkJBQTJCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL3J1bkpvYi9jYWxjdWxhdGVCYWNrb2ZmV2FpdFVudGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVCYWNrb2ZmV2FpdFVudGlsKHsgcmV0cmllc0NvbmZpZywgdG90YWxUcmllZCB9KSB7XG4gICAgbGV0IHdhaXRVbnRpbCA9IG5ldyBEYXRlKCk7XG4gICAgaWYgKHR5cGVvZiByZXRyaWVzQ29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAocmV0cmllc0NvbmZpZy5iYWNrb2ZmKSB7XG4gICAgICAgICAgICBpZiAocmV0cmllc0NvbmZpZy5iYWNrb2ZmLnR5cGUgPT09ICdmaXhlZCcpIHtcbiAgICAgICAgICAgICAgICB3YWl0VW50aWwgPSByZXRyaWVzQ29uZmlnLmJhY2tvZmYuZGVsYXkgPyBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIHJldHJpZXNDb25maWcuYmFja29mZi5kZWxheSkgOiBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXRyaWVzQ29uZmlnLmJhY2tvZmYudHlwZSA9PT0gJ2V4cG9uZW50aWFsJykge1xuICAgICAgICAgICAgICAgIC8vIDIgXiAoYXR0ZW1wdHMgLSAxKSAqIGRlbGF5IChjdXJyZW50IGF0dGVtcHQgaXMgbm90IGluY2x1ZGVkIGluIHRvdGFsVHJpZWQsIHRodXMgbm8gbmVlZCBmb3IgLTEpXG4gICAgICAgICAgICAgICAgY29uc3QgZGVsYXkgPSByZXRyaWVzQ29uZmlnLmJhY2tvZmYuZGVsYXkgPyByZXRyaWVzQ29uZmlnLmJhY2tvZmYuZGVsYXkgOiAwO1xuICAgICAgICAgICAgICAgIHdhaXRVbnRpbCA9IG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgTWF0aC5wb3coMiwgdG90YWxUcmllZCkgKiBkZWxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLypcbiAgY29uc3QgZGlmZmVyZW5jZUluTVNCZXR3ZWVuTm93QW5kV2FpdFVudGlsID0gd2FpdFVudGlsLmdldFRpbWUoKSAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG5cbiAgY29uc3QgZGlmZmVyZW5jZUluU0JldHdlZW5Ob3dBbmRXYWl0VW50aWwgPSBkaWZmZXJlbmNlSW5NU0JldHdlZW5Ob3dBbmRXYWl0VW50aWwgLyAxMDAwXG4gIGNvbnNvbGUubG9nKCdDYWxjdWxhdGVkIGJhY2tvZmYnLCB7XG4gICAgZGlmZmVyZW5jZUluTVNCZXR3ZWVuTm93QW5kV2FpdFVudGlsLFxuICAgIGRpZmZlcmVuY2VJblNCZXR3ZWVuTm93QW5kV2FpdFVudGlsLFxuICAgIHJldHJpZXNDb25maWcsXG4gICAgdG90YWxUcmllZCxcbiAgfSkqLyByZXR1cm4gd2FpdFVudGlsO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxjdWxhdGVCYWNrb2ZmV2FpdFVudGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/calculateBackoffWaitUntil.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/getRunTaskFunction.js":
/*!**********************************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/getRunTaskFunction.js ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRunTaskFunction: () => (/* binding */ getRunTaskFunction),\n/* harmony export */   handleTaskFailed: () => (/* binding */ handleTaskFailed)\n/* harmony export */ });\n/* harmony import */ var bson_objectid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson-objectid */ \"(rsc)/../../../../node_modules/.pnpm/bson-objectid@2.0.4/node_modules/bson-objectid/objectid.js\");\n/* harmony import */ var _calculateBackoffWaitUntil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./calculateBackoffWaitUntil.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/calculateBackoffWaitUntil.js\");\n/* harmony import */ var _importHandlerPath_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./importHandlerPath.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/importHandlerPath.js\");\n\n\n\nconst ObjectId = bson_objectid__WEBPACK_IMPORTED_MODULE_0__[\"default\"] || bson_objectid__WEBPACK_IMPORTED_MODULE_0__;\nasync function getTaskHandlerFromConfig(taskConfig) {\n    let handler;\n    if (typeof taskConfig.handler === 'function') {\n        handler = taskConfig.handler;\n    } else {\n        handler = await (0,_importHandlerPath_js__WEBPACK_IMPORTED_MODULE_1__.importHandlerPath)(taskConfig.handler);\n    }\n    return handler;\n}\nasync function handleTaskFailed({ error, executedAt, input, job, maxRetries, output, parent, req, retriesConfig, state, taskConfig, taskHandlerResult, taskID, taskSlug, taskStatus, updateJob }) {\n    req.payload.logger.error({\n        err: error,\n        job,\n        msg: `Error running task ${taskID}`,\n        taskSlug\n    });\n    if (taskConfig?.onFail) {\n        await taskConfig.onFail();\n    }\n    if (!job.log) {\n        job.log = [];\n    }\n    const errorJSON = error ? {\n        name: error.name,\n        message: error.message,\n        stack: error.stack\n    } : {\n        message: taskHandlerResult.state === 'failed' ? taskHandlerResult.errorMessage ?? taskHandlerResult.state : 'failed'\n    };\n    job.log.push({\n        id: new ObjectId().toHexString(),\n        completedAt: new Date().toISOString(),\n        error: errorJSON,\n        executedAt: executedAt.toISOString(),\n        input,\n        output,\n        parent: req?.payload?.config?.jobs?.addParentToTaskLog ? parent : undefined,\n        state: 'failed',\n        taskID,\n        taskSlug\n    });\n    if (job.waitUntil) {\n        // Check if waitUntil is in the past\n        const waitUntil = new Date(job.waitUntil);\n        if (waitUntil < new Date()) {\n            // Outdated waitUntil, remove it\n            delete job.waitUntil;\n        }\n    }\n    if (!taskStatus?.complete && (taskStatus?.totalTried ?? 0) >= maxRetries) {\n        state.reachedMaxRetries = true;\n        await updateJob({\n            error,\n            hasError: true,\n            log: job.log,\n            processing: false,\n            waitUntil: job.waitUntil\n        });\n        throw new Error(`Task ${taskSlug} has failed more than the allowed retries in workflow ${job.workflowSlug}${error ? `. Error: ${String(error)}` : ''}`);\n    } else {\n        // Job will retry. Let's determine when!\n        const waitUntil = (0,_calculateBackoffWaitUntil_js__WEBPACK_IMPORTED_MODULE_2__.calculateBackoffWaitUntil)({\n            retriesConfig,\n            totalTried: taskStatus?.totalTried ?? 0\n        });\n        // Update job's waitUntil only if this waitUntil is later than the current one\n        if (!job.waitUntil || waitUntil > new Date(job.waitUntil)) {\n            job.waitUntil = waitUntil.toISOString();\n        }\n        await updateJob({\n            log: job.log,\n            processing: false,\n            waitUntil: job.waitUntil\n        });\n        throw error ?? new Error('Task failed');\n    }\n}\nconst getRunTaskFunction = (state, job, workflowConfig, req, isInline, updateJob, parent)=>{\n    const runTask = (taskSlug)=>async (taskID, { input, retries, task })=>{\n            const executedAt = new Date();\n            let inlineRunner = null;\n            if (isInline) {\n                inlineRunner = task;\n            }\n            let taskConfig;\n            if (!isInline) {\n                taskConfig = req.payload.config.jobs.tasks?.length && req.payload.config.jobs.tasks.find((t)=>t.slug === taskSlug);\n                if (!taskConfig) {\n                    throw new Error(`Task ${taskSlug} not found in workflow ${job.workflowSlug}`);\n                }\n            }\n            const retriesConfigFromPropsNormalized = retries == undefined || retries == null ? {} : typeof retries === 'number' ? {\n                attempts: retries\n            } : retries;\n            const retriesConfigFromTaskConfigNormalized = taskConfig ? typeof taskConfig.retries === 'number' ? {\n                attempts: taskConfig.retries\n            } : taskConfig.retries : {};\n            const finalRetriesConfig = {\n                ...retriesConfigFromTaskConfigNormalized,\n                ...retriesConfigFromPropsNormalized\n            };\n            const taskStatus = job?.taskStatus?.[taskSlug] ? job.taskStatus[taskSlug][taskID] : null;\n            // Handle restoration of task if it succeeded in a previous run\n            if (taskStatus && taskStatus.complete === true) {\n                let shouldRestore = true;\n                if (finalRetriesConfig?.shouldRestore === false) {\n                    shouldRestore = false;\n                } else if (typeof finalRetriesConfig?.shouldRestore === 'function') {\n                    shouldRestore = await finalRetriesConfig.shouldRestore({\n                        input,\n                        job,\n                        req,\n                        taskStatus\n                    });\n                }\n                if (shouldRestore) {\n                    return taskStatus.output;\n                }\n            }\n            let runner;\n            if (isInline) {\n                runner = inlineRunner;\n            } else {\n                if (!taskConfig) {\n                    throw new Error(`Task ${taskSlug} not found in workflow ${job.workflowSlug}`);\n                }\n                runner = await getTaskHandlerFromConfig(taskConfig);\n            }\n            if (!runner || typeof runner !== 'function') {\n                const errorMessage = isInline ? `Can't find runner for inline task with ID ${taskID}` : `Can't find runner while importing with the path ${typeof workflowConfig.handler === 'string' ? workflowConfig.handler : 'unknown - no string path'} in job type ${job.workflowSlug} for task ${taskSlug}.`;\n                req.payload.logger.error(errorMessage);\n                await updateJob({\n                    error: {\n                        error: errorMessage\n                    },\n                    hasError: true,\n                    log: [\n                        ...job.log,\n                        {\n                            id: new ObjectId().toHexString(),\n                            completedAt: new Date().toISOString(),\n                            error: errorMessage,\n                            executedAt: executedAt.toISOString(),\n                            parent: req?.payload?.config?.jobs?.addParentToTaskLog ? parent : undefined,\n                            state: 'failed',\n                            taskID,\n                            taskSlug\n                        }\n                    ],\n                    processing: false\n                });\n                throw new Error(errorMessage);\n            }\n            let maxRetries = finalRetriesConfig?.attempts;\n            if (maxRetries === undefined || maxRetries === null) {\n                // Inherit retries from workflow config, if they are undefined and the workflow config has retries configured\n                if (workflowConfig.retries !== undefined && workflowConfig.retries !== null) {\n                    maxRetries = typeof workflowConfig.retries === 'object' ? workflowConfig.retries.attempts : workflowConfig.retries;\n                } else {\n                    maxRetries = 0;\n                }\n            }\n            let taskHandlerResult;\n            let output = {};\n            try {\n                taskHandlerResult = await runner({\n                    inlineTask: getRunTaskFunction(state, job, workflowConfig, req, true, updateJob, {\n                        taskID,\n                        taskSlug\n                    }),\n                    input,\n                    job: job,\n                    req,\n                    tasks: getRunTaskFunction(state, job, workflowConfig, req, false, updateJob, {\n                        taskID,\n                        taskSlug\n                    })\n                });\n            } catch (err) {\n                await handleTaskFailed({\n                    error: err,\n                    executedAt,\n                    input,\n                    job,\n                    maxRetries,\n                    output,\n                    parent,\n                    req,\n                    retriesConfig: finalRetriesConfig,\n                    state,\n                    taskConfig,\n                    taskID,\n                    taskSlug,\n                    taskStatus,\n                    updateJob\n                });\n                throw new Error('Task failed');\n            }\n            if (taskHandlerResult.state === 'failed') {\n                await handleTaskFailed({\n                    executedAt,\n                    input,\n                    job,\n                    maxRetries,\n                    output,\n                    parent,\n                    req,\n                    retriesConfig: finalRetriesConfig,\n                    state,\n                    taskConfig,\n                    taskHandlerResult,\n                    taskID,\n                    taskSlug,\n                    taskStatus,\n                    updateJob\n                });\n                throw new Error('Task failed');\n            } else {\n                output = taskHandlerResult.output;\n            }\n            if (taskConfig?.onSuccess) {\n                await taskConfig.onSuccess();\n            }\n            if (!job.log) {\n                job.log = [];\n            }\n            job.log.push({\n                id: new ObjectId().toHexString(),\n                completedAt: new Date().toISOString(),\n                executedAt: executedAt.toISOString(),\n                input,\n                output,\n                parent: req?.payload?.config?.jobs?.addParentToTaskLog ? parent : undefined,\n                state: 'succeeded',\n                taskID,\n                taskSlug\n            });\n            await updateJob({\n                log: job.log\n            });\n            return output;\n        };\n    if (isInline) {\n        return runTask('inline');\n    } else {\n        const tasks = {};\n        for (const task of req?.payload?.config?.jobs?.tasks ?? []){\n            tasks[task.slug] = runTask(task.slug);\n        }\n        return tasks;\n    }\n};\n\n//# sourceMappingURL=getRunTaskFunction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL3J1bkpvYi9nZXRSdW5UYXNrRnVuY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkM7QUFDZ0M7QUFDaEI7QUFDM0QsaUJBQWlCLHFEQUFzQixJQUFJLDBDQUFjO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHdCQUF3Qix3RUFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ08sa0NBQWtDLDhKQUE4SjtBQUN2TTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsT0FBTztBQUMxQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxnQ0FBZ0MsVUFBVSx1REFBdUQsaUJBQWlCLEVBQUUsb0JBQW9CLGNBQWMsT0FBTztBQUM3SixNQUFNO0FBQ047QUFDQSwwQkFBMEIsd0ZBQXlCO0FBQ25EO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDTztBQUNQLGlEQUFpRCxzQkFBc0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFVBQVUsd0JBQXdCLGlCQUFpQjtBQUMvRjtBQUNBO0FBQ0Esa0dBQWtHO0FBQ2xHO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsNENBQTRDLFVBQVUsd0JBQXdCLGlCQUFpQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RixPQUFPLHVEQUF1RCxrR0FBa0csY0FBYyxrQkFBa0IsV0FBVyxTQUFTO0FBQ2pUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3F1ZXVlcy9vcGVyYXRpb25zL3J1bkpvYnMvcnVuSm9iL2dldFJ1blRhc2tGdW5jdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT2JqZWN0SWRJbXBvcnQgZnJvbSAnYnNvbi1vYmplY3RpZCc7XG5pbXBvcnQgeyBjYWxjdWxhdGVCYWNrb2ZmV2FpdFVudGlsIH0gZnJvbSAnLi9jYWxjdWxhdGVCYWNrb2ZmV2FpdFVudGlsLmpzJztcbmltcG9ydCB7IGltcG9ydEhhbmRsZXJQYXRoIH0gZnJvbSAnLi9pbXBvcnRIYW5kbGVyUGF0aC5qcyc7XG5jb25zdCBPYmplY3RJZCA9IE9iamVjdElkSW1wb3J0LmRlZmF1bHQgfHwgT2JqZWN0SWRJbXBvcnQ7XG5hc3luYyBmdW5jdGlvbiBnZXRUYXNrSGFuZGxlckZyb21Db25maWcodGFza0NvbmZpZykge1xuICAgIGxldCBoYW5kbGVyO1xuICAgIGlmICh0eXBlb2YgdGFza0NvbmZpZy5oYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGhhbmRsZXIgPSB0YXNrQ29uZmlnLmhhbmRsZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZGxlciA9IGF3YWl0IGltcG9ydEhhbmRsZXJQYXRoKHRhc2tDb25maWcuaGFuZGxlcik7XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVyO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVRhc2tGYWlsZWQoeyBlcnJvciwgZXhlY3V0ZWRBdCwgaW5wdXQsIGpvYiwgbWF4UmV0cmllcywgb3V0cHV0LCBwYXJlbnQsIHJlcSwgcmV0cmllc0NvbmZpZywgc3RhdGUsIHRhc2tDb25maWcsIHRhc2tIYW5kbGVyUmVzdWx0LCB0YXNrSUQsIHRhc2tTbHVnLCB0YXNrU3RhdHVzLCB1cGRhdGVKb2IgfSkge1xuICAgIHJlcS5wYXlsb2FkLmxvZ2dlci5lcnJvcih7XG4gICAgICAgIGVycjogZXJyb3IsXG4gICAgICAgIGpvYixcbiAgICAgICAgbXNnOiBgRXJyb3IgcnVubmluZyB0YXNrICR7dGFza0lEfWAsXG4gICAgICAgIHRhc2tTbHVnXG4gICAgfSk7XG4gICAgaWYgKHRhc2tDb25maWc/Lm9uRmFpbCkge1xuICAgICAgICBhd2FpdCB0YXNrQ29uZmlnLm9uRmFpbCgpO1xuICAgIH1cbiAgICBpZiAoIWpvYi5sb2cpIHtcbiAgICAgICAgam9iLmxvZyA9IFtdO1xuICAgIH1cbiAgICBjb25zdCBlcnJvckpTT04gPSBlcnJvciA/IHtcbiAgICAgICAgbmFtZTogZXJyb3IubmFtZSxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgc3RhY2s6IGVycm9yLnN0YWNrXG4gICAgfSA6IHtcbiAgICAgICAgbWVzc2FnZTogdGFza0hhbmRsZXJSZXN1bHQuc3RhdGUgPT09ICdmYWlsZWQnID8gdGFza0hhbmRsZXJSZXN1bHQuZXJyb3JNZXNzYWdlID8/IHRhc2tIYW5kbGVyUmVzdWx0LnN0YXRlIDogJ2ZhaWxlZCdcbiAgICB9O1xuICAgIGpvYi5sb2cucHVzaCh7XG4gICAgICAgIGlkOiBuZXcgT2JqZWN0SWQoKS50b0hleFN0cmluZygpLFxuICAgICAgICBjb21wbGV0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBlcnJvcjogZXJyb3JKU09OLFxuICAgICAgICBleGVjdXRlZEF0OiBleGVjdXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGlucHV0LFxuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcmVudDogcmVxPy5wYXlsb2FkPy5jb25maWc/LmpvYnM/LmFkZFBhcmVudFRvVGFza0xvZyA/IHBhcmVudCA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhdGU6ICdmYWlsZWQnLFxuICAgICAgICB0YXNrSUQsXG4gICAgICAgIHRhc2tTbHVnXG4gICAgfSk7XG4gICAgaWYgKGpvYi53YWl0VW50aWwpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2FpdFVudGlsIGlzIGluIHRoZSBwYXN0XG4gICAgICAgIGNvbnN0IHdhaXRVbnRpbCA9IG5ldyBEYXRlKGpvYi53YWl0VW50aWwpO1xuICAgICAgICBpZiAod2FpdFVudGlsIDwgbmV3IERhdGUoKSkge1xuICAgICAgICAgICAgLy8gT3V0ZGF0ZWQgd2FpdFVudGlsLCByZW1vdmUgaXRcbiAgICAgICAgICAgIGRlbGV0ZSBqb2Iud2FpdFVudGlsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghdGFza1N0YXR1cz8uY29tcGxldGUgJiYgKHRhc2tTdGF0dXM/LnRvdGFsVHJpZWQgPz8gMCkgPj0gbWF4UmV0cmllcykge1xuICAgICAgICBzdGF0ZS5yZWFjaGVkTWF4UmV0cmllcyA9IHRydWU7XG4gICAgICAgIGF3YWl0IHVwZGF0ZUpvYih7XG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIGhhc0Vycm9yOiB0cnVlLFxuICAgICAgICAgICAgbG9nOiBqb2IubG9nLFxuICAgICAgICAgICAgcHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGpvYi53YWl0VW50aWxcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGFzayAke3Rhc2tTbHVnfSBoYXMgZmFpbGVkIG1vcmUgdGhhbiB0aGUgYWxsb3dlZCByZXRyaWVzIGluIHdvcmtmbG93ICR7am9iLndvcmtmbG93U2x1Z30ke2Vycm9yID8gYC4gRXJyb3I6ICR7U3RyaW5nKGVycm9yKX1gIDogJyd9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSm9iIHdpbGwgcmV0cnkuIExldCdzIGRldGVybWluZSB3aGVuIVxuICAgICAgICBjb25zdCB3YWl0VW50aWwgPSBjYWxjdWxhdGVCYWNrb2ZmV2FpdFVudGlsKHtcbiAgICAgICAgICAgIHJldHJpZXNDb25maWcsXG4gICAgICAgICAgICB0b3RhbFRyaWVkOiB0YXNrU3RhdHVzPy50b3RhbFRyaWVkID8/IDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFVwZGF0ZSBqb2IncyB3YWl0VW50aWwgb25seSBpZiB0aGlzIHdhaXRVbnRpbCBpcyBsYXRlciB0aGFuIHRoZSBjdXJyZW50IG9uZVxuICAgICAgICBpZiAoIWpvYi53YWl0VW50aWwgfHwgd2FpdFVudGlsID4gbmV3IERhdGUoam9iLndhaXRVbnRpbCkpIHtcbiAgICAgICAgICAgIGpvYi53YWl0VW50aWwgPSB3YWl0VW50aWwudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB1cGRhdGVKb2Ioe1xuICAgICAgICAgICAgbG9nOiBqb2IubG9nLFxuICAgICAgICAgICAgcHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGpvYi53YWl0VW50aWxcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IGVycm9yID8/IG5ldyBFcnJvcignVGFzayBmYWlsZWQnKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgZ2V0UnVuVGFza0Z1bmN0aW9uID0gKHN0YXRlLCBqb2IsIHdvcmtmbG93Q29uZmlnLCByZXEsIGlzSW5saW5lLCB1cGRhdGVKb2IsIHBhcmVudCk9PntcbiAgICBjb25zdCBydW5UYXNrID0gKHRhc2tTbHVnKT0+YXN5bmMgKHRhc2tJRCwgeyBpbnB1dCwgcmV0cmllcywgdGFzayB9KT0+e1xuICAgICAgICAgICAgY29uc3QgZXhlY3V0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBsZXQgaW5saW5lUnVubmVyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChpc0lubGluZSkge1xuICAgICAgICAgICAgICAgIGlubGluZVJ1bm5lciA9IHRhc2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdGFza0NvbmZpZztcbiAgICAgICAgICAgIGlmICghaXNJbmxpbmUpIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29uZmlnID0gcmVxLnBheWxvYWQuY29uZmlnLmpvYnMudGFza3M/Lmxlbmd0aCAmJiByZXEucGF5bG9hZC5jb25maWcuam9icy50YXNrcy5maW5kKCh0KT0+dC5zbHVnID09PSB0YXNrU2x1Zyk7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXNrQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGFzayAke3Rhc2tTbHVnfSBub3QgZm91bmQgaW4gd29ya2Zsb3cgJHtqb2Iud29ya2Zsb3dTbHVnfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJldHJpZXNDb25maWdGcm9tUHJvcHNOb3JtYWxpemVkID0gcmV0cmllcyA9PSB1bmRlZmluZWQgfHwgcmV0cmllcyA9PSBudWxsID8ge30gOiB0eXBlb2YgcmV0cmllcyA9PT0gJ251bWJlcicgPyB7XG4gICAgICAgICAgICAgICAgYXR0ZW1wdHM6IHJldHJpZXNcbiAgICAgICAgICAgIH0gOiByZXRyaWVzO1xuICAgICAgICAgICAgY29uc3QgcmV0cmllc0NvbmZpZ0Zyb21UYXNrQ29uZmlnTm9ybWFsaXplZCA9IHRhc2tDb25maWcgPyB0eXBlb2YgdGFza0NvbmZpZy5yZXRyaWVzID09PSAnbnVtYmVyJyA/IHtcbiAgICAgICAgICAgICAgICBhdHRlbXB0czogdGFza0NvbmZpZy5yZXRyaWVzXG4gICAgICAgICAgICB9IDogdGFza0NvbmZpZy5yZXRyaWVzIDoge307XG4gICAgICAgICAgICBjb25zdCBmaW5hbFJldHJpZXNDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgLi4ucmV0cmllc0NvbmZpZ0Zyb21UYXNrQ29uZmlnTm9ybWFsaXplZCxcbiAgICAgICAgICAgICAgICAuLi5yZXRyaWVzQ29uZmlnRnJvbVByb3BzTm9ybWFsaXplZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tTdGF0dXMgPSBqb2I/LnRhc2tTdGF0dXM/Llt0YXNrU2x1Z10gPyBqb2IudGFza1N0YXR1c1t0YXNrU2x1Z11bdGFza0lEXSA6IG51bGw7XG4gICAgICAgICAgICAvLyBIYW5kbGUgcmVzdG9yYXRpb24gb2YgdGFzayBpZiBpdCBzdWNjZWVkZWQgaW4gYSBwcmV2aW91cyBydW5cbiAgICAgICAgICAgIGlmICh0YXNrU3RhdHVzICYmIHRhc2tTdGF0dXMuY29tcGxldGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2hvdWxkUmVzdG9yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGZpbmFsUmV0cmllc0NvbmZpZz8uc2hvdWxkUmVzdG9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzdG9yZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpbmFsUmV0cmllc0NvbmZpZz8uc2hvdWxkUmVzdG9yZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXN0b3JlID0gYXdhaXQgZmluYWxSZXRyaWVzQ29uZmlnLnNob3VsZFJlc3RvcmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2IsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrU3RhdHVzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkUmVzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFza1N0YXR1cy5vdXRwdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJ1bm5lcjtcbiAgICAgICAgICAgIGlmIChpc0lubGluZSkge1xuICAgICAgICAgICAgICAgIHJ1bm5lciA9IGlubGluZVJ1bm5lcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXNrQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGFzayAke3Rhc2tTbHVnfSBub3QgZm91bmQgaW4gd29ya2Zsb3cgJHtqb2Iud29ya2Zsb3dTbHVnfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBydW5uZXIgPSBhd2FpdCBnZXRUYXNrSGFuZGxlckZyb21Db25maWcodGFza0NvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJ1bm5lciB8fCB0eXBlb2YgcnVubmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaXNJbmxpbmUgPyBgQ2FuJ3QgZmluZCBydW5uZXIgZm9yIGlubGluZSB0YXNrIHdpdGggSUQgJHt0YXNrSUR9YCA6IGBDYW4ndCBmaW5kIHJ1bm5lciB3aGlsZSBpbXBvcnRpbmcgd2l0aCB0aGUgcGF0aCAke3R5cGVvZiB3b3JrZmxvd0NvbmZpZy5oYW5kbGVyID09PSAnc3RyaW5nJyA/IHdvcmtmbG93Q29uZmlnLmhhbmRsZXIgOiAndW5rbm93biAtIG5vIHN0cmluZyBwYXRoJ30gaW4gam9iIHR5cGUgJHtqb2Iud29ya2Zsb3dTbHVnfSBmb3IgdGFzayAke3Rhc2tTbHVnfS5gO1xuICAgICAgICAgICAgICAgIHJlcS5wYXlsb2FkLmxvZ2dlci5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUpvYih7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsb2c6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmpvYi5sb2csXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG5ldyBPYmplY3RJZCgpLnRvSGV4U3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVkQXQ6IGV4ZWN1dGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IHJlcT8ucGF5bG9hZD8uY29uZmlnPy5qb2JzPy5hZGRQYXJlbnRUb1Rhc2tMb2cgPyBwYXJlbnQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICdmYWlsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrU2x1Z1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzaW5nOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1heFJldHJpZXMgPSBmaW5hbFJldHJpZXNDb25maWc/LmF0dGVtcHRzO1xuICAgICAgICAgICAgaWYgKG1heFJldHJpZXMgPT09IHVuZGVmaW5lZCB8fCBtYXhSZXRyaWVzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gSW5oZXJpdCByZXRyaWVzIGZyb20gd29ya2Zsb3cgY29uZmlnLCBpZiB0aGV5IGFyZSB1bmRlZmluZWQgYW5kIHRoZSB3b3JrZmxvdyBjb25maWcgaGFzIHJldHJpZXMgY29uZmlndXJlZFxuICAgICAgICAgICAgICAgIGlmICh3b3JrZmxvd0NvbmZpZy5yZXRyaWVzICE9PSB1bmRlZmluZWQgJiYgd29ya2Zsb3dDb25maWcucmV0cmllcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBtYXhSZXRyaWVzID0gdHlwZW9mIHdvcmtmbG93Q29uZmlnLnJldHJpZXMgPT09ICdvYmplY3QnID8gd29ya2Zsb3dDb25maWcucmV0cmllcy5hdHRlbXB0cyA6IHdvcmtmbG93Q29uZmlnLnJldHJpZXM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4UmV0cmllcyA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRhc2tIYW5kbGVyUmVzdWx0O1xuICAgICAgICAgICAgbGV0IG91dHB1dCA9IHt9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0YXNrSGFuZGxlclJlc3VsdCA9IGF3YWl0IHJ1bm5lcih7XG4gICAgICAgICAgICAgICAgICAgIGlubGluZVRhc2s6IGdldFJ1blRhc2tGdW5jdGlvbihzdGF0ZSwgam9iLCB3b3JrZmxvd0NvbmZpZywgcmVxLCB0cnVlLCB1cGRhdGVKb2IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tTbHVnXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgam9iOiBqb2IsXG4gICAgICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICAgICAgdGFza3M6IGdldFJ1blRhc2tGdW5jdGlvbihzdGF0ZSwgam9iLCB3b3JrZmxvd0NvbmZpZywgcmVxLCBmYWxzZSwgdXBkYXRlSm9iLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrU2x1Z1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlVGFza0ZhaWxlZCh7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVkQXQsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICBqb2IsXG4gICAgICAgICAgICAgICAgICAgIG1heFJldHJpZXMsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXNDb25maWc6IGZpbmFsUmV0cmllc0NvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIHRhc2tDb25maWcsXG4gICAgICAgICAgICAgICAgICAgIHRhc2tJRCxcbiAgICAgICAgICAgICAgICAgICAgdGFza1NsdWcsXG4gICAgICAgICAgICAgICAgICAgIHRhc2tTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUpvYlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGFzayBmYWlsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXNrSGFuZGxlclJlc3VsdC5zdGF0ZSA9PT0gJ2ZhaWxlZCcpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVUYXNrRmFpbGVkKHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZWRBdCxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIGpvYixcbiAgICAgICAgICAgICAgICAgICAgbWF4UmV0cmllcyxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmllc0NvbmZpZzogZmluYWxSZXRyaWVzQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgdGFza0NvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgdGFza0hhbmRsZXJSZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIHRhc2tJRCxcbiAgICAgICAgICAgICAgICAgICAgdGFza1NsdWcsXG4gICAgICAgICAgICAgICAgICAgIHRhc2tTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUpvYlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGFzayBmYWlsZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gdGFza0hhbmRsZXJSZXN1bHQub3V0cHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhc2tDb25maWc/Lm9uU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRhc2tDb25maWcub25TdWNjZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWpvYi5sb2cpIHtcbiAgICAgICAgICAgICAgICBqb2IubG9nID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqb2IubG9nLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBuZXcgT2JqZWN0SWQoKS50b0hleFN0cmluZygpLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgZXhlY3V0ZWRBdDogZXhlY3V0ZWRBdC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHJlcT8ucGF5bG9hZD8uY29uZmlnPy5qb2JzPy5hZGRQYXJlbnRUb1Rhc2tMb2cgPyBwYXJlbnQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdzdWNjZWVkZWQnLFxuICAgICAgICAgICAgICAgIHRhc2tJRCxcbiAgICAgICAgICAgICAgICB0YXNrU2x1Z1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVKb2Ioe1xuICAgICAgICAgICAgICAgIGxvZzogam9iLmxvZ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9O1xuICAgIGlmIChpc0lubGluZSkge1xuICAgICAgICByZXR1cm4gcnVuVGFzaygnaW5saW5lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGFza3MgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB0YXNrIG9mIHJlcT8ucGF5bG9hZD8uY29uZmlnPy5qb2JzPy50YXNrcyA/PyBbXSl7XG4gICAgICAgICAgICB0YXNrc1t0YXNrLnNsdWddID0gcnVuVGFzayh0YXNrLnNsdWcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXNrcztcbiAgICB9XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRSdW5UYXNrRnVuY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/getRunTaskFunction.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/getUpdateJobFunction.js":
/*!************************************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/getUpdateJobFunction.js ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUpdateJobFunction: () => (/* binding */ getUpdateJobFunction)\n/* harmony export */ });\n/* harmony import */ var _utilities_updateJob_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utilities/updateJob.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/utilities/updateJob.js\");\n// @ts-strict-ignore\n\nfunction getUpdateJobFunction(job, req) {\n    return async (jobData)=>{\n        const updatedJob = await (0,_utilities_updateJob_js__WEBPACK_IMPORTED_MODULE_0__.updateJob)({\n            id: job.id,\n            data: jobData,\n            depth: req.payload.config.jobs.depth,\n            disableTransaction: true,\n            req\n        });\n        // Update job object like this to modify the original object - that way, incoming changes (e.g. taskStatus field that will be re-generated through the hook) will be reflected in the calling function\n        for(const key in updatedJob){\n            if (key === 'log') {\n                if (!job.log) {\n                    job.log = [];\n                }\n                // Add all new log entries to the original job.log object. Do not delete any existing log entries.\n                // Do not update existing log entries, as existing log entries should be immutable.\n                for (const logEntry of updatedJob.log){\n                    if (!job.log.some((entry)=>entry.id === logEntry.id)) {\n                        job.log.push(logEntry);\n                    }\n                }\n            } else {\n                job[key] = updatedJob[key];\n            }\n        }\n        if (updatedJob.error?.cancelled) {\n            const cancelledError = new Error('Job cancelled');\n            cancelledError.cancelled = true;\n            throw cancelledError;\n        }\n        return updatedJob;\n    };\n}\n\n//# sourceMappingURL=getUpdateJobFunction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL3J1bkpvYi9nZXRVcGRhdGVKb2JGdW5jdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQzREO0FBQ3JEO0FBQ1A7QUFDQSxpQ0FBaUMsa0VBQVM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvcXVldWVzL29wZXJhdGlvbnMvcnVuSm9icy9ydW5Kb2IvZ2V0VXBkYXRlSm9iRnVuY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbmltcG9ydCB7IHVwZGF0ZUpvYiB9IGZyb20gJy4uLy4uLy4uL3V0aWxpdGllcy91cGRhdGVKb2IuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVwZGF0ZUpvYkZ1bmN0aW9uKGpvYiwgcmVxKSB7XG4gICAgcmV0dXJuIGFzeW5jIChqb2JEYXRhKT0+e1xuICAgICAgICBjb25zdCB1cGRhdGVkSm9iID0gYXdhaXQgdXBkYXRlSm9iKHtcbiAgICAgICAgICAgIGlkOiBqb2IuaWQsXG4gICAgICAgICAgICBkYXRhOiBqb2JEYXRhLFxuICAgICAgICAgICAgZGVwdGg6IHJlcS5wYXlsb2FkLmNvbmZpZy5qb2JzLmRlcHRoLFxuICAgICAgICAgICAgZGlzYWJsZVRyYW5zYWN0aW9uOiB0cnVlLFxuICAgICAgICAgICAgcmVxXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBVcGRhdGUgam9iIG9iamVjdCBsaWtlIHRoaXMgdG8gbW9kaWZ5IHRoZSBvcmlnaW5hbCBvYmplY3QgLSB0aGF0IHdheSwgaW5jb21pbmcgY2hhbmdlcyAoZS5nLiB0YXNrU3RhdHVzIGZpZWxkIHRoYXQgd2lsbCBiZSByZS1nZW5lcmF0ZWQgdGhyb3VnaCB0aGUgaG9vaykgd2lsbCBiZSByZWZsZWN0ZWQgaW4gdGhlIGNhbGxpbmcgZnVuY3Rpb25cbiAgICAgICAgZm9yKGNvbnN0IGtleSBpbiB1cGRhdGVkSm9iKXtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdsb2cnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFqb2IubG9nKSB7XG4gICAgICAgICAgICAgICAgICAgIGpvYi5sb2cgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIGFsbCBuZXcgbG9nIGVudHJpZXMgdG8gdGhlIG9yaWdpbmFsIGpvYi5sb2cgb2JqZWN0LiBEbyBub3QgZGVsZXRlIGFueSBleGlzdGluZyBsb2cgZW50cmllcy5cbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgdXBkYXRlIGV4aXN0aW5nIGxvZyBlbnRyaWVzLCBhcyBleGlzdGluZyBsb2cgZW50cmllcyBzaG91bGQgYmUgaW1tdXRhYmxlLlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbG9nRW50cnkgb2YgdXBkYXRlZEpvYi5sb2cpe1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWpvYi5sb2cuc29tZSgoZW50cnkpPT5lbnRyeS5pZCA9PT0gbG9nRW50cnkuaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqb2IubG9nLnB1c2gobG9nRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBqb2Jba2V5XSA9IHVwZGF0ZWRKb2Jba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlZEpvYi5lcnJvcj8uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICBjb25zdCBjYW5jZWxsZWRFcnJvciA9IG5ldyBFcnJvcignSm9iIGNhbmNlbGxlZCcpO1xuICAgICAgICAgICAgY2FuY2VsbGVkRXJyb3IuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRocm93IGNhbmNlbGxlZEVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cGRhdGVkSm9iO1xuICAgIH07XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFVwZGF0ZUpvYkZ1bmN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/getUpdateJobFunction.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/handleWorkflowError.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/handleWorkflowError.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleWorkflowError: () => (/* binding */ handleWorkflowError)\n/* harmony export */ });\n/* harmony import */ var _calculateBackoffWaitUntil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calculateBackoffWaitUntil.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/calculateBackoffWaitUntil.js\");\n// @ts-strict-ignore\n\n/**\n * This is called if a workflow catches an error. It determines if it's a final error\n * or not and handles logging.\n */ function handleWorkflowError({ error, job, req, state, workflowConfig }) {\n    const jobLabel = job.workflowSlug || `Task: ${job.taskSlug}`;\n    let hasFinalError = state.reachedMaxRetries || !!('cancelled' in error && error.cancelled // If any TASK reached max retries, the job has an error\n    );\n    const maxWorkflowRetries = (typeof workflowConfig.retries === 'object' ? workflowConfig.retries.attempts : workflowConfig.retries) ?? undefined;\n    if (maxWorkflowRetries !== undefined && maxWorkflowRetries !== null && job.totalTried >= maxWorkflowRetries) {\n        hasFinalError = true;\n        state.reachedMaxRetries = true;\n    }\n    // Now let's handle workflow retries\n    if (!hasFinalError) {\n        if (job.waitUntil) {\n            // Check if waitUntil is in the past\n            const waitUntil = new Date(job.waitUntil);\n            if (waitUntil < new Date()) {\n                // Outdated waitUntil, remove it\n                delete job.waitUntil;\n            }\n        }\n        // Job will retry. Let's determine when!\n        const waitUntil = (0,_calculateBackoffWaitUntil_js__WEBPACK_IMPORTED_MODULE_0__.calculateBackoffWaitUntil)({\n            retriesConfig: workflowConfig.retries,\n            totalTried: job.totalTried ?? 0\n        });\n        // Update job's waitUntil only if this waitUntil is later than the current one\n        if (!job.waitUntil || waitUntil > new Date(job.waitUntil)) {\n            job.waitUntil = waitUntil.toISOString();\n        }\n    }\n    req.payload.logger.error({\n        err: error,\n        msg: `Error running job ${jobLabel} id: ${job.id} attempt ${job.totalTried + 1}${maxWorkflowRetries !== undefined ? '/' + (maxWorkflowRetries + 1) : ''}`\n    });\n    return {\n        hasFinalError\n    };\n}\n\n//# sourceMappingURL=handleWorkflowError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL3J1bkpvYi9oYW5kbGVXb3JrZmxvd0Vycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDMkU7QUFDM0U7QUFDQTtBQUNBO0FBQ0EsSUFBVywrQkFBK0Isd0NBQXdDO0FBQ2xGLGtEQUFrRCxhQUFhO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix3RkFBeUI7QUFDbkQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxVQUFVLE1BQU0sUUFBUSxVQUFVLG1CQUFtQixFQUFFLHVFQUF1RTtBQUNoSyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL3J1bkpvYi9oYW5kbGVXb3JrZmxvd0Vycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1zdHJpY3QtaWdub3JlXG5pbXBvcnQgeyBjYWxjdWxhdGVCYWNrb2ZmV2FpdFVudGlsIH0gZnJvbSAnLi9jYWxjdWxhdGVCYWNrb2ZmV2FpdFVudGlsLmpzJztcbi8qKlxuICogVGhpcyBpcyBjYWxsZWQgaWYgYSB3b3JrZmxvdyBjYXRjaGVzIGFuIGVycm9yLiBJdCBkZXRlcm1pbmVzIGlmIGl0J3MgYSBmaW5hbCBlcnJvclxuICogb3Igbm90IGFuZCBoYW5kbGVzIGxvZ2dpbmcuXG4gKi8gZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVdvcmtmbG93RXJyb3IoeyBlcnJvciwgam9iLCByZXEsIHN0YXRlLCB3b3JrZmxvd0NvbmZpZyB9KSB7XG4gICAgY29uc3Qgam9iTGFiZWwgPSBqb2Iud29ya2Zsb3dTbHVnIHx8IGBUYXNrOiAke2pvYi50YXNrU2x1Z31gO1xuICAgIGxldCBoYXNGaW5hbEVycm9yID0gc3RhdGUucmVhY2hlZE1heFJldHJpZXMgfHwgISEoJ2NhbmNlbGxlZCcgaW4gZXJyb3IgJiYgZXJyb3IuY2FuY2VsbGVkIC8vIElmIGFueSBUQVNLIHJlYWNoZWQgbWF4IHJldHJpZXMsIHRoZSBqb2IgaGFzIGFuIGVycm9yXG4gICAgKTtcbiAgICBjb25zdCBtYXhXb3JrZmxvd1JldHJpZXMgPSAodHlwZW9mIHdvcmtmbG93Q29uZmlnLnJldHJpZXMgPT09ICdvYmplY3QnID8gd29ya2Zsb3dDb25maWcucmV0cmllcy5hdHRlbXB0cyA6IHdvcmtmbG93Q29uZmlnLnJldHJpZXMpID8/IHVuZGVmaW5lZDtcbiAgICBpZiAobWF4V29ya2Zsb3dSZXRyaWVzICE9PSB1bmRlZmluZWQgJiYgbWF4V29ya2Zsb3dSZXRyaWVzICE9PSBudWxsICYmIGpvYi50b3RhbFRyaWVkID49IG1heFdvcmtmbG93UmV0cmllcykge1xuICAgICAgICBoYXNGaW5hbEVycm9yID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUucmVhY2hlZE1heFJldHJpZXMgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBOb3cgbGV0J3MgaGFuZGxlIHdvcmtmbG93IHJldHJpZXNcbiAgICBpZiAoIWhhc0ZpbmFsRXJyb3IpIHtcbiAgICAgICAgaWYgKGpvYi53YWl0VW50aWwpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdhaXRVbnRpbCBpcyBpbiB0aGUgcGFzdFxuICAgICAgICAgICAgY29uc3Qgd2FpdFVudGlsID0gbmV3IERhdGUoam9iLndhaXRVbnRpbCk7XG4gICAgICAgICAgICBpZiAod2FpdFVudGlsIDwgbmV3IERhdGUoKSkge1xuICAgICAgICAgICAgICAgIC8vIE91dGRhdGVkIHdhaXRVbnRpbCwgcmVtb3ZlIGl0XG4gICAgICAgICAgICAgICAgZGVsZXRlIGpvYi53YWl0VW50aWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSm9iIHdpbGwgcmV0cnkuIExldCdzIGRldGVybWluZSB3aGVuIVxuICAgICAgICBjb25zdCB3YWl0VW50aWwgPSBjYWxjdWxhdGVCYWNrb2ZmV2FpdFVudGlsKHtcbiAgICAgICAgICAgIHJldHJpZXNDb25maWc6IHdvcmtmbG93Q29uZmlnLnJldHJpZXMsXG4gICAgICAgICAgICB0b3RhbFRyaWVkOiBqb2IudG90YWxUcmllZCA/PyAwXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBVcGRhdGUgam9iJ3Mgd2FpdFVudGlsIG9ubHkgaWYgdGhpcyB3YWl0VW50aWwgaXMgbGF0ZXIgdGhhbiB0aGUgY3VycmVudCBvbmVcbiAgICAgICAgaWYgKCFqb2Iud2FpdFVudGlsIHx8IHdhaXRVbnRpbCA+IG5ldyBEYXRlKGpvYi53YWl0VW50aWwpKSB7XG4gICAgICAgICAgICBqb2Iud2FpdFVudGlsID0gd2FpdFVudGlsLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVxLnBheWxvYWQubG9nZ2VyLmVycm9yKHtcbiAgICAgICAgZXJyOiBlcnJvcixcbiAgICAgICAgbXNnOiBgRXJyb3IgcnVubmluZyBqb2IgJHtqb2JMYWJlbH0gaWQ6ICR7am9iLmlkfSBhdHRlbXB0ICR7am9iLnRvdGFsVHJpZWQgKyAxfSR7bWF4V29ya2Zsb3dSZXRyaWVzICE9PSB1bmRlZmluZWQgPyAnLycgKyAobWF4V29ya2Zsb3dSZXRyaWVzICsgMSkgOiAnJ31gXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzRmluYWxFcnJvclxuICAgIH07XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhbmRsZVdvcmtmbG93RXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/handleWorkflowError.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/importHandlerPath.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/importHandlerPath.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   importHandlerPath: () => (/* binding */ importHandlerPath)\n/* harmony export */ });\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! url */ \"url\");\n// @ts-strict-ignore\n\nasync function importHandlerPath(path) {\n    let runner;\n    const [runnerPath, runnerImportName] = path.split('#');\n    let runnerModule;\n    try {\n        // We need to check for `require` for compatibility with outdated frameworks that do not\n        // properly support ESM, like Jest. This is not done to support projects without \"type\": \"module\" set\n        runnerModule = typeof require === 'function' ? await eval(`require('${runnerPath.replaceAll('\\\\', '/')}')`) : await eval(`import('${(0,url__WEBPACK_IMPORTED_MODULE_0__.pathToFileURL)(runnerPath).href}')`);\n    } catch (e) {\n        throw new Error(`Error importing job queue handler module for path ${path}. This is an advanced feature that may require a sophisticated build pipeline, especially when using it in production or within Next.js, e.g. by calling opening the /api/payload-jobs/run endpoint. You will have to transpile the handler files separately and ensure they are available in the same location when the job is run. If you're using an endpoint to execute your jobs, it's recommended to define your handlers as functions directly in your Payload Config, or use import paths handlers outside of Next.js. Import Error: \\n${e.message}`);\n    }\n    // If the path has indicated an #exportName, try to get it\n    if (runnerImportName && runnerModule[runnerImportName]) {\n        runner = runnerModule[runnerImportName];\n    }\n    // If there is a default export, use it\n    if (!runner && runnerModule.default) {\n        runner = runnerModule.default;\n    }\n    // Finally, use whatever was imported\n    if (!runner) {\n        runner = runnerModule;\n    }\n    return runner;\n}\n\n//# sourceMappingURL=importHandlerPath.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL3J1bkpvYi9pbXBvcnRIYW5kbGVyUGF0aC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ29DO0FBQzdCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLGlDQUFpQyw2QkFBNkIsa0RBQWEsa0JBQWtCO0FBQzNLLE1BQU07QUFDTiw2RUFBNkUsS0FBSyxpaEJBQWloQixVQUFVO0FBQzdtQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL3J1bkpvYi9pbXBvcnRIYW5kbGVyUGF0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtc3RyaWN0LWlnbm9yZVxuaW1wb3J0IHsgcGF0aFRvRmlsZVVSTCB9IGZyb20gJ3VybCc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW1wb3J0SGFuZGxlclBhdGgocGF0aCkge1xuICAgIGxldCBydW5uZXI7XG4gICAgY29uc3QgW3J1bm5lclBhdGgsIHJ1bm5lckltcG9ydE5hbWVdID0gcGF0aC5zcGxpdCgnIycpO1xuICAgIGxldCBydW5uZXJNb2R1bGU7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBmb3IgYHJlcXVpcmVgIGZvciBjb21wYXRpYmlsaXR5IHdpdGggb3V0ZGF0ZWQgZnJhbWV3b3JrcyB0aGF0IGRvIG5vdFxuICAgICAgICAvLyBwcm9wZXJseSBzdXBwb3J0IEVTTSwgbGlrZSBKZXN0LiBUaGlzIGlzIG5vdCBkb25lIHRvIHN1cHBvcnQgcHJvamVjdHMgd2l0aG91dCBcInR5cGVcIjogXCJtb2R1bGVcIiBzZXRcbiAgICAgICAgcnVubmVyTW9kdWxlID0gdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicgPyBhd2FpdCBldmFsKGByZXF1aXJlKCcke3J1bm5lclBhdGgucmVwbGFjZUFsbCgnXFxcXCcsICcvJyl9JylgKSA6IGF3YWl0IGV2YWwoYGltcG9ydCgnJHtwYXRoVG9GaWxlVVJMKHJ1bm5lclBhdGgpLmhyZWZ9JylgKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgaW1wb3J0aW5nIGpvYiBxdWV1ZSBoYW5kbGVyIG1vZHVsZSBmb3IgcGF0aCAke3BhdGh9LiBUaGlzIGlzIGFuIGFkdmFuY2VkIGZlYXR1cmUgdGhhdCBtYXkgcmVxdWlyZSBhIHNvcGhpc3RpY2F0ZWQgYnVpbGQgcGlwZWxpbmUsIGVzcGVjaWFsbHkgd2hlbiB1c2luZyBpdCBpbiBwcm9kdWN0aW9uIG9yIHdpdGhpbiBOZXh0LmpzLCBlLmcuIGJ5IGNhbGxpbmcgb3BlbmluZyB0aGUgL2FwaS9wYXlsb2FkLWpvYnMvcnVuIGVuZHBvaW50LiBZb3Ugd2lsbCBoYXZlIHRvIHRyYW5zcGlsZSB0aGUgaGFuZGxlciBmaWxlcyBzZXBhcmF0ZWx5IGFuZCBlbnN1cmUgdGhleSBhcmUgYXZhaWxhYmxlIGluIHRoZSBzYW1lIGxvY2F0aW9uIHdoZW4gdGhlIGpvYiBpcyBydW4uIElmIHlvdSdyZSB1c2luZyBhbiBlbmRwb2ludCB0byBleGVjdXRlIHlvdXIgam9icywgaXQncyByZWNvbW1lbmRlZCB0byBkZWZpbmUgeW91ciBoYW5kbGVycyBhcyBmdW5jdGlvbnMgZGlyZWN0bHkgaW4geW91ciBQYXlsb2FkIENvbmZpZywgb3IgdXNlIGltcG9ydCBwYXRocyBoYW5kbGVycyBvdXRzaWRlIG9mIE5leHQuanMuIEltcG9ydCBFcnJvcjogXFxuJHtlLm1lc3NhZ2V9YCk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBwYXRoIGhhcyBpbmRpY2F0ZWQgYW4gI2V4cG9ydE5hbWUsIHRyeSB0byBnZXQgaXRcbiAgICBpZiAocnVubmVySW1wb3J0TmFtZSAmJiBydW5uZXJNb2R1bGVbcnVubmVySW1wb3J0TmFtZV0pIHtcbiAgICAgICAgcnVubmVyID0gcnVubmVyTW9kdWxlW3J1bm5lckltcG9ydE5hbWVdO1xuICAgIH1cbiAgICAvLyBJZiB0aGVyZSBpcyBhIGRlZmF1bHQgZXhwb3J0LCB1c2UgaXRcbiAgICBpZiAoIXJ1bm5lciAmJiBydW5uZXJNb2R1bGUuZGVmYXVsdCkge1xuICAgICAgICBydW5uZXIgPSBydW5uZXJNb2R1bGUuZGVmYXVsdDtcbiAgICB9XG4gICAgLy8gRmluYWxseSwgdXNlIHdoYXRldmVyIHdhcyBpbXBvcnRlZFxuICAgIGlmICghcnVubmVyKSB7XG4gICAgICAgIHJ1bm5lciA9IHJ1bm5lck1vZHVsZTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bm5lcjtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1wb3J0SGFuZGxlclBhdGguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/importHandlerPath.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/index.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/index.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runJob: () => (/* binding */ runJob)\n/* harmony export */ });\n/* harmony import */ var _getRunTaskFunction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getRunTaskFunction.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/getRunTaskFunction.js\");\n/* harmony import */ var _handleWorkflowError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handleWorkflowError.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/handleWorkflowError.js\");\n// @ts-strict-ignore\n\n\nconst runJob = async ({ job, req, updateJob, workflowConfig, workflowHandler })=>{\n    // Object so that we can pass contents by reference, not value.\n    // We want any mutations to be reflected in here.\n    const state = {\n        reachedMaxRetries: false\n    };\n    // Run the job\n    try {\n        await workflowHandler({\n            inlineTask: (0,_getRunTaskFunction_js__WEBPACK_IMPORTED_MODULE_0__.getRunTaskFunction)(state, job, workflowConfig, req, true, updateJob),\n            job: job,\n            req,\n            tasks: (0,_getRunTaskFunction_js__WEBPACK_IMPORTED_MODULE_0__.getRunTaskFunction)(state, job, workflowConfig, req, false, updateJob)\n        });\n    } catch (err) {\n        const { hasFinalError } = (0,_handleWorkflowError_js__WEBPACK_IMPORTED_MODULE_1__.handleWorkflowError)({\n            error: err,\n            job,\n            req,\n            state,\n            workflowConfig\n        });\n        const errorJSON = hasFinalError ? {\n            name: err.name,\n            cancelled: Boolean('cancelled' in err && err.cancelled),\n            message: err.message,\n            stack: err.stack\n        } : undefined;\n        // Tasks update the job if they error - but in case there is an unhandled error (e.g. in the workflow itself, not in a task)\n        // we need to ensure the job is updated to reflect the error\n        await updateJob({\n            error: errorJSON,\n            hasError: hasFinalError,\n            log: job.log,\n            processing: false,\n            totalTried: (job.totalTried ?? 0) + 1\n        });\n        return {\n            status: hasFinalError ? 'error-reached-max-retries' : 'error'\n        };\n    }\n    // Workflow has completed\n    await updateJob({\n        completedAt: new Date().toISOString(),\n        log: job.log,\n        processing: false,\n        totalTried: (job.totalTried ?? 0) + 1\n    });\n    return {\n        status: 'success'\n    };\n};\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvb3BlcmF0aW9ucy9ydW5Kb2JzL3J1bkpvYi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUM2RDtBQUNFO0FBQ3hELHdCQUF3QixzREFBc0Q7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwRUFBa0I7QUFDMUM7QUFDQTtBQUNBLG1CQUFtQiwwRUFBa0I7QUFDckMsU0FBUztBQUNULE1BQU07QUFDTixnQkFBZ0IsZ0JBQWdCLEVBQUUsNEVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvcXVldWVzL29wZXJhdGlvbnMvcnVuSm9icy9ydW5Kb2IvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbmltcG9ydCB7IGdldFJ1blRhc2tGdW5jdGlvbiB9IGZyb20gJy4vZ2V0UnVuVGFza0Z1bmN0aW9uLmpzJztcbmltcG9ydCB7IGhhbmRsZVdvcmtmbG93RXJyb3IgfSBmcm9tICcuL2hhbmRsZVdvcmtmbG93RXJyb3IuanMnO1xuZXhwb3J0IGNvbnN0IHJ1bkpvYiA9IGFzeW5jICh7IGpvYiwgcmVxLCB1cGRhdGVKb2IsIHdvcmtmbG93Q29uZmlnLCB3b3JrZmxvd0hhbmRsZXIgfSk9PntcbiAgICAvLyBPYmplY3Qgc28gdGhhdCB3ZSBjYW4gcGFzcyBjb250ZW50cyBieSByZWZlcmVuY2UsIG5vdCB2YWx1ZS5cbiAgICAvLyBXZSB3YW50IGFueSBtdXRhdGlvbnMgdG8gYmUgcmVmbGVjdGVkIGluIGhlcmUuXG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIHJlYWNoZWRNYXhSZXRyaWVzOiBmYWxzZVxuICAgIH07XG4gICAgLy8gUnVuIHRoZSBqb2JcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCB3b3JrZmxvd0hhbmRsZXIoe1xuICAgICAgICAgICAgaW5saW5lVGFzazogZ2V0UnVuVGFza0Z1bmN0aW9uKHN0YXRlLCBqb2IsIHdvcmtmbG93Q29uZmlnLCByZXEsIHRydWUsIHVwZGF0ZUpvYiksXG4gICAgICAgICAgICBqb2I6IGpvYixcbiAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgIHRhc2tzOiBnZXRSdW5UYXNrRnVuY3Rpb24oc3RhdGUsIGpvYiwgd29ya2Zsb3dDb25maWcsIHJlcSwgZmFsc2UsIHVwZGF0ZUpvYilcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnN0IHsgaGFzRmluYWxFcnJvciB9ID0gaGFuZGxlV29ya2Zsb3dFcnJvcih7XG4gICAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgICAgam9iLFxuICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICB3b3JrZmxvd0NvbmZpZ1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZXJyb3JKU09OID0gaGFzRmluYWxFcnJvciA/IHtcbiAgICAgICAgICAgIG5hbWU6IGVyci5uYW1lLFxuICAgICAgICAgICAgY2FuY2VsbGVkOiBCb29sZWFuKCdjYW5jZWxsZWQnIGluIGVyciAmJiBlcnIuY2FuY2VsbGVkKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuICAgICAgICAgICAgc3RhY2s6IGVyci5zdGFja1xuICAgICAgICB9IDogdW5kZWZpbmVkO1xuICAgICAgICAvLyBUYXNrcyB1cGRhdGUgdGhlIGpvYiBpZiB0aGV5IGVycm9yIC0gYnV0IGluIGNhc2UgdGhlcmUgaXMgYW4gdW5oYW5kbGVkIGVycm9yIChlLmcuIGluIHRoZSB3b3JrZmxvdyBpdHNlbGYsIG5vdCBpbiBhIHRhc2spXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZW5zdXJlIHRoZSBqb2IgaXMgdXBkYXRlZCB0byByZWZsZWN0IHRoZSBlcnJvclxuICAgICAgICBhd2FpdCB1cGRhdGVKb2Ioe1xuICAgICAgICAgICAgZXJyb3I6IGVycm9ySlNPTixcbiAgICAgICAgICAgIGhhc0Vycm9yOiBoYXNGaW5hbEVycm9yLFxuICAgICAgICAgICAgbG9nOiBqb2IubG9nLFxuICAgICAgICAgICAgcHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICAgICAgICB0b3RhbFRyaWVkOiAoam9iLnRvdGFsVHJpZWQgPz8gMCkgKyAxXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBoYXNGaW5hbEVycm9yID8gJ2Vycm9yLXJlYWNoZWQtbWF4LXJldHJpZXMnIDogJ2Vycm9yJ1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBXb3JrZmxvdyBoYXMgY29tcGxldGVkXG4gICAgYXdhaXQgdXBkYXRlSm9iKHtcbiAgICAgICAgY29tcGxldGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgbG9nOiBqb2IubG9nLFxuICAgICAgICBwcm9jZXNzaW5nOiBmYWxzZSxcbiAgICAgICAgdG90YWxUcmllZDogKGpvYi50b3RhbFRyaWVkID8/IDApICsgMVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnXG4gICAgfTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/runJob/index.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/restEndpointRun.js":
/*!*****************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/restEndpointRun.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runJobsEndpoint: () => (/* binding */ runJobsEndpoint)\n/* harmony export */ });\n/* harmony import */ var _operations_runJobs_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./operations/runJobs/index.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/operations/runJobs/index.js\");\n\nconst configHasJobs = (config)=>{\n    if (!config.jobs) {\n        return false;\n    }\n    if (config.jobs.tasks?.length > 0) {\n        return true;\n    }\n    if (config.jobs.workflows?.length > 0) {\n        return true;\n    }\n    return false;\n};\nconst runJobsEndpoint = {\n    handler: async (req)=>{\n        if (!configHasJobs(req.payload.config)) {\n            return Response.json({\n                message: 'No jobs to run.'\n            }, {\n                status: 200\n            });\n        }\n        const hasAccess = await req.payload.config.jobs.access.run({\n            req\n        });\n        if (!hasAccess) {\n            return Response.json({\n                message: req.i18n.t('error:unauthorized')\n            }, {\n                status: 401\n            });\n        }\n        const { limit, queue } = req.query;\n        const runJobsArgs = {\n            queue: 'default',\n            req,\n            // We are checking access above, so we can override it here\n            overrideAccess: true\n        };\n        if (typeof queue === 'string') {\n            runJobsArgs.queue = queue;\n        }\n        if (typeof limit !== 'undefined') {\n            runJobsArgs.limit = Number(limit);\n        }\n        let noJobsRemaining = false;\n        let remainingJobsFromQueried = 0;\n        try {\n            const result = await (0,_operations_runJobs_index_js__WEBPACK_IMPORTED_MODULE_0__.runJobs)(runJobsArgs);\n            noJobsRemaining = !!result.noJobsRemaining;\n            remainingJobsFromQueried = result.remainingJobsFromQueried;\n        } catch (err) {\n            req.payload.logger.error({\n                err,\n                msg: 'There was an error running jobs:',\n                queue: runJobsArgs.queue\n            });\n            return Response.json({\n                message: req.i18n.t('error:unknown'),\n                noJobsRemaining: true,\n                remainingJobsFromQueried\n            }, {\n                status: 500\n            });\n        }\n        return Response.json({\n            message: req.i18n.t('general:success'),\n            noJobsRemaining,\n            remainingJobsFromQueried\n        }, {\n            status: 200\n        });\n    },\n    method: 'get',\n    path: '/run'\n};\n\n//# sourceMappingURL=restEndpointRun.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvcmVzdEVuZHBvaW50UnVuLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxxRUFBTztBQUN4QztBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3F1ZXVlcy9yZXN0RW5kcG9pbnRSdW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcnVuSm9icyB9IGZyb20gJy4vb3BlcmF0aW9ucy9ydW5Kb2JzL2luZGV4LmpzJztcbmNvbnN0IGNvbmZpZ0hhc0pvYnMgPSAoY29uZmlnKT0+e1xuICAgIGlmICghY29uZmlnLmpvYnMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmpvYnMudGFza3M/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb25maWcuam9icy53b3JrZmxvd3M/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnQgY29uc3QgcnVuSm9ic0VuZHBvaW50ID0ge1xuICAgIGhhbmRsZXI6IGFzeW5jIChyZXEpPT57XG4gICAgICAgIGlmICghY29uZmlnSGFzSm9icyhyZXEucGF5bG9hZC5jb25maWcpKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ05vIGpvYnMgdG8gcnVuLidcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFzQWNjZXNzID0gYXdhaXQgcmVxLnBheWxvYWQuY29uZmlnLmpvYnMuYWNjZXNzLnJ1bih7XG4gICAgICAgICAgICByZXFcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghaGFzQWNjZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmVxLmkxOG4udCgnZXJyb3I6dW5hdXRob3JpemVkJylcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDQwMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBsaW1pdCwgcXVldWUgfSA9IHJlcS5xdWVyeTtcbiAgICAgICAgY29uc3QgcnVuSm9ic0FyZ3MgPSB7XG4gICAgICAgICAgICBxdWV1ZTogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgLy8gV2UgYXJlIGNoZWNraW5nIGFjY2VzcyBhYm92ZSwgc28gd2UgY2FuIG92ZXJyaWRlIGl0IGhlcmVcbiAgICAgICAgICAgIG92ZXJyaWRlQWNjZXNzOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlb2YgcXVldWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBydW5Kb2JzQXJncy5xdWV1ZSA9IHF1ZXVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbGltaXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBydW5Kb2JzQXJncy5saW1pdCA9IE51bWJlcihsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5vSm9ic1JlbWFpbmluZyA9IGZhbHNlO1xuICAgICAgICBsZXQgcmVtYWluaW5nSm9ic0Zyb21RdWVyaWVkID0gMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJ1bkpvYnMocnVuSm9ic0FyZ3MpO1xuICAgICAgICAgICAgbm9Kb2JzUmVtYWluaW5nID0gISFyZXN1bHQubm9Kb2JzUmVtYWluaW5nO1xuICAgICAgICAgICAgcmVtYWluaW5nSm9ic0Zyb21RdWVyaWVkID0gcmVzdWx0LnJlbWFpbmluZ0pvYnNGcm9tUXVlcmllZDtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXEucGF5bG9hZC5sb2dnZXIuZXJyb3Ioe1xuICAgICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICAgICBtc2c6ICdUaGVyZSB3YXMgYW4gZXJyb3IgcnVubmluZyBqb2JzOicsXG4gICAgICAgICAgICAgICAgcXVldWU6IHJ1bkpvYnNBcmdzLnF1ZXVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXEuaTE4bi50KCdlcnJvcjp1bmtub3duJyksXG4gICAgICAgICAgICAgICAgbm9Kb2JzUmVtYWluaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlbWFpbmluZ0pvYnNGcm9tUXVlcmllZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiByZXEuaTE4bi50KCdnZW5lcmFsOnN1Y2Nlc3MnKSxcbiAgICAgICAgICAgIG5vSm9ic1JlbWFpbmluZyxcbiAgICAgICAgICAgIHJlbWFpbmluZ0pvYnNGcm9tUXVlcmllZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBzdGF0dXM6IDIwMFxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIG1ldGhvZDogJ2dldCcsXG4gICAgcGF0aDogJy9ydW4nXG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXN0RW5kcG9pbnRSdW4uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/restEndpointRun.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/utilities/getJobTaskStatus.js":
/*!****************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/utilities/getJobTaskStatus.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getJobTaskStatus: () => (/* binding */ getJobTaskStatus)\n/* harmony export */ });\n// @ts-strict-ignore\nconst getJobTaskStatus = ({ jobLog })=>{\n    const taskStatus = {};\n    // First, add (in order) the steps from the config to\n    // our status map\n    for (const loggedJob of jobLog){\n        if (!taskStatus[loggedJob.taskSlug]) {\n            taskStatus[loggedJob.taskSlug] = {};\n        }\n        if (!taskStatus[loggedJob.taskSlug][loggedJob.taskID]) {\n            taskStatus[loggedJob.taskSlug][loggedJob.taskID] = {\n                complete: loggedJob.state === 'succeeded',\n                input: loggedJob.input,\n                output: loggedJob.output,\n                taskSlug: loggedJob.taskSlug,\n                totalTried: 1\n            };\n        } else {\n            const newTaskStatus = taskStatus[loggedJob.taskSlug][loggedJob.taskID];\n            newTaskStatus.totalTried += 1;\n            if (loggedJob.state === 'succeeded') {\n                newTaskStatus.complete = true;\n                // As the task currently saved in taskStatus has likely failed and thus has no\n                // Output data, we need to update it with the new data from the successful task\n                newTaskStatus.output = loggedJob.output;\n                newTaskStatus.input = loggedJob.input;\n                newTaskStatus.taskSlug = loggedJob.taskSlug;\n            }\n            taskStatus[loggedJob.taskSlug][loggedJob.taskID] = newTaskStatus;\n        }\n    }\n    return taskStatus;\n};\n\n//# sourceMappingURL=getJobTaskStatus.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvdXRpbGl0aWVzL2dldEpvYlRhc2tTdGF0dXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ08sNEJBQTRCLFFBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3F1ZXVlcy91dGlsaXRpZXMvZ2V0Sm9iVGFza1N0YXR1cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtc3RyaWN0LWlnbm9yZVxuZXhwb3J0IGNvbnN0IGdldEpvYlRhc2tTdGF0dXMgPSAoeyBqb2JMb2cgfSk9PntcbiAgICBjb25zdCB0YXNrU3RhdHVzID0ge307XG4gICAgLy8gRmlyc3QsIGFkZCAoaW4gb3JkZXIpIHRoZSBzdGVwcyBmcm9tIHRoZSBjb25maWcgdG9cbiAgICAvLyBvdXIgc3RhdHVzIG1hcFxuICAgIGZvciAoY29uc3QgbG9nZ2VkSm9iIG9mIGpvYkxvZyl7XG4gICAgICAgIGlmICghdGFza1N0YXR1c1tsb2dnZWRKb2IudGFza1NsdWddKSB7XG4gICAgICAgICAgICB0YXNrU3RhdHVzW2xvZ2dlZEpvYi50YXNrU2x1Z10gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRhc2tTdGF0dXNbbG9nZ2VkSm9iLnRhc2tTbHVnXVtsb2dnZWRKb2IudGFza0lEXSkge1xuICAgICAgICAgICAgdGFza1N0YXR1c1tsb2dnZWRKb2IudGFza1NsdWddW2xvZ2dlZEpvYi50YXNrSURdID0ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBsb2dnZWRKb2Iuc3RhdGUgPT09ICdzdWNjZWVkZWQnLFxuICAgICAgICAgICAgICAgIGlucHV0OiBsb2dnZWRKb2IuaW5wdXQsXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBsb2dnZWRKb2Iub3V0cHV0LFxuICAgICAgICAgICAgICAgIHRhc2tTbHVnOiBsb2dnZWRKb2IudGFza1NsdWcsXG4gICAgICAgICAgICAgICAgdG90YWxUcmllZDogMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2tTdGF0dXMgPSB0YXNrU3RhdHVzW2xvZ2dlZEpvYi50YXNrU2x1Z11bbG9nZ2VkSm9iLnRhc2tJRF07XG4gICAgICAgICAgICBuZXdUYXNrU3RhdHVzLnRvdGFsVHJpZWQgKz0gMTtcbiAgICAgICAgICAgIGlmIChsb2dnZWRKb2Iuc3RhdGUgPT09ICdzdWNjZWVkZWQnKSB7XG4gICAgICAgICAgICAgICAgbmV3VGFza1N0YXR1cy5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gQXMgdGhlIHRhc2sgY3VycmVudGx5IHNhdmVkIGluIHRhc2tTdGF0dXMgaGFzIGxpa2VseSBmYWlsZWQgYW5kIHRodXMgaGFzIG5vXG4gICAgICAgICAgICAgICAgLy8gT3V0cHV0IGRhdGEsIHdlIG5lZWQgdG8gdXBkYXRlIGl0IHdpdGggdGhlIG5ldyBkYXRhIGZyb20gdGhlIHN1Y2Nlc3NmdWwgdGFza1xuICAgICAgICAgICAgICAgIG5ld1Rhc2tTdGF0dXMub3V0cHV0ID0gbG9nZ2VkSm9iLm91dHB1dDtcbiAgICAgICAgICAgICAgICBuZXdUYXNrU3RhdHVzLmlucHV0ID0gbG9nZ2VkSm9iLmlucHV0O1xuICAgICAgICAgICAgICAgIG5ld1Rhc2tTdGF0dXMudGFza1NsdWcgPSBsb2dnZWRKb2IudGFza1NsdWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YXNrU3RhdHVzW2xvZ2dlZEpvYi50YXNrU2x1Z11bbG9nZ2VkSm9iLnRhc2tJRF0gPSBuZXdUYXNrU3RhdHVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXNrU3RhdHVzO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Sm9iVGFza1N0YXR1cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/utilities/getJobTaskStatus.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/utilities/updateJob.js":
/*!*********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/utilities/updateJob.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateJob: () => (/* binding */ updateJob),\n/* harmony export */   updateJobs: () => (/* binding */ updateJobs)\n/* harmony export */ });\n/* harmony import */ var _config_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/index.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/config/index.js\");\n\n/**\n * Convenience method for updateJobs by id\n */ async function updateJob(args) {\n    const result = await updateJobs(args);\n    if (result) {\n        return result[0];\n    }\n}\nasync function updateJobs({ id, data, depth, disableTransaction, limit: limitArg, req, returning, sort, where: whereArg }) {\n    const limit = id ? 1 : limitArg;\n    const where = id ? {\n        id: {\n            equals: id\n        }\n    } : whereArg;\n    if (depth || req.payload.config?.jobs?.runHooks) {\n        const result = await req.payload.update({\n            id,\n            collection: _config_index_js__WEBPACK_IMPORTED_MODULE_0__.jobsCollectionSlug,\n            data,\n            depth,\n            disableTransaction,\n            limit,\n            req,\n            where\n        });\n        if (returning === false || !result) {\n            return null;\n        }\n        return result.docs;\n    }\n    const jobReq = {\n        transactionID: req.payload.db.name !== 'mongoose' ? await req.payload.db.beginTransaction() : undefined\n    };\n    const args = id ? {\n        id,\n        data,\n        req: jobReq,\n        returning\n    } : {\n        data,\n        limit,\n        req: jobReq,\n        returning,\n        sort,\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n        where: where\n    };\n    const updatedJobs = await req.payload.db.updateJobs(args);\n    if (req.payload.db.name !== 'mongoose' && jobReq.transactionID) {\n        await req.payload.db.commitTransaction(jobReq.transactionID);\n    }\n    if (returning === false || !updatedJobs?.length) {\n        return null;\n    }\n    return updatedJobs.map((updatedJob)=>{\n        return (0,_config_index_js__WEBPACK_IMPORTED_MODULE_0__.jobAfterRead)({\n            config: req.payload.config,\n            doc: updatedJob\n        });\n    });\n}\n\n//# sourceMappingURL=updateJob.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC9xdWV1ZXMvdXRpbGl0aWVzL3VwZGF0ZUpvYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0U7QUFDdEU7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNEJBQTRCLDZGQUE2RjtBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnRUFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4REFBWTtBQUMzQjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3F1ZXVlcy91dGlsaXRpZXMvdXBkYXRlSm9iLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpvYkFmdGVyUmVhZCwgam9ic0NvbGxlY3Rpb25TbHVnIH0gZnJvbSAnLi4vY29uZmlnL2luZGV4LmpzJztcbi8qKlxuICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciB1cGRhdGVKb2JzIGJ5IGlkXG4gKi8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUpvYihhcmdzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlSm9icyhhcmdzKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHRbMF07XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUpvYnMoeyBpZCwgZGF0YSwgZGVwdGgsIGRpc2FibGVUcmFuc2FjdGlvbiwgbGltaXQ6IGxpbWl0QXJnLCByZXEsIHJldHVybmluZywgc29ydCwgd2hlcmU6IHdoZXJlQXJnIH0pIHtcbiAgICBjb25zdCBsaW1pdCA9IGlkID8gMSA6IGxpbWl0QXJnO1xuICAgIGNvbnN0IHdoZXJlID0gaWQgPyB7XG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgICBlcXVhbHM6IGlkXG4gICAgICAgIH1cbiAgICB9IDogd2hlcmVBcmc7XG4gICAgaWYgKGRlcHRoIHx8IHJlcS5wYXlsb2FkLmNvbmZpZz8uam9icz8ucnVuSG9va3MpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxLnBheWxvYWQudXBkYXRlKHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgY29sbGVjdGlvbjogam9ic0NvbGxlY3Rpb25TbHVnLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgICAgZGlzYWJsZVRyYW5zYWN0aW9uLFxuICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICByZXEsXG4gICAgICAgICAgICB3aGVyZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJldHVybmluZyA9PT0gZmFsc2UgfHwgIXJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5kb2NzO1xuICAgIH1cbiAgICBjb25zdCBqb2JSZXEgPSB7XG4gICAgICAgIHRyYW5zYWN0aW9uSUQ6IHJlcS5wYXlsb2FkLmRiLm5hbWUgIT09ICdtb25nb29zZScgPyBhd2FpdCByZXEucGF5bG9hZC5kYi5iZWdpblRyYW5zYWN0aW9uKCkgOiB1bmRlZmluZWRcbiAgICB9O1xuICAgIGNvbnN0IGFyZ3MgPSBpZCA/IHtcbiAgICAgICAgaWQsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHJlcTogam9iUmVxLFxuICAgICAgICByZXR1cm5pbmdcbiAgICB9IDoge1xuICAgICAgICBkYXRhLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgcmVxOiBqb2JSZXEsXG4gICAgICAgIHJldHVybmluZyxcbiAgICAgICAgc29ydCxcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuICAgICAgICB3aGVyZTogd2hlcmVcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZWRKb2JzID0gYXdhaXQgcmVxLnBheWxvYWQuZGIudXBkYXRlSm9icyhhcmdzKTtcbiAgICBpZiAocmVxLnBheWxvYWQuZGIubmFtZSAhPT0gJ21vbmdvb3NlJyAmJiBqb2JSZXEudHJhbnNhY3Rpb25JRCkge1xuICAgICAgICBhd2FpdCByZXEucGF5bG9hZC5kYi5jb21taXRUcmFuc2FjdGlvbihqb2JSZXEudHJhbnNhY3Rpb25JRCk7XG4gICAgfVxuICAgIGlmIChyZXR1cm5pbmcgPT09IGZhbHNlIHx8ICF1cGRhdGVkSm9icz8ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlZEpvYnMubWFwKCh1cGRhdGVkSm9iKT0+e1xuICAgICAgICByZXR1cm4gam9iQWZ0ZXJSZWFkKHtcbiAgICAgICAgICAgIGNvbmZpZzogcmVxLnBheWxvYWQuY29uZmlnLFxuICAgICAgICAgICAgZG9jOiB1cGRhdGVkSm9iXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGVKb2IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/queues/utilities/updateJob.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/translations/getLocalI18n.js":
/*!********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/translations/getLocalI18n.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLocalI18n: () => (/* binding */ getLocalI18n)\n/* harmony export */ });\n/* harmony import */ var _payloadcms_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @payloadcms/translations */ \"(rsc)/../../../../node_modules/.pnpm/@payloadcms+translations@3.39.1/node_modules/@payloadcms/translations/dist/exports/index.js\");\n\nconst getLocalI18n = async ({ config, language })=>(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_0__.initI18n)({\n        config: config.i18n,\n        context: 'api',\n        language\n    });\n\n//# sourceMappingURL=getLocalI18n.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC90cmFuc2xhdGlvbnMvZ2V0TG9jYWxJMThuLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9EO0FBQzdDLDhCQUE4QixrQkFBa0IsR0FBRyxrRUFBUTtBQUNsRTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvdHJhbnNsYXRpb25zL2dldExvY2FsSTE4bi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0STE4biB9IGZyb20gJ0BwYXlsb2FkY21zL3RyYW5zbGF0aW9ucyc7XG5leHBvcnQgY29uc3QgZ2V0TG9jYWxJMThuID0gYXN5bmMgKHsgY29uZmlnLCBsYW5ndWFnZSB9KT0+aW5pdEkxOG4oe1xuICAgICAgICBjb25maWc6IGNvbmZpZy5pMThuLFxuICAgICAgICBjb250ZXh0OiAnYXBpJyxcbiAgICAgICAgbGFuZ3VhZ2VcbiAgICB9KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0TG9jYWxJMThuLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/translations/getLocalI18n.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/types/constants.js":
/*!**********************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/types/constants.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validOperatorSet: () => (/* binding */ validOperatorSet),\n/* harmony export */   validOperators: () => (/* binding */ validOperators)\n/* harmony export */ });\nconst validOperators = [\n    'equals',\n    'contains',\n    'not_equals',\n    'in',\n    'all',\n    'not_in',\n    'exists',\n    'greater_than',\n    'greater_than_equal',\n    'less_than',\n    'less_than_equal',\n    'like',\n    'not_like',\n    'within',\n    'intersects',\n    'near'\n];\nconst validOperatorSet = new Set(validOperators);\n\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC90eXBlcy9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTzs7QUFFUCIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3R5cGVzL2NvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdmFsaWRPcGVyYXRvcnMgPSBbXG4gICAgJ2VxdWFscycsXG4gICAgJ2NvbnRhaW5zJyxcbiAgICAnbm90X2VxdWFscycsXG4gICAgJ2luJyxcbiAgICAnYWxsJyxcbiAgICAnbm90X2luJyxcbiAgICAnZXhpc3RzJyxcbiAgICAnZ3JlYXRlcl90aGFuJyxcbiAgICAnZ3JlYXRlcl90aGFuX2VxdWFsJyxcbiAgICAnbGVzc190aGFuJyxcbiAgICAnbGVzc190aGFuX2VxdWFsJyxcbiAgICAnbGlrZScsXG4gICAgJ25vdF9saWtlJyxcbiAgICAnd2l0aGluJyxcbiAgICAnaW50ZXJzZWN0cycsXG4gICAgJ25lYXInXG5dO1xuZXhwb3J0IGNvbnN0IHZhbGlkT3BlcmF0b3JTZXQgPSBuZXcgU2V0KHZhbGlkT3BlcmF0b3JzKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/types/constants.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/addLocalesToRequest.js":
/*!************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/addLocalesToRequest.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addLocalesToRequestFromData: () => (/* binding */ addLocalesToRequestFromData),\n/* harmony export */   sanitizeLocales: () => (/* binding */ sanitizeLocales)\n/* harmony export */ });\n/* harmony import */ var _sanitizeFallbackLocale_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sanitizeFallbackLocale.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/sanitizeFallbackLocale.js\");\n// @ts-strict-ignore\n\n/**\n * Mutates the Request to contain 'locale' and 'fallbackLocale' based on data or searchParams\n */ function addLocalesToRequestFromData(req) {\n    const { data, payload: { config } } = req;\n    if (data) {\n        const localeOnReq = req.locale;\n        const fallbackLocaleOnReq = req.fallbackLocale;\n        let localeFromData;\n        let fallbackLocaleFromData;\n        if (!localeOnReq && data?.locale && typeof data.locale === 'string') {\n            localeFromData = data.locale;\n        }\n        if (!fallbackLocaleOnReq) {\n            if (data?.['fallback-locale'] && typeof data?.['fallback-locale'] === 'string') {\n                fallbackLocaleFromData = data['fallback-locale'];\n            }\n            if (data?.['fallbackLocale'] && typeof data?.['fallbackLocale'] === 'string') {\n                fallbackLocaleFromData = data['fallbackLocale'];\n            }\n        }\n        if (!localeOnReq || !fallbackLocaleOnReq) {\n            const { fallbackLocale, locale } = sanitizeLocales({\n                fallbackLocale: fallbackLocaleFromData,\n                locale: localeFromData,\n                localization: config.localization\n            });\n            if (localeFromData) {\n                req.locale = locale;\n            }\n            if (fallbackLocaleFromData) {\n                req.fallbackLocale = fallbackLocale;\n            }\n        }\n    }\n}\nconst sanitizeLocales = ({ fallbackLocale, locale, localization })=>{\n    // Check if localization has fallback enabled or if a fallback locale is provided\n    if (localization) {\n        fallbackLocale = (0,_sanitizeFallbackLocale_js__WEBPACK_IMPORTED_MODULE_0__.sanitizeFallbackLocale)({\n            fallbackLocale,\n            locale,\n            localization\n        });\n    }\n    if ([\n        '*',\n        'all'\n    ].includes(locale)) {\n        locale = 'all';\n    } else if (localization && !localization.localeCodes.includes(locale) && localization.fallback) {\n        locale = localization.defaultLocale;\n    }\n    return {\n        fallbackLocale,\n        locale\n    };\n};\n\n//# sourceMappingURL=addLocalesToRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvYWRkTG9jYWxlc1RvUmVxdWVzdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNxRTtBQUNyRTtBQUNBO0FBQ0EsSUFBVztBQUNYLFlBQVksaUJBQWlCLFdBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5QkFBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDJCQUEyQixzQ0FBc0M7QUFDeEU7QUFDQTtBQUNBLHlCQUF5QixrRkFBc0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3V0aWxpdGllcy9hZGRMb2NhbGVzVG9SZXF1ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1zdHJpY3QtaWdub3JlXG5pbXBvcnQgeyBzYW5pdGl6ZUZhbGxiYWNrTG9jYWxlIH0gZnJvbSAnLi9zYW5pdGl6ZUZhbGxiYWNrTG9jYWxlLmpzJztcbi8qKlxuICogTXV0YXRlcyB0aGUgUmVxdWVzdCB0byBjb250YWluICdsb2NhbGUnIGFuZCAnZmFsbGJhY2tMb2NhbGUnIGJhc2VkIG9uIGRhdGEgb3Igc2VhcmNoUGFyYW1zXG4gKi8gZXhwb3J0IGZ1bmN0aW9uIGFkZExvY2FsZXNUb1JlcXVlc3RGcm9tRGF0YShyZXEpIHtcbiAgICBjb25zdCB7IGRhdGEsIHBheWxvYWQ6IHsgY29uZmlnIH0gfSA9IHJlcTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgICBjb25zdCBsb2NhbGVPblJlcSA9IHJlcS5sb2NhbGU7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrTG9jYWxlT25SZXEgPSByZXEuZmFsbGJhY2tMb2NhbGU7XG4gICAgICAgIGxldCBsb2NhbGVGcm9tRGF0YTtcbiAgICAgICAgbGV0IGZhbGxiYWNrTG9jYWxlRnJvbURhdGE7XG4gICAgICAgIGlmICghbG9jYWxlT25SZXEgJiYgZGF0YT8ubG9jYWxlICYmIHR5cGVvZiBkYXRhLmxvY2FsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxvY2FsZUZyb21EYXRhID0gZGF0YS5sb2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmYWxsYmFja0xvY2FsZU9uUmVxKSB7XG4gICAgICAgICAgICBpZiAoZGF0YT8uWydmYWxsYmFjay1sb2NhbGUnXSAmJiB0eXBlb2YgZGF0YT8uWydmYWxsYmFjay1sb2NhbGUnXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmYWxsYmFja0xvY2FsZUZyb21EYXRhID0gZGF0YVsnZmFsbGJhY2stbG9jYWxlJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YT8uWydmYWxsYmFja0xvY2FsZSddICYmIHR5cGVvZiBkYXRhPy5bJ2ZhbGxiYWNrTG9jYWxlJ10gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgZmFsbGJhY2tMb2NhbGVGcm9tRGF0YSA9IGRhdGFbJ2ZhbGxiYWNrTG9jYWxlJ107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsb2NhbGVPblJlcSB8fCAhZmFsbGJhY2tMb2NhbGVPblJlcSkge1xuICAgICAgICAgICAgY29uc3QgeyBmYWxsYmFja0xvY2FsZSwgbG9jYWxlIH0gPSBzYW5pdGl6ZUxvY2FsZXMoe1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrTG9jYWxlOiBmYWxsYmFja0xvY2FsZUZyb21EYXRhLFxuICAgICAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlRnJvbURhdGEsXG4gICAgICAgICAgICAgICAgbG9jYWxpemF0aW9uOiBjb25maWcubG9jYWxpemF0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChsb2NhbGVGcm9tRGF0YSkge1xuICAgICAgICAgICAgICAgIHJlcS5sb2NhbGUgPSBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmFsbGJhY2tMb2NhbGVGcm9tRGF0YSkge1xuICAgICAgICAgICAgICAgIHJlcS5mYWxsYmFja0xvY2FsZSA9IGZhbGxiYWNrTG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IHNhbml0aXplTG9jYWxlcyA9ICh7IGZhbGxiYWNrTG9jYWxlLCBsb2NhbGUsIGxvY2FsaXphdGlvbiB9KT0+e1xuICAgIC8vIENoZWNrIGlmIGxvY2FsaXphdGlvbiBoYXMgZmFsbGJhY2sgZW5hYmxlZCBvciBpZiBhIGZhbGxiYWNrIGxvY2FsZSBpcyBwcm92aWRlZFxuICAgIGlmIChsb2NhbGl6YXRpb24pIHtcbiAgICAgICAgZmFsbGJhY2tMb2NhbGUgPSBzYW5pdGl6ZUZhbGxiYWNrTG9jYWxlKHtcbiAgICAgICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgbG9jYWxpemF0aW9uXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoW1xuICAgICAgICAnKicsXG4gICAgICAgICdhbGwnXG4gICAgXS5pbmNsdWRlcyhsb2NhbGUpKSB7XG4gICAgICAgIGxvY2FsZSA9ICdhbGwnO1xuICAgIH0gZWxzZSBpZiAobG9jYWxpemF0aW9uICYmICFsb2NhbGl6YXRpb24ubG9jYWxlQ29kZXMuaW5jbHVkZXMobG9jYWxlKSAmJiBsb2NhbGl6YXRpb24uZmFsbGJhY2spIHtcbiAgICAgICAgbG9jYWxlID0gbG9jYWxpemF0aW9uLmRlZmF1bHRMb2NhbGU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICBsb2NhbGVcbiAgICB9O1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkTG9jYWxlc1RvUmVxdWVzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/addLocalesToRequest.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/commitTransaction.js":
/*!**********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/commitTransaction.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   commitTransaction: () => (/* binding */ commitTransaction)\n/* harmony export */ });\n// @ts-strict-ignore\n/**\n * complete a transaction calling adapter db.commitTransaction and delete the transactionID from req\n */ async function commitTransaction(req) {\n    const { payload, transactionID } = req;\n    await payload.db.commitTransaction(transactionID);\n    delete req.transactionID;\n}\n\n//# sourceMappingURL=commitTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvY29tbWl0VHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWCxZQUFZLHlCQUF5QjtBQUNyQztBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvY29tbWl0VHJhbnNhY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbi8qKlxuICogY29tcGxldGUgYSB0cmFuc2FjdGlvbiBjYWxsaW5nIGFkYXB0ZXIgZGIuY29tbWl0VHJhbnNhY3Rpb24gYW5kIGRlbGV0ZSB0aGUgdHJhbnNhY3Rpb25JRCBmcm9tIHJlcVxuICovIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21taXRUcmFuc2FjdGlvbihyZXEpIHtcbiAgICBjb25zdCB7IHBheWxvYWQsIHRyYW5zYWN0aW9uSUQgfSA9IHJlcTtcbiAgICBhd2FpdCBwYXlsb2FkLmRiLmNvbW1pdFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uSUQpO1xuICAgIGRlbGV0ZSByZXEudHJhbnNhY3Rpb25JRDtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbWl0VHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/commitTransaction.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/createArrayFromCommaDelineated.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/createArrayFromCommaDelineated.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createArrayFromCommaDelineated: () => (/* binding */ createArrayFromCommaDelineated)\n/* harmony export */ });\nfunction createArrayFromCommaDelineated(input) {\n    if (Array.isArray(input)) {\n        return input;\n    }\n    if (input.indexOf(',') > -1) {\n        return input.split(',');\n    }\n    return [\n        input\n    ];\n}\n\n//# sourceMappingURL=createArrayFromCommaDelineated.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvY3JlYXRlQXJyYXlGcm9tQ29tbWFEZWxpbmVhdGVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvdXRpbGl0aWVzL2NyZWF0ZUFycmF5RnJvbUNvbW1hRGVsaW5lYXRlZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY3JlYXRlQXJyYXlGcm9tQ29tbWFEZWxpbmVhdGVkKGlucHV0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgaWYgKGlucHV0LmluZGV4T2YoJywnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5zcGxpdCgnLCcpO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgICBpbnB1dFxuICAgIF07XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUFycmF5RnJvbUNvbW1hRGVsaW5lYXRlZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/createArrayFromCommaDelineated.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/createLocalReq.js":
/*!*******************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/createLocalReq.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLocalReq: () => (/* binding */ createLocalReq)\n/* harmony export */ });\n/* harmony import */ var _collections_dataloader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../collections/dataloader.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/collections/dataloader.js\");\n/* harmony import */ var _translations_getLocalI18n_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../translations/getLocalI18n.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/translations/getLocalI18n.js\");\n/* harmony import */ var _utilities_sanitizeFallbackLocale_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/sanitizeFallbackLocale.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/sanitizeFallbackLocale.js\");\n// @ts-strict-ignore\n\n\n\nfunction getRequestContext(req = {\n    context: null\n}, context = {}) {\n    if (req.context) {\n        if (Object.keys(req.context).length === 0 && req.context.constructor === Object) {\n            // if req.context is `{}` avoid unnecessary spread\n            return context;\n        } else {\n            return {\n                ...req.context,\n                ...context\n            };\n        }\n    } else {\n        return context;\n    }\n}\nconst attachFakeURLProperties = (req, urlSuffix)=>{\n    /**\n   * *NOTE*\n   * If no URL is provided, the local API was called outside\n   * the context of a request. Therefore we create a fake URL object.\n   * `ts-expect-error` is used below for properties that are 'read-only'.\n   * Since they do not exist yet we can safely ignore the error.\n   */ let urlObject;\n    function getURLObject() {\n        if (urlObject) {\n            return urlObject;\n        }\n        const fallbackURL = `http://${req.host || 'localhost'}${urlSuffix || ''}`;\n        const urlToUse = req?.url || req.payload.config?.serverURL ? `${req.payload.config.serverURL}${urlSuffix || ''}` : fallbackURL;\n        try {\n            urlObject = new URL(urlToUse);\n        } catch (_err) {\n            req.payload.logger.error(`Failed to create URL object from URL: ${urlToUse}, falling back to ${fallbackURL}`);\n            urlObject = new URL(fallbackURL);\n        }\n        return urlObject;\n    }\n    if (!req.host) {\n        req.host = getURLObject().host;\n    }\n    if (!req.protocol) {\n        req.protocol = getURLObject().protocol;\n    }\n    if (!req.pathname) {\n        req.pathname = getURLObject().pathname;\n    }\n    if (!req.searchParams) {\n        // @ts-expect-error eslint-disable-next-line no-param-reassign\n        req.searchParams = getURLObject().searchParams;\n    }\n    if (!req.origin) {\n        // @ts-expect-error eslint-disable-next-line no-param-reassign\n        req.origin = getURLObject().origin;\n    }\n    if (!req?.url) {\n        // @ts-expect-error eslint-disable-next-line no-param-reassign\n        req.url = getURLObject().href;\n    }\n};\nconst createLocalReq = async ({ context, fallbackLocale, locale: localeArg, req = {}, urlSuffix, user }, payload)=>{\n    const localization = payload.config?.localization;\n    if (localization) {\n        const locale = localeArg === '*' ? 'all' : localeArg;\n        const defaultLocale = localization.defaultLocale;\n        const localeCandidate = locale || req?.locale || req?.query?.locale;\n        req.locale = localeCandidate && typeof localeCandidate === 'string' ? localeCandidate : defaultLocale;\n        const sanitizedFallback = (0,_utilities_sanitizeFallbackLocale_js__WEBPACK_IMPORTED_MODULE_0__.sanitizeFallbackLocale)({\n            fallbackLocale,\n            locale: req.locale,\n            localization\n        });\n        req.fallbackLocale = sanitizedFallback;\n    }\n    const i18n = req?.i18n || await (0,_translations_getLocalI18n_js__WEBPACK_IMPORTED_MODULE_1__.getLocalI18n)({\n        config: payload.config,\n        language: payload.config.i18n.fallbackLanguage\n    });\n    if (!req.headers) {\n        // @ts-expect-error eslint-disable-next-line no-param-reassign\n        req.headers = new Headers();\n    }\n    req.context = getRequestContext(req, context);\n    req.payloadAPI = req?.payloadAPI || 'local';\n    req.payload = payload;\n    req.i18n = i18n;\n    req.t = i18n.t;\n    req.user = user || req?.user || null;\n    req.payloadDataLoader = req?.payloadDataLoader || (0,_collections_dataloader_js__WEBPACK_IMPORTED_MODULE_2__.getDataLoader)(req);\n    req.routeParams = req?.routeParams || {};\n    req.query = req?.query || {};\n    attachFakeURLProperties(req, urlSuffix);\n    return req;\n};\n\n//# sourceMappingURL=createLocalReq.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvY3JlYXRlTG9jYWxSZXEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQzZEO0FBQ0U7QUFDaUI7QUFDaEY7QUFDQTtBQUNBLENBQUMsY0FBYztBQUNmO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msd0JBQXdCLEVBQUUsZ0JBQWdCO0FBQ2hGLHdFQUF3RSw2QkFBNkIsRUFBRSxnQkFBZ0I7QUFDdkg7QUFDQTtBQUNBLFVBQVU7QUFDViw4RUFBOEUsU0FBUyxvQkFBb0IsWUFBWTtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sZ0NBQWdDLG9EQUFvRCxtQkFBbUI7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDRGQUFzQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9DQUFvQywyRUFBWTtBQUNoRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHlFQUFhO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvY3JlYXRlTG9jYWxSZXEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbmltcG9ydCB7IGdldERhdGFMb2FkZXIgfSBmcm9tICcuLi9jb2xsZWN0aW9ucy9kYXRhbG9hZGVyLmpzJztcbmltcG9ydCB7IGdldExvY2FsSTE4biB9IGZyb20gJy4uL3RyYW5zbGF0aW9ucy9nZXRMb2NhbEkxOG4uanMnO1xuaW1wb3J0IHsgc2FuaXRpemVGYWxsYmFja0xvY2FsZSB9IGZyb20gJy4uL3V0aWxpdGllcy9zYW5pdGl6ZUZhbGxiYWNrTG9jYWxlLmpzJztcbmZ1bmN0aW9uIGdldFJlcXVlc3RDb250ZXh0KHJlcSA9IHtcbiAgICBjb250ZXh0OiBudWxsXG59LCBjb250ZXh0ID0ge30pIHtcbiAgICBpZiAocmVxLmNvbnRleHQpIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlcS5jb250ZXh0KS5sZW5ndGggPT09IDAgJiYgcmVxLmNvbnRleHQuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgLy8gaWYgcmVxLmNvbnRleHQgaXMgYHt9YCBhdm9pZCB1bm5lY2Vzc2FyeSBzcHJlYWRcbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5yZXEuY29udGV4dCxcbiAgICAgICAgICAgICAgICAuLi5jb250ZXh0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxufVxuY29uc3QgYXR0YWNoRmFrZVVSTFByb3BlcnRpZXMgPSAocmVxLCB1cmxTdWZmaXgpPT57XG4gICAgLyoqXG4gICAqICpOT1RFKlxuICAgKiBJZiBubyBVUkwgaXMgcHJvdmlkZWQsIHRoZSBsb2NhbCBBUEkgd2FzIGNhbGxlZCBvdXRzaWRlXG4gICAqIHRoZSBjb250ZXh0IG9mIGEgcmVxdWVzdC4gVGhlcmVmb3JlIHdlIGNyZWF0ZSBhIGZha2UgVVJMIG9iamVjdC5cbiAgICogYHRzLWV4cGVjdC1lcnJvcmAgaXMgdXNlZCBiZWxvdyBmb3IgcHJvcGVydGllcyB0aGF0IGFyZSAncmVhZC1vbmx5Jy5cbiAgICogU2luY2UgdGhleSBkbyBub3QgZXhpc3QgeWV0IHdlIGNhbiBzYWZlbHkgaWdub3JlIHRoZSBlcnJvci5cbiAgICovIGxldCB1cmxPYmplY3Q7XG4gICAgZnVuY3Rpb24gZ2V0VVJMT2JqZWN0KCkge1xuICAgICAgICBpZiAodXJsT2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsT2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrVVJMID0gYGh0dHA6Ly8ke3JlcS5ob3N0IHx8ICdsb2NhbGhvc3QnfSR7dXJsU3VmZml4IHx8ICcnfWA7XG4gICAgICAgIGNvbnN0IHVybFRvVXNlID0gcmVxPy51cmwgfHwgcmVxLnBheWxvYWQuY29uZmlnPy5zZXJ2ZXJVUkwgPyBgJHtyZXEucGF5bG9hZC5jb25maWcuc2VydmVyVVJMfSR7dXJsU3VmZml4IHx8ICcnfWAgOiBmYWxsYmFja1VSTDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHVybE9iamVjdCA9IG5ldyBVUkwodXJsVG9Vc2UpO1xuICAgICAgICB9IGNhdGNoIChfZXJyKSB7XG4gICAgICAgICAgICByZXEucGF5bG9hZC5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgVVJMIG9iamVjdCBmcm9tIFVSTDogJHt1cmxUb1VzZX0sIGZhbGxpbmcgYmFjayB0byAke2ZhbGxiYWNrVVJMfWApO1xuICAgICAgICAgICAgdXJsT2JqZWN0ID0gbmV3IFVSTChmYWxsYmFja1VSTCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybE9iamVjdDtcbiAgICB9XG4gICAgaWYgKCFyZXEuaG9zdCkge1xuICAgICAgICByZXEuaG9zdCA9IGdldFVSTE9iamVjdCgpLmhvc3Q7XG4gICAgfVxuICAgIGlmICghcmVxLnByb3RvY29sKSB7XG4gICAgICAgIHJlcS5wcm90b2NvbCA9IGdldFVSTE9iamVjdCgpLnByb3RvY29sO1xuICAgIH1cbiAgICBpZiAoIXJlcS5wYXRobmFtZSkge1xuICAgICAgICByZXEucGF0aG5hbWUgPSBnZXRVUkxPYmplY3QoKS5wYXRobmFtZTtcbiAgICB9XG4gICAgaWYgKCFyZXEuc2VhcmNoUGFyYW1zKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIHJlcS5zZWFyY2hQYXJhbXMgPSBnZXRVUkxPYmplY3QoKS5zZWFyY2hQYXJhbXM7XG4gICAgfVxuICAgIGlmICghcmVxLm9yaWdpbikge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICByZXEub3JpZ2luID0gZ2V0VVJMT2JqZWN0KCkub3JpZ2luO1xuICAgIH1cbiAgICBpZiAoIXJlcT8udXJsKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIHJlcS51cmwgPSBnZXRVUkxPYmplY3QoKS5ocmVmO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgY3JlYXRlTG9jYWxSZXEgPSBhc3luYyAoeyBjb250ZXh0LCBmYWxsYmFja0xvY2FsZSwgbG9jYWxlOiBsb2NhbGVBcmcsIHJlcSA9IHt9LCB1cmxTdWZmaXgsIHVzZXIgfSwgcGF5bG9hZCk9PntcbiAgICBjb25zdCBsb2NhbGl6YXRpb24gPSBwYXlsb2FkLmNvbmZpZz8ubG9jYWxpemF0aW9uO1xuICAgIGlmIChsb2NhbGl6YXRpb24pIHtcbiAgICAgICAgY29uc3QgbG9jYWxlID0gbG9jYWxlQXJnID09PSAnKicgPyAnYWxsJyA6IGxvY2FsZUFyZztcbiAgICAgICAgY29uc3QgZGVmYXVsdExvY2FsZSA9IGxvY2FsaXphdGlvbi5kZWZhdWx0TG9jYWxlO1xuICAgICAgICBjb25zdCBsb2NhbGVDYW5kaWRhdGUgPSBsb2NhbGUgfHwgcmVxPy5sb2NhbGUgfHwgcmVxPy5xdWVyeT8ubG9jYWxlO1xuICAgICAgICByZXEubG9jYWxlID0gbG9jYWxlQ2FuZGlkYXRlICYmIHR5cGVvZiBsb2NhbGVDYW5kaWRhdGUgPT09ICdzdHJpbmcnID8gbG9jYWxlQ2FuZGlkYXRlIDogZGVmYXVsdExvY2FsZTtcbiAgICAgICAgY29uc3Qgc2FuaXRpemVkRmFsbGJhY2sgPSBzYW5pdGl6ZUZhbGxiYWNrTG9jYWxlKHtcbiAgICAgICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICAgICAgbG9jYWxlOiByZXEubG9jYWxlLFxuICAgICAgICAgICAgbG9jYWxpemF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICByZXEuZmFsbGJhY2tMb2NhbGUgPSBzYW5pdGl6ZWRGYWxsYmFjaztcbiAgICB9XG4gICAgY29uc3QgaTE4biA9IHJlcT8uaTE4biB8fCBhd2FpdCBnZXRMb2NhbEkxOG4oe1xuICAgICAgICBjb25maWc6IHBheWxvYWQuY29uZmlnLFxuICAgICAgICBsYW5ndWFnZTogcGF5bG9hZC5jb25maWcuaTE4bi5mYWxsYmFja0xhbmd1YWdlXG4gICAgfSk7XG4gICAgaWYgKCFyZXEuaGVhZGVycykge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICByZXEuaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgfVxuICAgIHJlcS5jb250ZXh0ID0gZ2V0UmVxdWVzdENvbnRleHQocmVxLCBjb250ZXh0KTtcbiAgICByZXEucGF5bG9hZEFQSSA9IHJlcT8ucGF5bG9hZEFQSSB8fCAnbG9jYWwnO1xuICAgIHJlcS5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICByZXEuaTE4biA9IGkxOG47XG4gICAgcmVxLnQgPSBpMThuLnQ7XG4gICAgcmVxLnVzZXIgPSB1c2VyIHx8IHJlcT8udXNlciB8fCBudWxsO1xuICAgIHJlcS5wYXlsb2FkRGF0YUxvYWRlciA9IHJlcT8ucGF5bG9hZERhdGFMb2FkZXIgfHwgZ2V0RGF0YUxvYWRlcihyZXEpO1xuICAgIHJlcS5yb3V0ZVBhcmFtcyA9IHJlcT8ucm91dGVQYXJhbXMgfHwge307XG4gICAgcmVxLnF1ZXJ5ID0gcmVxPy5xdWVyeSB8fCB7fTtcbiAgICBhdHRhY2hGYWtlVVJMUHJvcGVydGllcyhyZXEsIHVybFN1ZmZpeCk7XG4gICAgcmV0dXJuIHJlcTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUxvY2FsUmVxLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/createLocalReq.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/deepMerge.js":
/*!**************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/deepMerge.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deepMerge: () => (/* reexport default export from named module */ deepmerge__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   deepMergeWithCombinedArrays: () => (/* binding */ deepMergeWithCombinedArrays),\n/* harmony export */   deepMergeWithReactComponents: () => (/* binding */ deepMergeWithReactComponents),\n/* harmony export */   deepMergeWithSourceArrays: () => (/* binding */ deepMergeWithSourceArrays)\n/* harmony export */ });\n/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! deepmerge */ \"(rsc)/../../../../node_modules/.pnpm/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js\");\n/* harmony import */ var _isPlainObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isPlainObject.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isPlainObject.js\");\n// @ts-strict-ignore\n\n\n\n/**\n * Fully-featured deepMerge.\n *\n * Array handling: Arrays in the target object are combined with the source object's arrays.\n */ function deepMergeWithCombinedArrays(obj1, obj2, options = {}) {\n    return deepmerge__WEBPACK_IMPORTED_MODULE_0__(obj1, obj2, {\n        arrayMerge: (target, source, options)=>{\n            const destination = target.slice();\n            source.forEach((item, index)=>{\n                if (typeof destination[index] === 'undefined') {\n                    destination[index] = options.cloneUnlessOtherwiseSpecified(item, options);\n                } else if (options.isMergeableObject(item)) {\n                    destination[index] = deepmerge__WEBPACK_IMPORTED_MODULE_0__(target[index], item, options);\n                } else if (target.indexOf(item) === -1) {\n                    destination.push(item);\n                }\n            });\n            return destination;\n        },\n        ...options\n    });\n}\n/**\n * Fully-featured deepMerge.\n *\n * Array handling: Arrays in the target object are replaced by the source object's arrays.\n */ function deepMergeWithSourceArrays(obj1, obj2) {\n    return deepmerge__WEBPACK_IMPORTED_MODULE_0__(obj1, obj2, {\n        arrayMerge: (_, source)=>source\n    });\n}\n/**\n * Fully-featured deepMerge. Does not clone React components by default.\n */ function deepMergeWithReactComponents(obj1, obj2) {\n    return deepmerge__WEBPACK_IMPORTED_MODULE_0__(obj1, obj2, {\n        isMergeableObject: _isPlainObject_js__WEBPACK_IMPORTED_MODULE_1__.isPlainObject\n    });\n}\n\n//# sourceMappingURL=deepMerge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvZGVlcE1lcmdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ2tDO0FBQ2lCO0FBQzlCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVyw2REFBNkQ7QUFDeEUsV0FBVyxzQ0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLHlDQUF5QyxzQ0FBUztBQUNsRCxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVztBQUNYLFdBQVcsc0NBQVM7QUFDcEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsSUFBVztBQUNYLFdBQVcsc0NBQVM7QUFDcEIsMkJBQTJCLDREQUFhO0FBQ3hDLEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3V0aWxpdGllcy9kZWVwTWVyZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbmltcG9ydCBkZWVwTWVyZ2UgZnJvbSAnZGVlcG1lcmdlJztcbmltcG9ydCB7IGlzUGxhaW5PYmplY3QgfSBmcm9tICcuL2lzUGxhaW5PYmplY3QuanMnO1xuZXhwb3J0IHsgZGVlcE1lcmdlIH07XG4vKipcbiAqIEZ1bGx5LWZlYXR1cmVkIGRlZXBNZXJnZS5cbiAqXG4gKiBBcnJheSBoYW5kbGluZzogQXJyYXlzIGluIHRoZSB0YXJnZXQgb2JqZWN0IGFyZSBjb21iaW5lZCB3aXRoIHRoZSBzb3VyY2Ugb2JqZWN0J3MgYXJyYXlzLlxuICovIGV4cG9ydCBmdW5jdGlvbiBkZWVwTWVyZ2VXaXRoQ29tYmluZWRBcnJheXMob2JqMSwgb2JqMiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIGRlZXBNZXJnZShvYmoxLCBvYmoyLCB7XG4gICAgICAgIGFycmF5TWVyZ2U6ICh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucyk9PntcbiAgICAgICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gdGFyZ2V0LnNsaWNlKCk7XG4gICAgICAgICAgICBzb3VyY2UuZm9yRWFjaCgoaXRlbSwgaW5kZXgpPT57XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbltpbmRleF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW2luZGV4XSA9IG9wdGlvbnMuY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQoaXRlbSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW2luZGV4XSA9IGRlZXBNZXJnZSh0YXJnZXRbaW5kZXhdLCBpdGVtLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgfSk7XG59XG4vKipcbiAqIEZ1bGx5LWZlYXR1cmVkIGRlZXBNZXJnZS5cbiAqXG4gKiBBcnJheSBoYW5kbGluZzogQXJyYXlzIGluIHRoZSB0YXJnZXQgb2JqZWN0IGFyZSByZXBsYWNlZCBieSB0aGUgc291cmNlIG9iamVjdCdzIGFycmF5cy5cbiAqLyBleHBvcnQgZnVuY3Rpb24gZGVlcE1lcmdlV2l0aFNvdXJjZUFycmF5cyhvYmoxLCBvYmoyKSB7XG4gICAgcmV0dXJuIGRlZXBNZXJnZShvYmoxLCBvYmoyLCB7XG4gICAgICAgIGFycmF5TWVyZ2U6IChfLCBzb3VyY2UpPT5zb3VyY2VcbiAgICB9KTtcbn1cbi8qKlxuICogRnVsbHktZmVhdHVyZWQgZGVlcE1lcmdlLiBEb2VzIG5vdCBjbG9uZSBSZWFjdCBjb21wb25lbnRzIGJ5IGRlZmF1bHQuXG4gKi8gZXhwb3J0IGZ1bmN0aW9uIGRlZXBNZXJnZVdpdGhSZWFjdENvbXBvbmVudHMob2JqMSwgb2JqMikge1xuICAgIHJldHVybiBkZWVwTWVyZ2Uob2JqMSwgb2JqMiwge1xuICAgICAgICBpc01lcmdlYWJsZU9iamVjdDogaXNQbGFpbk9iamVjdFxuICAgIH0pO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWVwTWVyZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/deepMerge.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/getEntityPolicies.js":
/*!**********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/getEntityPolicies.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEntityPolicies: () => (/* binding */ getEntityPolicies)\n/* harmony export */ });\n/* harmony import */ var _database_combineQueries_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../database/combineQueries.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/database/combineQueries.js\");\n/* harmony import */ var _fields_config_types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../fields/config/types.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js\");\n// @ts-strict-ignore\n\n\n/**\n * Build up permissions object for an entity (collection or global)\n */ async function getEntityPolicies(args) {\n    const { id, type, blockPolicies, entity, operations, req } = args;\n    const { data, locale, payload, user } = req;\n    const isLoggedIn = !!user;\n    const policies = {\n        fields: {}\n    };\n    let docBeingAccessed;\n    async function getEntityDoc({ operation, where } = {}) {\n        if (!entity.slug) {\n            return undefined;\n        }\n        if (type === 'global') {\n            return payload.findGlobal({\n                slug: entity.slug,\n                depth: 0,\n                fallbackLocale: null,\n                locale,\n                overrideAccess: true,\n                req\n            });\n        }\n        if (type === 'collection' && id) {\n            if (typeof where === 'object') {\n                const options = {\n                    collection: entity.slug,\n                    depth: 0,\n                    fallbackLocale: null,\n                    limit: 1,\n                    locale,\n                    overrideAccess: true,\n                    req\n                };\n                if (operation === 'readVersions') {\n                    const paginatedRes = await payload.findVersions({\n                        ...options,\n                        where: (0,_database_combineQueries_js__WEBPACK_IMPORTED_MODULE_0__.combineQueries)(where, {\n                            parent: {\n                                equals: id\n                            }\n                        })\n                    });\n                    return paginatedRes?.docs?.[0] || undefined;\n                }\n                const paginatedRes = await payload.find({\n                    ...options,\n                    pagination: false,\n                    where: (0,_database_combineQueries_js__WEBPACK_IMPORTED_MODULE_0__.combineQueries)(where, {\n                        id: {\n                            equals: id\n                        }\n                    })\n                });\n                return paginatedRes?.docs?.[0] || undefined;\n            }\n            return payload.findByID({\n                id,\n                collection: entity.slug,\n                depth: 0,\n                fallbackLocale: null,\n                locale,\n                overrideAccess: true,\n                req\n            });\n        }\n    }\n    const createAccessPromise = async ({ access, accessLevel, disableWhere = false, operation, policiesObj: mutablePolicies })=>{\n        if (accessLevel === 'field' && docBeingAccessed === undefined) {\n            // assign docBeingAccessed first as the promise to avoid multiple calls to getEntityDoc\n            docBeingAccessed = getEntityDoc().then((doc)=>{\n                docBeingAccessed = doc;\n            });\n        }\n        // awaiting the promise to ensure docBeingAccessed is assigned before it is used\n        await docBeingAccessed;\n        // https://payloadcms.slack.com/archives/C048Z9C2BEX/p1702054928343769\n        const accessResult = await access({\n            id,\n            data,\n            doc: docBeingAccessed,\n            req\n        });\n        // Where query was returned from access function => check if document is returned when querying with where\n        if (typeof accessResult === 'object' && !disableWhere) {\n            mutablePolicies[operation] = {\n                permission: id || type === 'global' ? !!await getEntityDoc({\n                    operation,\n                    where: accessResult\n                }) : true,\n                where: accessResult\n            };\n        } else if (mutablePolicies[operation]?.permission !== false) {\n            mutablePolicies[operation] = {\n                permission: !!accessResult\n            };\n        }\n    };\n    for (const operation of operations){\n        if (typeof entity.access[operation] === 'function') {\n            await createAccessPromise({\n                access: entity.access[operation],\n                accessLevel: 'entity',\n                operation,\n                policiesObj: policies\n            });\n        } else {\n            policies[operation] = {\n                permission: isLoggedIn\n            };\n        }\n        await executeFieldPolicies({\n            blockPolicies,\n            createAccessPromise,\n            entityPermission: policies[operation].permission,\n            fields: entity.fields,\n            operation,\n            payload,\n            policiesObj: policies\n        });\n    }\n    return policies;\n}\n/**\n * Build up permissions object and run access functions for each field of an entity\n */ const executeFieldPolicies = async ({ blockPolicies, createAccessPromise, entityPermission, fields, operation, payload, policiesObj })=>{\n    const mutablePolicies = policiesObj.fields;\n    // Fields don't have all operations of a collection\n    if (operation === 'delete' || operation === 'readVersions' || operation === 'unlock') {\n        return;\n    }\n    await Promise.all(fields.map(async (field)=>{\n        if ('name' in field && field.name) {\n            if (!mutablePolicies[field.name]) {\n                mutablePolicies[field.name] = {};\n            }\n            if ('access' in field && field.access && typeof field.access[operation] === 'function') {\n                await createAccessPromise({\n                    access: field.access[operation],\n                    accessLevel: 'field',\n                    disableWhere: true,\n                    operation,\n                    policiesObj: mutablePolicies[field.name]\n                });\n            } else {\n                mutablePolicies[field.name][operation] = {\n                    permission: policiesObj[operation]?.permission\n                };\n            }\n            if ('fields' in field && field.fields) {\n                if (!mutablePolicies[field.name].fields) {\n                    mutablePolicies[field.name].fields = {};\n                }\n                await executeFieldPolicies({\n                    blockPolicies,\n                    createAccessPromise,\n                    entityPermission,\n                    fields: field.fields,\n                    operation,\n                    payload,\n                    policiesObj: mutablePolicies[field.name]\n                });\n            }\n            if ('blocks' in field && field.blocks?.length || 'blockReferences' in field && field.blockReferences?.length) {\n                if (!mutablePolicies[field.name]?.blocks) {\n                    mutablePolicies[field.name].blocks = {};\n                }\n                await Promise.all((field.blockReferences ?? field.blocks).map(async (_block)=>{\n                    const block = typeof _block === 'string' ? payload.blocks[_block] : _block;\n                    if (typeof _block === 'string') {\n                        if (blockPolicies[_block]) {\n                            if (typeof blockPolicies[_block].then === 'function') {\n                                // Earlier access to this block is still pending, so await it instead of re-running executeFieldPolicies\n                                mutablePolicies[field.name].blocks[block.slug] = await blockPolicies[_block];\n                            } else {\n                                // It's already a resolved policy object\n                                mutablePolicies[field.name].blocks[block.slug] = blockPolicies[_block];\n                            }\n                            return;\n                        } else {\n                            // We have not seen this block slug yet. Immediately create a promise\n                            // so that any parallel calls will just await this same promise\n                            // instead of re-running executeFieldPolicies.\n                            blockPolicies[_block] = (async ()=>{\n                                // If the block doesnt exist yet in our mutablePolicies, initialize it\n                                if (!mutablePolicies[field.name].blocks?.[block.slug]) {\n                                    mutablePolicies[field.name].blocks[block.slug] = {\n                                        fields: {},\n                                        [operation]: {\n                                            permission: entityPermission\n                                        }\n                                    };\n                                } else if (!mutablePolicies[field.name].blocks[block.slug][operation]) {\n                                    mutablePolicies[field.name].blocks[block.slug][operation] = {\n                                        permission: entityPermission\n                                    };\n                                }\n                                await executeFieldPolicies({\n                                    blockPolicies,\n                                    createAccessPromise,\n                                    entityPermission,\n                                    fields: block.fields,\n                                    operation,\n                                    payload,\n                                    policiesObj: mutablePolicies[field.name].blocks[block.slug]\n                                });\n                                return mutablePolicies[field.name].blocks[block.slug];\n                            })();\n                            mutablePolicies[field.name].blocks[block.slug] = await blockPolicies[_block];\n                            blockPolicies[_block] = mutablePolicies[field.name].blocks[block.slug];\n                            return;\n                        }\n                    }\n                    if (!mutablePolicies[field.name].blocks?.[block.slug]) {\n                        mutablePolicies[field.name].blocks[block.slug] = {\n                            fields: {},\n                            [operation]: {\n                                permission: entityPermission\n                            }\n                        };\n                    } else if (!mutablePolicies[field.name].blocks[block.slug][operation]) {\n                        mutablePolicies[field.name].blocks[block.slug][operation] = {\n                            permission: entityPermission\n                        };\n                    }\n                    await executeFieldPolicies({\n                        blockPolicies,\n                        createAccessPromise,\n                        entityPermission,\n                        fields: block.fields,\n                        operation,\n                        payload,\n                        policiesObj: mutablePolicies[field.name].blocks[block.slug]\n                    });\n                }));\n            }\n        } else if ('fields' in field && field.fields) {\n            await executeFieldPolicies({\n                blockPolicies,\n                createAccessPromise,\n                entityPermission,\n                fields: field.fields,\n                operation,\n                payload,\n                policiesObj\n            });\n        } else if (field.type === 'tabs') {\n            await Promise.all(field.tabs.map(async (tab)=>{\n                if ((0,_fields_config_types_js__WEBPACK_IMPORTED_MODULE_1__.tabHasName)(tab)) {\n                    if (!mutablePolicies[tab.name]) {\n                        mutablePolicies[tab.name] = {\n                            fields: {},\n                            [operation]: {\n                                permission: entityPermission\n                            }\n                        };\n                    } else if (!mutablePolicies[tab.name][operation]) {\n                        mutablePolicies[tab.name][operation] = {\n                            permission: entityPermission\n                        };\n                    }\n                    await executeFieldPolicies({\n                        blockPolicies,\n                        createAccessPromise,\n                        entityPermission,\n                        fields: tab.fields,\n                        operation,\n                        payload,\n                        policiesObj: mutablePolicies[tab.name]\n                    });\n                } else {\n                    await executeFieldPolicies({\n                        blockPolicies,\n                        createAccessPromise,\n                        entityPermission,\n                        fields: tab.fields,\n                        operation,\n                        payload,\n                        policiesObj\n                    });\n                }\n            }));\n        }\n    }));\n};\n\n//# sourceMappingURL=getEntityPolicies.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvZ2V0RW50aXR5UG9saWNpZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDK0Q7QUFDUjtBQUN2RDtBQUNBO0FBQ0EsSUFBVztBQUNYLFlBQVksbURBQW1EO0FBQy9ELFlBQVksOEJBQThCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsbUJBQW1CLElBQUk7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMkVBQWM7QUFDN0M7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJFQUFjO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLHlDQUF5QyxvRkFBb0Y7QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsK0ZBQStGO0FBQ3pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFVBQVU7QUFDVjtBQUNBLG9CQUFvQixtRUFBVTtBQUM5QjtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3V0aWxpdGllcy9nZXRFbnRpdHlQb2xpY2llcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtc3RyaWN0LWlnbm9yZVxuaW1wb3J0IHsgY29tYmluZVF1ZXJpZXMgfSBmcm9tICcuLi9kYXRhYmFzZS9jb21iaW5lUXVlcmllcy5qcyc7XG5pbXBvcnQgeyB0YWJIYXNOYW1lIH0gZnJvbSAnLi4vZmllbGRzL2NvbmZpZy90eXBlcy5qcyc7XG4vKipcbiAqIEJ1aWxkIHVwIHBlcm1pc3Npb25zIG9iamVjdCBmb3IgYW4gZW50aXR5IChjb2xsZWN0aW9uIG9yIGdsb2JhbClcbiAqLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RW50aXR5UG9saWNpZXMoYXJncykge1xuICAgIGNvbnN0IHsgaWQsIHR5cGUsIGJsb2NrUG9saWNpZXMsIGVudGl0eSwgb3BlcmF0aW9ucywgcmVxIH0gPSBhcmdzO1xuICAgIGNvbnN0IHsgZGF0YSwgbG9jYWxlLCBwYXlsb2FkLCB1c2VyIH0gPSByZXE7XG4gICAgY29uc3QgaXNMb2dnZWRJbiA9ICEhdXNlcjtcbiAgICBjb25zdCBwb2xpY2llcyA9IHtcbiAgICAgICAgZmllbGRzOiB7fVxuICAgIH07XG4gICAgbGV0IGRvY0JlaW5nQWNjZXNzZWQ7XG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0RW50aXR5RG9jKHsgb3BlcmF0aW9uLCB3aGVyZSB9ID0ge30pIHtcbiAgICAgICAgaWYgKCFlbnRpdHkuc2x1Zykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2dsb2JhbCcpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkLmZpbmRHbG9iYWwoe1xuICAgICAgICAgICAgICAgIHNsdWc6IGVudGl0eS5zbHVnLFxuICAgICAgICAgICAgICAgIGRlcHRoOiAwLFxuICAgICAgICAgICAgICAgIGZhbGxiYWNrTG9jYWxlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICBvdmVycmlkZUFjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZXFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnY29sbGVjdGlvbicgJiYgaWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2hlcmUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogZW50aXR5LnNsdWcsXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoOiAwLFxuICAgICAgICAgICAgICAgICAgICBmYWxsYmFja0xvY2FsZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVBY2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJlcVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ3JlYWRWZXJzaW9ucycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnaW5hdGVkUmVzID0gYXdhaXQgcGF5bG9hZC5maW5kVmVyc2lvbnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiBjb21iaW5lUXVlcmllcyh3aGVyZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVhbHM6IGlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWdpbmF0ZWRSZXM/LmRvY3M/LlswXSB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2luYXRlZFJlcyA9IGF3YWl0IHBheWxvYWQuZmluZCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB3aGVyZTogY29tYmluZVF1ZXJpZXMod2hlcmUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWxzOiBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWdpbmF0ZWRSZXM/LmRvY3M/LlswXSB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZC5maW5kQnlJRCh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbjogZW50aXR5LnNsdWcsXG4gICAgICAgICAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tMb2NhbGU6IG51bGwsXG4gICAgICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgICAgIG92ZXJyaWRlQWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlcVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY3JlYXRlQWNjZXNzUHJvbWlzZSA9IGFzeW5jICh7IGFjY2VzcywgYWNjZXNzTGV2ZWwsIGRpc2FibGVXaGVyZSA9IGZhbHNlLCBvcGVyYXRpb24sIHBvbGljaWVzT2JqOiBtdXRhYmxlUG9saWNpZXMgfSk9PntcbiAgICAgICAgaWYgKGFjY2Vzc0xldmVsID09PSAnZmllbGQnICYmIGRvY0JlaW5nQWNjZXNzZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gYXNzaWduIGRvY0JlaW5nQWNjZXNzZWQgZmlyc3QgYXMgdGhlIHByb21pc2UgdG8gYXZvaWQgbXVsdGlwbGUgY2FsbHMgdG8gZ2V0RW50aXR5RG9jXG4gICAgICAgICAgICBkb2NCZWluZ0FjY2Vzc2VkID0gZ2V0RW50aXR5RG9jKCkudGhlbigoZG9jKT0+e1xuICAgICAgICAgICAgICAgIGRvY0JlaW5nQWNjZXNzZWQgPSBkb2M7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhd2FpdGluZyB0aGUgcHJvbWlzZSB0byBlbnN1cmUgZG9jQmVpbmdBY2Nlc3NlZCBpcyBhc3NpZ25lZCBiZWZvcmUgaXQgaXMgdXNlZFxuICAgICAgICBhd2FpdCBkb2NCZWluZ0FjY2Vzc2VkO1xuICAgICAgICAvLyBodHRwczovL3BheWxvYWRjbXMuc2xhY2suY29tL2FyY2hpdmVzL0MwNDhaOUMyQkVYL3AxNzAyMDU0OTI4MzQzNzY5XG4gICAgICAgIGNvbnN0IGFjY2Vzc1Jlc3VsdCA9IGF3YWl0IGFjY2Vzcyh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBkb2M6IGRvY0JlaW5nQWNjZXNzZWQsXG4gICAgICAgICAgICByZXFcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdoZXJlIHF1ZXJ5IHdhcyByZXR1cm5lZCBmcm9tIGFjY2VzcyBmdW5jdGlvbiA9PiBjaGVjayBpZiBkb2N1bWVudCBpcyByZXR1cm5lZCB3aGVuIHF1ZXJ5aW5nIHdpdGggd2hlcmVcbiAgICAgICAgaWYgKHR5cGVvZiBhY2Nlc3NSZXN1bHQgPT09ICdvYmplY3QnICYmICFkaXNhYmxlV2hlcmUpIHtcbiAgICAgICAgICAgIG11dGFibGVQb2xpY2llc1tvcGVyYXRpb25dID0ge1xuICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IGlkIHx8IHR5cGUgPT09ICdnbG9iYWwnID8gISFhd2FpdCBnZXRFbnRpdHlEb2Moe1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHdoZXJlOiBhY2Nlc3NSZXN1bHRcbiAgICAgICAgICAgICAgICB9KSA6IHRydWUsXG4gICAgICAgICAgICAgICAgd2hlcmU6IGFjY2Vzc1Jlc3VsdFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChtdXRhYmxlUG9saWNpZXNbb3BlcmF0aW9uXT8ucGVybWlzc2lvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG11dGFibGVQb2xpY2llc1tvcGVyYXRpb25dID0ge1xuICAgICAgICAgICAgICAgIHBlcm1pc3Npb246ICEhYWNjZXNzUmVzdWx0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiBvcGVyYXRpb25zKXtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRpdHkuYWNjZXNzW29wZXJhdGlvbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGF3YWl0IGNyZWF0ZUFjY2Vzc1Byb21pc2Uoe1xuICAgICAgICAgICAgICAgIGFjY2VzczogZW50aXR5LmFjY2Vzc1tvcGVyYXRpb25dLFxuICAgICAgICAgICAgICAgIGFjY2Vzc0xldmVsOiAnZW50aXR5JyxcbiAgICAgICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICAgICAgcG9saWNpZXNPYmo6IHBvbGljaWVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvbGljaWVzW29wZXJhdGlvbl0gPSB7XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbjogaXNMb2dnZWRJblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBleGVjdXRlRmllbGRQb2xpY2llcyh7XG4gICAgICAgICAgICBibG9ja1BvbGljaWVzLFxuICAgICAgICAgICAgY3JlYXRlQWNjZXNzUHJvbWlzZSxcbiAgICAgICAgICAgIGVudGl0eVBlcm1pc3Npb246IHBvbGljaWVzW29wZXJhdGlvbl0ucGVybWlzc2lvbixcbiAgICAgICAgICAgIGZpZWxkczogZW50aXR5LmZpZWxkcyxcbiAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICBwb2xpY2llc09iajogcG9saWNpZXNcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwb2xpY2llcztcbn1cbi8qKlxuICogQnVpbGQgdXAgcGVybWlzc2lvbnMgb2JqZWN0IGFuZCBydW4gYWNjZXNzIGZ1bmN0aW9ucyBmb3IgZWFjaCBmaWVsZCBvZiBhbiBlbnRpdHlcbiAqLyBjb25zdCBleGVjdXRlRmllbGRQb2xpY2llcyA9IGFzeW5jICh7IGJsb2NrUG9saWNpZXMsIGNyZWF0ZUFjY2Vzc1Byb21pc2UsIGVudGl0eVBlcm1pc3Npb24sIGZpZWxkcywgb3BlcmF0aW9uLCBwYXlsb2FkLCBwb2xpY2llc09iaiB9KT0+e1xuICAgIGNvbnN0IG11dGFibGVQb2xpY2llcyA9IHBvbGljaWVzT2JqLmZpZWxkcztcbiAgICAvLyBGaWVsZHMgZG9uJ3QgaGF2ZSBhbGwgb3BlcmF0aW9ucyBvZiBhIGNvbGxlY3Rpb25cbiAgICBpZiAob3BlcmF0aW9uID09PSAnZGVsZXRlJyB8fCBvcGVyYXRpb24gPT09ICdyZWFkVmVyc2lvbnMnIHx8IG9wZXJhdGlvbiA9PT0gJ3VubG9jaycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBQcm9taXNlLmFsbChmaWVsZHMubWFwKGFzeW5jIChmaWVsZCk9PntcbiAgICAgICAgaWYgKCduYW1lJyBpbiBmaWVsZCAmJiBmaWVsZC5uYW1lKSB7XG4gICAgICAgICAgICBpZiAoIW11dGFibGVQb2xpY2llc1tmaWVsZC5uYW1lXSkge1xuICAgICAgICAgICAgICAgIG11dGFibGVQb2xpY2llc1tmaWVsZC5uYW1lXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdhY2Nlc3MnIGluIGZpZWxkICYmIGZpZWxkLmFjY2VzcyAmJiB0eXBlb2YgZmllbGQuYWNjZXNzW29wZXJhdGlvbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjcmVhdGVBY2Nlc3NQcm9taXNlKHtcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzOiBmaWVsZC5hY2Nlc3Nbb3BlcmF0aW9uXSxcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzTGV2ZWw6ICdmaWVsZCcsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVXaGVyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBwb2xpY2llc09iajogbXV0YWJsZVBvbGljaWVzW2ZpZWxkLm5hbWVdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG11dGFibGVQb2xpY2llc1tmaWVsZC5uYW1lXVtvcGVyYXRpb25dID0ge1xuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBwb2xpY2llc09ialtvcGVyYXRpb25dPy5wZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnZmllbGRzJyBpbiBmaWVsZCAmJiBmaWVsZC5maWVsZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW11dGFibGVQb2xpY2llc1tmaWVsZC5uYW1lXS5maWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgbXV0YWJsZVBvbGljaWVzW2ZpZWxkLm5hbWVdLmZpZWxkcyA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCBleGVjdXRlRmllbGRQb2xpY2llcyh7XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrUG9saWNpZXMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUFjY2Vzc1Byb21pc2UsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eVBlcm1pc3Npb24sXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkczogZmllbGQuZmllbGRzLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgIHBvbGljaWVzT2JqOiBtdXRhYmxlUG9saWNpZXNbZmllbGQubmFtZV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnYmxvY2tzJyBpbiBmaWVsZCAmJiBmaWVsZC5ibG9ja3M/Lmxlbmd0aCB8fCAnYmxvY2tSZWZlcmVuY2VzJyBpbiBmaWVsZCAmJiBmaWVsZC5ibG9ja1JlZmVyZW5jZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICghbXV0YWJsZVBvbGljaWVzW2ZpZWxkLm5hbWVdPy5ibG9ja3MpIHtcbiAgICAgICAgICAgICAgICAgICAgbXV0YWJsZVBvbGljaWVzW2ZpZWxkLm5hbWVdLmJsb2NrcyA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCgoZmllbGQuYmxvY2tSZWZlcmVuY2VzID8/IGZpZWxkLmJsb2NrcykubWFwKGFzeW5jIChfYmxvY2spPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gdHlwZW9mIF9ibG9jayA9PT0gJ3N0cmluZycgPyBwYXlsb2FkLmJsb2Nrc1tfYmxvY2tdIDogX2Jsb2NrO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF9ibG9jayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja1BvbGljaWVzW19ibG9ja10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJsb2NrUG9saWNpZXNbX2Jsb2NrXS50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVhcmxpZXIgYWNjZXNzIHRvIHRoaXMgYmxvY2sgaXMgc3RpbGwgcGVuZGluZywgc28gYXdhaXQgaXQgaW5zdGVhZCBvZiByZS1ydW5uaW5nIGV4ZWN1dGVGaWVsZFBvbGljaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11dGFibGVQb2xpY2llc1tmaWVsZC5uYW1lXS5ibG9ja3NbYmxvY2suc2x1Z10gPSBhd2FpdCBibG9ja1BvbGljaWVzW19ibG9ja107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXQncyBhbHJlYWR5IGEgcmVzb2x2ZWQgcG9saWN5IG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdXRhYmxlUG9saWNpZXNbZmllbGQubmFtZV0uYmxvY2tzW2Jsb2NrLnNsdWddID0gYmxvY2tQb2xpY2llc1tfYmxvY2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgbm90IHNlZW4gdGhpcyBibG9jayBzbHVnIHlldC4gSW1tZWRpYXRlbHkgY3JlYXRlIGEgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHRoYXQgYW55IHBhcmFsbGVsIGNhbGxzIHdpbGwganVzdCBhd2FpdCB0aGlzIHNhbWUgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgcmUtcnVubmluZyBleGVjdXRlRmllbGRQb2xpY2llcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja1BvbGljaWVzW19ibG9ja10gPSAoYXN5bmMgKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGJsb2NrIGRvZXNu4oCZdCBleGlzdCB5ZXQgaW4gb3VyIG11dGFibGVQb2xpY2llcywgaW5pdGlhbGl6ZSBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW11dGFibGVQb2xpY2llc1tmaWVsZC5uYW1lXS5ibG9ja3M/LltibG9jay5zbHVnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXV0YWJsZVBvbGljaWVzW2ZpZWxkLm5hbWVdLmJsb2Nrc1tibG9jay5zbHVnXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtvcGVyYXRpb25dOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IGVudGl0eVBlcm1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFtdXRhYmxlUG9saWNpZXNbZmllbGQubmFtZV0uYmxvY2tzW2Jsb2NrLnNsdWddW29wZXJhdGlvbl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11dGFibGVQb2xpY2llc1tmaWVsZC5uYW1lXS5ibG9ja3NbYmxvY2suc2x1Z11bb3BlcmF0aW9uXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBlbnRpdHlQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4ZWN1dGVGaWVsZFBvbGljaWVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrUG9saWNpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVBY2Nlc3NQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5UGVybWlzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogYmxvY2suZmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbGljaWVzT2JqOiBtdXRhYmxlUG9saWNpZXNbZmllbGQubmFtZV0uYmxvY2tzW2Jsb2NrLnNsdWddXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXV0YWJsZVBvbGljaWVzW2ZpZWxkLm5hbWVdLmJsb2Nrc1tibG9jay5zbHVnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11dGFibGVQb2xpY2llc1tmaWVsZC5uYW1lXS5ibG9ja3NbYmxvY2suc2x1Z10gPSBhd2FpdCBibG9ja1BvbGljaWVzW19ibG9ja107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tQb2xpY2llc1tfYmxvY2tdID0gbXV0YWJsZVBvbGljaWVzW2ZpZWxkLm5hbWVdLmJsb2Nrc1tibG9jay5zbHVnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtdXRhYmxlUG9saWNpZXNbZmllbGQubmFtZV0uYmxvY2tzPy5bYmxvY2suc2x1Z10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG11dGFibGVQb2xpY2llc1tmaWVsZC5uYW1lXS5ibG9ja3NbYmxvY2suc2x1Z10gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbb3BlcmF0aW9uXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBlbnRpdHlQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbXV0YWJsZVBvbGljaWVzW2ZpZWxkLm5hbWVdLmJsb2Nrc1tibG9jay5zbHVnXVtvcGVyYXRpb25dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtdXRhYmxlUG9saWNpZXNbZmllbGQubmFtZV0uYmxvY2tzW2Jsb2NrLnNsdWddW29wZXJhdGlvbl0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogZW50aXR5UGVybWlzc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBleGVjdXRlRmllbGRQb2xpY2llcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9ja1BvbGljaWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQWNjZXNzUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eVBlcm1pc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IGJsb2NrLmZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY2llc09iajogbXV0YWJsZVBvbGljaWVzW2ZpZWxkLm5hbWVdLmJsb2Nrc1tibG9jay5zbHVnXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoJ2ZpZWxkcycgaW4gZmllbGQgJiYgZmllbGQuZmllbGRzKSB7XG4gICAgICAgICAgICBhd2FpdCBleGVjdXRlRmllbGRQb2xpY2llcyh7XG4gICAgICAgICAgICAgICAgYmxvY2tQb2xpY2llcyxcbiAgICAgICAgICAgICAgICBjcmVhdGVBY2Nlc3NQcm9taXNlLFxuICAgICAgICAgICAgICAgIGVudGl0eVBlcm1pc3Npb24sXG4gICAgICAgICAgICAgICAgZmllbGRzOiBmaWVsZC5maWVsZHMsXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgcG9saWNpZXNPYmpcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJzJykge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZmllbGQudGFicy5tYXAoYXN5bmMgKHRhYik9PntcbiAgICAgICAgICAgICAgICBpZiAodGFiSGFzTmFtZSh0YWIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbXV0YWJsZVBvbGljaWVzW3RhYi5uYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXV0YWJsZVBvbGljaWVzW3RhYi5uYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtvcGVyYXRpb25dOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IGVudGl0eVBlcm1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFtdXRhYmxlUG9saWNpZXNbdGFiLm5hbWVdW29wZXJhdGlvbl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG11dGFibGVQb2xpY2llc1t0YWIubmFtZV1bb3BlcmF0aW9uXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBlbnRpdHlQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4ZWN1dGVGaWVsZFBvbGljaWVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrUG9saWNpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVBY2Nlc3NQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5UGVybWlzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogdGFiLmZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY2llc09iajogbXV0YWJsZVBvbGljaWVzW3RhYi5uYW1lXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBleGVjdXRlRmllbGRQb2xpY2llcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9ja1BvbGljaWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQWNjZXNzUHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eVBlcm1pc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IHRhYi5maWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9saWNpZXNPYmpcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfSkpO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0RW50aXR5UG9saWNpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/getEntityPolicies.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/getFieldByPath.js":
/*!*******************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/getFieldByPath.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFieldByPath: () => (/* binding */ getFieldByPath)\n/* harmony export */ });\n/**\n * Get the field from by its path.\n * Can accept nested paths, e.g: group.title, array.group.title\n * If there were any localized on the path, pathHasLocalized will be true and localizedPath will look like:\n * group.<locale>.title // group is localized here\n */ const getFieldByPath = ({ fields, localizedPath = '', path })=>{\n    let currentFields = fields;\n    let currentField = null;\n    const segments = path.split('.');\n    let pathHasLocalized = false;\n    while(segments.length > 0){\n        const segment = segments.shift();\n        localizedPath = `${localizedPath ? `${localizedPath}.` : ''}${segment}`;\n        const field = currentFields.find((each)=>each.name === segment);\n        if (!field) {\n            return null;\n        }\n        if (field.localized) {\n            pathHasLocalized = true;\n            localizedPath = `${localizedPath}.<locale>`;\n        }\n        if ('flattenedFields' in field) {\n            currentFields = field.flattenedFields;\n        }\n        if ('blocks' in field) {\n            for (const block of field.blocks){\n                const maybeField = getFieldByPath({\n                    fields: block.flattenedFields,\n                    localizedPath,\n                    path: [\n                        ...segments\n                    ].join('.')\n                });\n                if (maybeField) {\n                    return maybeField;\n                }\n            }\n        }\n        currentField = field;\n    }\n    if (!currentField) {\n        return null;\n    }\n    return {\n        field: currentField,\n        localizedPath,\n        pathHasLocalized\n    };\n};\n\n//# sourceMappingURL=getFieldByPath.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvZ2V0RmllbGRCeVBhdGguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXLDBCQUEwQixrQ0FBa0M7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1CQUFtQixjQUFjLFFBQVEsRUFBRSxRQUFRO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixjQUFjO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3V0aWxpdGllcy9nZXRGaWVsZEJ5UGF0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdldCB0aGUgZmllbGQgZnJvbSBieSBpdHMgcGF0aC5cbiAqIENhbiBhY2NlcHQgbmVzdGVkIHBhdGhzLCBlLmc6IGdyb3VwLnRpdGxlLCBhcnJheS5ncm91cC50aXRsZVxuICogSWYgdGhlcmUgd2VyZSBhbnkgbG9jYWxpemVkIG9uIHRoZSBwYXRoLCBwYXRoSGFzTG9jYWxpemVkIHdpbGwgYmUgdHJ1ZSBhbmQgbG9jYWxpemVkUGF0aCB3aWxsIGxvb2sgbGlrZTpcbiAqIGdyb3VwLjxsb2NhbGU+LnRpdGxlIC8vIGdyb3VwIGlzIGxvY2FsaXplZCBoZXJlXG4gKi8gZXhwb3J0IGNvbnN0IGdldEZpZWxkQnlQYXRoID0gKHsgZmllbGRzLCBsb2NhbGl6ZWRQYXRoID0gJycsIHBhdGggfSk9PntcbiAgICBsZXQgY3VycmVudEZpZWxkcyA9IGZpZWxkcztcbiAgICBsZXQgY3VycmVudEZpZWxkID0gbnVsbDtcbiAgICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICBsZXQgcGF0aEhhc0xvY2FsaXplZCA9IGZhbHNlO1xuICAgIHdoaWxlKHNlZ21lbnRzLmxlbmd0aCA+IDApe1xuICAgICAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHMuc2hpZnQoKTtcbiAgICAgICAgbG9jYWxpemVkUGF0aCA9IGAke2xvY2FsaXplZFBhdGggPyBgJHtsb2NhbGl6ZWRQYXRofS5gIDogJyd9JHtzZWdtZW50fWA7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gY3VycmVudEZpZWxkcy5maW5kKChlYWNoKT0+ZWFjaC5uYW1lID09PSBzZWdtZW50KTtcbiAgICAgICAgaWYgKCFmaWVsZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLmxvY2FsaXplZCkge1xuICAgICAgICAgICAgcGF0aEhhc0xvY2FsaXplZCA9IHRydWU7XG4gICAgICAgICAgICBsb2NhbGl6ZWRQYXRoID0gYCR7bG9jYWxpemVkUGF0aH0uPGxvY2FsZT5gO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZmxhdHRlbmVkRmllbGRzJyBpbiBmaWVsZCkge1xuICAgICAgICAgICAgY3VycmVudEZpZWxkcyA9IGZpZWxkLmZsYXR0ZW5lZEZpZWxkcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2Jsb2NrcycgaW4gZmllbGQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYmxvY2sgb2YgZmllbGQuYmxvY2tzKXtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXliZUZpZWxkID0gZ2V0RmllbGRCeVBhdGgoe1xuICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IGJsb2NrLmZsYXR0ZW5lZEZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxpemVkUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc2VnbWVudHNcbiAgICAgICAgICAgICAgICAgICAgXS5qb2luKCcuJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobWF5YmVGaWVsZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmVGaWVsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEZpZWxkID0gZmllbGQ7XG4gICAgfVxuICAgIGlmICghY3VycmVudEZpZWxkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBmaWVsZDogY3VycmVudEZpZWxkLFxuICAgICAgICBsb2NhbGl6ZWRQYXRoLFxuICAgICAgICBwYXRoSGFzTG9jYWxpemVkXG4gICAgfTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEZpZWxkQnlQYXRoLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/getFieldByPath.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/getSelectMode.js":
/*!******************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/getSelectMode.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSelectMode: () => (/* binding */ getSelectMode)\n/* harmony export */ });\nconst getSelectMode = (select)=>{\n    for(const key in select){\n        const selectValue = select[key];\n        if (selectValue === false) {\n            return 'exclude';\n        }\n        if (typeof selectValue === 'object') {\n            return getSelectMode(selectValue);\n        }\n    }\n    return 'include';\n};\n\n//# sourceMappingURL=getSelectMode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvZ2V0U2VsZWN0TW9kZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvdXRpbGl0aWVzL2dldFNlbGVjdE1vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGdldFNlbGVjdE1vZGUgPSAoc2VsZWN0KT0+e1xuICAgIGZvcihjb25zdCBrZXkgaW4gc2VsZWN0KXtcbiAgICAgICAgY29uc3Qgc2VsZWN0VmFsdWUgPSBzZWxlY3Rba2V5XTtcbiAgICAgICAgaWYgKHNlbGVjdFZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuICdleGNsdWRlJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHNlbGVjdFZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGdldFNlbGVjdE1vZGUoc2VsZWN0VmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnaW5jbHVkZSc7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRTZWxlY3RNb2RlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/getSelectMode.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/headersWithCors.js":
/*!********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/headersWithCors.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headersWithCors: () => (/* binding */ headersWithCors)\n/* harmony export */ });\n// @ts-strict-ignore\nconst headersWithCors = ({ headers, req })=>{\n    const cors = req?.payload.config.cors;\n    const requestOrigin = req?.headers.get('Origin');\n    if (cors) {\n        const defaultAllowedHeaders = [\n            'Origin',\n            'X-Requested-With',\n            'Content-Type',\n            'Accept',\n            'Authorization',\n            'Content-Encoding',\n            'x-apollo-tracing'\n        ];\n        headers.set('Access-Control-Allow-Methods', 'PUT, PATCH, POST, GET, DELETE, OPTIONS');\n        if (typeof cors === 'object' && 'headers' in cors) {\n            headers.set('Access-Control-Allow-Headers', [\n                ...defaultAllowedHeaders,\n                ...cors.headers\n            ].filter(Boolean).join(', '));\n        } else {\n            headers.set('Access-Control-Allow-Headers', defaultAllowedHeaders.join(', '));\n        }\n        if (cors === '*' || typeof cors === 'object' && 'origins' in cors && cors.origins === '*') {\n            headers.set('Access-Control-Allow-Origin', '*');\n        } else if (Array.isArray(cors) && cors.indexOf(requestOrigin) > -1 || !Array.isArray(cors) && typeof cors === 'object' && 'origins' in cors && cors.origins.indexOf(requestOrigin) > -1) {\n            headers.set('Access-Control-Allow-Credentials', 'true');\n            headers.set('Access-Control-Allow-Origin', requestOrigin);\n        }\n    }\n    return headers;\n};\n\n//# sourceMappingURL=headersWithCors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvaGVhZGVyc1dpdGhDb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNPLDJCQUEyQixjQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvaGVhZGVyc1dpdGhDb3JzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1zdHJpY3QtaWdub3JlXG5leHBvcnQgY29uc3QgaGVhZGVyc1dpdGhDb3JzID0gKHsgaGVhZGVycywgcmVxIH0pPT57XG4gICAgY29uc3QgY29ycyA9IHJlcT8ucGF5bG9hZC5jb25maWcuY29ycztcbiAgICBjb25zdCByZXF1ZXN0T3JpZ2luID0gcmVxPy5oZWFkZXJzLmdldCgnT3JpZ2luJyk7XG4gICAgaWYgKGNvcnMpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEFsbG93ZWRIZWFkZXJzID0gW1xuICAgICAgICAgICAgJ09yaWdpbicsXG4gICAgICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCcsXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJyxcbiAgICAgICAgICAgICdBY2NlcHQnLFxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nLFxuICAgICAgICAgICAgJ0NvbnRlbnQtRW5jb2RpbmcnLFxuICAgICAgICAgICAgJ3gtYXBvbGxvLXRyYWNpbmcnXG4gICAgICAgIF07XG4gICAgICAgIGhlYWRlcnMuc2V0KCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ1BVVCwgUEFUQ0gsIFBPU1QsIEdFVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgICAgIGlmICh0eXBlb2YgY29ycyA9PT0gJ29iamVjdCcgJiYgJ2hlYWRlcnMnIGluIGNvcnMpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgW1xuICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRBbGxvd2VkSGVhZGVycyxcbiAgICAgICAgICAgICAgICAuLi5jb3JzLmhlYWRlcnNcbiAgICAgICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJywgJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCBkZWZhdWx0QWxsb3dlZEhlYWRlcnMuam9pbignLCAnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcnMgPT09ICcqJyB8fCB0eXBlb2YgY29ycyA9PT0gJ29iamVjdCcgJiYgJ29yaWdpbnMnIGluIGNvcnMgJiYgY29ycy5vcmlnaW5zID09PSAnKicpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29ycykgJiYgY29ycy5pbmRleE9mKHJlcXVlc3RPcmlnaW4pID4gLTEgfHwgIUFycmF5LmlzQXJyYXkoY29ycykgJiYgdHlwZW9mIGNvcnMgPT09ICdvYmplY3QnICYmICdvcmlnaW5zJyBpbiBjb3JzICYmIGNvcnMub3JpZ2lucy5pbmRleE9mKHJlcXVlc3RPcmlnaW4pID4gLTEpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgcmVxdWVzdE9yaWdpbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhlYWRlcnM7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1oZWFkZXJzV2l0aENvcnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/headersWithCors.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/initTransaction.js":
/*!********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/initTransaction.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initTransaction: () => (/* binding */ initTransaction)\n/* harmony export */ });\n// @ts-strict-ignore\n/**\n * Starts a new transaction using the db adapter with a random id and then assigns it to the req.transaction\n * @returns true if beginning a transaction and false when req already has a transaction to use\n */ async function initTransaction(req) {\n    const { payload, transactionID } = req;\n    if (transactionID instanceof Promise) {\n        // wait for whoever else is already creating the transaction\n        await transactionID;\n        return false;\n    }\n    if (transactionID) {\n        // we already have a transaction, we're not in charge of committing it\n        return false;\n    }\n    if (typeof payload.db.beginTransaction === 'function') {\n        // create a new transaction\n        req.transactionID = payload.db.beginTransaction().then((transactionID)=>{\n            if (transactionID) {\n                req.transactionID = transactionID;\n            }\n            return transactionID;\n        });\n        return !!await req.transactionID;\n    }\n    return false;\n}\n\n//# sourceMappingURL=initTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvaW5pdFRyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWCxZQUFZLHlCQUF5QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3V0aWxpdGllcy9pbml0VHJhbnNhY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbi8qKlxuICogU3RhcnRzIGEgbmV3IHRyYW5zYWN0aW9uIHVzaW5nIHRoZSBkYiBhZGFwdGVyIHdpdGggYSByYW5kb20gaWQgYW5kIHRoZW4gYXNzaWducyBpdCB0byB0aGUgcmVxLnRyYW5zYWN0aW9uXG4gKiBAcmV0dXJucyB0cnVlIGlmIGJlZ2lubmluZyBhIHRyYW5zYWN0aW9uIGFuZCBmYWxzZSB3aGVuIHJlcSBhbHJlYWR5IGhhcyBhIHRyYW5zYWN0aW9uIHRvIHVzZVxuICovIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0VHJhbnNhY3Rpb24ocmVxKSB7XG4gICAgY29uc3QgeyBwYXlsb2FkLCB0cmFuc2FjdGlvbklEIH0gPSByZXE7XG4gICAgaWYgKHRyYW5zYWN0aW9uSUQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIC8vIHdhaXQgZm9yIHdob2V2ZXIgZWxzZSBpcyBhbHJlYWR5IGNyZWF0aW5nIHRoZSB0cmFuc2FjdGlvblxuICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbklEO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0cmFuc2FjdGlvbklEKSB7XG4gICAgICAgIC8vIHdlIGFscmVhZHkgaGF2ZSBhIHRyYW5zYWN0aW9uLCB3ZSdyZSBub3QgaW4gY2hhcmdlIG9mIGNvbW1pdHRpbmcgaXRcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBheWxvYWQuZGIuYmVnaW5UcmFuc2FjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdHJhbnNhY3Rpb25cbiAgICAgICAgcmVxLnRyYW5zYWN0aW9uSUQgPSBwYXlsb2FkLmRiLmJlZ2luVHJhbnNhY3Rpb24oKS50aGVuKCh0cmFuc2FjdGlvbklEKT0+e1xuICAgICAgICAgICAgaWYgKHRyYW5zYWN0aW9uSUQpIHtcbiAgICAgICAgICAgICAgICByZXEudHJhbnNhY3Rpb25JRCA9IHRyYW5zYWN0aW9uSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25JRDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAhIWF3YWl0IHJlcS50cmFuc2FjdGlvbklEO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXRUcmFuc2FjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/initTransaction.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isPlainObject.js":
/*!******************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isPlainObject.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isPlainObject: () => (/* binding */ isPlainObject)\n/* harmony export */ });\n/* harmony import */ var _isReactComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isReactComponent.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isReactComponent.js\");\n\nfunction isPlainObject(o) {\n    // Is this a React component?\n    if ((0,_isReactComponent_js__WEBPACK_IMPORTED_MODULE_0__.isReactComponentOrFunction)(o)) {\n        return false;\n    }\n    // from https://github.com/fastify/deepmerge/blob/master/index.js#L77\n    return typeof o === 'object' && o !== null && !(o instanceof RegExp) && !(o instanceof Date);\n}\n\n//# sourceMappingURL=isPlainObject.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvaXNQbGFpbk9iamVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtRTtBQUM1RDtBQUNQO0FBQ0EsUUFBUSxnRkFBMEI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3V0aWxpdGllcy9pc1BsYWluT2JqZWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzUmVhY3RDb21wb25lbnRPckZ1bmN0aW9uIH0gZnJvbSAnLi9pc1JlYWN0Q29tcG9uZW50LmpzJztcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG8pIHtcbiAgICAvLyBJcyB0aGlzIGEgUmVhY3QgY29tcG9uZW50P1xuICAgIGlmIChpc1JlYWN0Q29tcG9uZW50T3JGdW5jdGlvbihvKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Zhc3RpZnkvZGVlcG1lcmdlL2Jsb2IvbWFzdGVyL2luZGV4LmpzI0w3N1xuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgbyAhPT0gbnVsbCAmJiAhKG8gaW5zdGFuY2VvZiBSZWdFeHApICYmICEobyBpbnN0YW5jZW9mIERhdGUpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1BsYWluT2JqZWN0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isPlainObject.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isReactComponent.js":
/*!*********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isReactComponent.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isReactClientComponent: () => (/* binding */ isReactClientComponent),\n/* harmony export */   isReactComponentOrFunction: () => (/* binding */ isReactComponentOrFunction),\n/* harmony export */   isReactServerComponentOrFunction: () => (/* binding */ isReactServerComponentOrFunction)\n/* harmony export */ });\nconst clientRefSymbol = Symbol.for('react.client.reference');\nfunction isReactServerComponentOrFunction(component) {\n    if (component === null || component === undefined) {\n        return false;\n    }\n    const hasClientComponentSymbol = component.$$typeof == clientRefSymbol;\n    const isFunctionalComponent = typeof component === 'function';\n    // Anonymous functions are Client Components in Turbopack. RSCs should have a name\n    const isAnonymousFunction = typeof component === 'function' && component.name === '';\n    const isRSC = isFunctionalComponent && !isAnonymousFunction && !hasClientComponentSymbol;\n    return isRSC;\n}\nfunction isReactClientComponent(component) {\n    if (component === null || component === undefined) {\n        return false;\n    }\n    return !isReactServerComponentOrFunction(component) && component.$$typeof == clientRefSymbol;\n}\nfunction isReactComponentOrFunction(component) {\n    return isReactServerComponentOrFunction(component) || isReactClientComponent(component);\n}\n\n//# sourceMappingURL=isReactComponent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvaXNSZWFjdENvbXBvbmVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvaXNSZWFjdENvbXBvbmVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjbGllbnRSZWZTeW1ib2wgPSBTeW1ib2wuZm9yKCdyZWFjdC5jbGllbnQucmVmZXJlbmNlJyk7XG5leHBvcnQgZnVuY3Rpb24gaXNSZWFjdFNlcnZlckNvbXBvbmVudE9yRnVuY3Rpb24oY29tcG9uZW50KSB7XG4gICAgaWYgKGNvbXBvbmVudCA9PT0gbnVsbCB8fCBjb21wb25lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGhhc0NsaWVudENvbXBvbmVudFN5bWJvbCA9IGNvbXBvbmVudC4kJHR5cGVvZiA9PSBjbGllbnRSZWZTeW1ib2w7XG4gICAgY29uc3QgaXNGdW5jdGlvbmFsQ29tcG9uZW50ID0gdHlwZW9mIGNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJztcbiAgICAvLyBBbm9ueW1vdXMgZnVuY3Rpb25zIGFyZSBDbGllbnQgQ29tcG9uZW50cyBpbiBUdXJib3BhY2suIFJTQ3Mgc2hvdWxkIGhhdmUgYSBuYW1lXG4gICAgY29uc3QgaXNBbm9ueW1vdXNGdW5jdGlvbiA9IHR5cGVvZiBjb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiYgY29tcG9uZW50Lm5hbWUgPT09ICcnO1xuICAgIGNvbnN0IGlzUlNDID0gaXNGdW5jdGlvbmFsQ29tcG9uZW50ICYmICFpc0Fub255bW91c0Z1bmN0aW9uICYmICFoYXNDbGllbnRDb21wb25lbnRTeW1ib2w7XG4gICAgcmV0dXJuIGlzUlNDO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhY3RDbGllbnRDb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgaWYgKGNvbXBvbmVudCA9PT0gbnVsbCB8fCBjb21wb25lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhaXNSZWFjdFNlcnZlckNvbXBvbmVudE9yRnVuY3Rpb24oY29tcG9uZW50KSAmJiBjb21wb25lbnQuJCR0eXBlb2YgPT0gY2xpZW50UmVmU3ltYm9sO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhY3RDb21wb25lbnRPckZ1bmN0aW9uKGNvbXBvbmVudCkge1xuICAgIHJldHVybiBpc1JlYWN0U2VydmVyQ29tcG9uZW50T3JGdW5jdGlvbihjb21wb25lbnQpIHx8IGlzUmVhY3RDbGllbnRDb21wb25lbnQoY29tcG9uZW50KTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNSZWFjdENvbXBvbmVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isReactComponent.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isValidID.js":
/*!**************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isValidID.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isValidID: () => (/* binding */ isValidID)\n/* harmony export */ });\n/* harmony import */ var bson_objectid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bson-objectid */ \"(rsc)/../../../../node_modules/.pnpm/bson-objectid@2.0.4/node_modules/bson-objectid/objectid.js\");\n// @ts-strict-ignore\n\nconst ObjectId = bson_objectid__WEBPACK_IMPORTED_MODULE_0__[\"default\"] || bson_objectid__WEBPACK_IMPORTED_MODULE_0__;\nconst isValidID = (value, type)=>{\n    if (type === 'text' && value) {\n        if ([\n            'object',\n            'string'\n        ].includes(typeof value)) {\n            const isObjectID = ObjectId.isValid(value);\n            return typeof value === 'string' || isObjectID;\n        }\n        return false;\n    }\n    if (typeof value === 'number' && !Number.isNaN(value)) {\n        return true;\n    }\n    if (type === 'ObjectID') {\n        return ObjectId.isValid(String(value));\n    }\n};\n\n//# sourceMappingURL=isValidID.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvaXNWYWxpZElELmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDMkM7QUFDM0MsaUJBQWlCLHFEQUFzQixJQUFJLDBDQUFjO0FBQ2xEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3V0aWxpdGllcy9pc1ZhbGlkSUQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbmltcG9ydCBPYmplY3RJZEltcG9ydCBmcm9tICdic29uLW9iamVjdGlkJztcbmNvbnN0IE9iamVjdElkID0gT2JqZWN0SWRJbXBvcnQuZGVmYXVsdCB8fCBPYmplY3RJZEltcG9ydDtcbmV4cG9ydCBjb25zdCBpc1ZhbGlkSUQgPSAodmFsdWUsIHR5cGUpPT57XG4gICAgaWYgKHR5cGUgPT09ICd0ZXh0JyAmJiB2YWx1ZSkge1xuICAgICAgICBpZiAoW1xuICAgICAgICAgICAgJ29iamVjdCcsXG4gICAgICAgICAgICAnc3RyaW5nJ1xuICAgICAgICBdLmluY2x1ZGVzKHR5cGVvZiB2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzT2JqZWN0SUQgPSBPYmplY3RJZC5pc1ZhbGlkKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IGlzT2JqZWN0SUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzTmFOKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdPYmplY3RJRCcpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdElkLmlzVmFsaWQoU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNWYWxpZElELmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isValidID.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isolateObjectProperty.js":
/*!**************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isolateObjectProperty.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ isolateObjectProperty)\n/* harmony export */ });\n/* eslint-disable no-restricted-exports */ /**\n * Creates a proxy for the given object that has its own property\n */ function isolateObjectProperty(object, key) {\n    const keys = Array.isArray(key) ? key : [\n        key\n    ];\n    const delegate = {};\n    // Initialize delegate with the keys, if they exist in the original object\n    for (const k of keys){\n        if (k in object) {\n            delegate[k] = object[k];\n        }\n    }\n    const handler = {\n        deleteProperty (target, p) {\n            return Reflect.deleteProperty(keys.includes(p) ? delegate : target, p);\n        },\n        get (target, p, receiver) {\n            return Reflect.get(keys.includes(p) ? delegate : target, p, receiver);\n        },\n        has (target, p) {\n            return Reflect.has(keys.includes(p) ? delegate : target, p);\n        },\n        set (target, p, newValue, receiver) {\n            if (keys.includes(p)) {\n                // in case of transactionID we must ignore any receiver, because\n                // \"If provided and target does not have a setter for propertyKey, the property will be set on receiver instead.\"\n                return Reflect.set(delegate, p, newValue);\n            } else {\n                return Reflect.set(target, p, newValue, receiver);\n            }\n        }\n    };\n    return new Proxy(object, handler);\n}\n\n//# sourceMappingURL=isolateObjectProperty.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvaXNvbGF0ZU9iamVjdFByb3BlcnR5LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0EsSUFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvdXRpbGl0aWVzL2lzb2xhdGVPYmplY3RQcm9wZXJ0eS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWV4cG9ydHMgKi8gLyoqXG4gKiBDcmVhdGVzIGEgcHJveHkgZm9yIHRoZSBnaXZlbiBvYmplY3QgdGhhdCBoYXMgaXRzIG93biBwcm9wZXJ0eVxuICovIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzb2xhdGVPYmplY3RQcm9wZXJ0eShvYmplY3QsIGtleSkge1xuICAgIGNvbnN0IGtleXMgPSBBcnJheS5pc0FycmF5KGtleSkgPyBrZXkgOiBbXG4gICAgICAgIGtleVxuICAgIF07XG4gICAgY29uc3QgZGVsZWdhdGUgPSB7fTtcbiAgICAvLyBJbml0aWFsaXplIGRlbGVnYXRlIHdpdGggdGhlIGtleXMsIGlmIHRoZXkgZXhpc3QgaW4gdGhlIG9yaWdpbmFsIG9iamVjdFxuICAgIGZvciAoY29uc3QgayBvZiBrZXlzKXtcbiAgICAgICAgaWYgKGsgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICBkZWxlZ2F0ZVtrXSA9IG9iamVjdFtrXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBoYW5kbGVyID0ge1xuICAgICAgICBkZWxldGVQcm9wZXJ0eSAodGFyZ2V0LCBwKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShrZXlzLmluY2x1ZGVzKHApID8gZGVsZWdhdGUgOiB0YXJnZXQsIHApO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgKHRhcmdldCwgcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldChrZXlzLmluY2x1ZGVzKHApID8gZGVsZWdhdGUgOiB0YXJnZXQsIHAsIHJlY2VpdmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzICh0YXJnZXQsIHApIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmhhcyhrZXlzLmluY2x1ZGVzKHApID8gZGVsZWdhdGUgOiB0YXJnZXQsIHApO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgKHRhcmdldCwgcCwgbmV3VmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICBpZiAoa2V5cy5pbmNsdWRlcyhwKSkge1xuICAgICAgICAgICAgICAgIC8vIGluIGNhc2Ugb2YgdHJhbnNhY3Rpb25JRCB3ZSBtdXN0IGlnbm9yZSBhbnkgcmVjZWl2ZXIsIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyBcIklmIHByb3ZpZGVkIGFuZCB0YXJnZXQgZG9lcyBub3QgaGF2ZSBhIHNldHRlciBmb3IgcHJvcGVydHlLZXksIHRoZSBwcm9wZXJ0eSB3aWxsIGJlIHNldCBvbiByZWNlaXZlciBpbnN0ZWFkLlwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KGRlbGVnYXRlLCBwLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIHAsIG5ld1ZhbHVlLCByZWNlaXZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBuZXcgUHJveHkob2JqZWN0LCBoYW5kbGVyKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNvbGF0ZU9iamVjdFByb3BlcnR5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/isolateObjectProperty.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/killTransaction.js":
/*!********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/killTransaction.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   killTransaction: () => (/* binding */ killTransaction)\n/* harmony export */ });\n// @ts-strict-ignore\n/**\n * Rollback the transaction from the req using the db adapter and removes it from the req\n */ async function killTransaction(req) {\n    const { payload, transactionID } = req;\n    if (transactionID && !(transactionID instanceof Promise)) {\n        try {\n            await payload.db.rollbackTransaction(req.transactionID);\n        } catch (error) {\n        // swallow any errors while attempting to rollback\n        }\n        delete req.transactionID;\n    }\n}\n\n//# sourceMappingURL=killTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMva2lsbFRyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1gsWUFBWSx5QkFBeUI7QUFDckM7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMva2lsbFRyYW5zYWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1zdHJpY3QtaWdub3JlXG4vKipcbiAqIFJvbGxiYWNrIHRoZSB0cmFuc2FjdGlvbiBmcm9tIHRoZSByZXEgdXNpbmcgdGhlIGRiIGFkYXB0ZXIgYW5kIHJlbW92ZXMgaXQgZnJvbSB0aGUgcmVxXG4gKi8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGtpbGxUcmFuc2FjdGlvbihyZXEpIHtcbiAgICBjb25zdCB7IHBheWxvYWQsIHRyYW5zYWN0aW9uSUQgfSA9IHJlcTtcbiAgICBpZiAodHJhbnNhY3Rpb25JRCAmJiAhKHRyYW5zYWN0aW9uSUQgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcGF5bG9hZC5kYi5yb2xsYmFja1RyYW5zYWN0aW9uKHJlcS50cmFuc2FjdGlvbklEKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gc3dhbGxvdyBhbnkgZXJyb3JzIHdoaWxlIGF0dGVtcHRpbmcgdG8gcm9sbGJhY2tcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgcmVxLnRyYW5zYWN0aW9uSUQ7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1raWxsVHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/killTransaction.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/sanitizeFallbackLocale.js":
/*!***************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/sanitizeFallbackLocale.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sanitizeFallbackLocale: () => (/* binding */ sanitizeFallbackLocale)\n/* harmony export */ });\n/**\n * Sanitizes fallbackLocale based on a provided fallbackLocale, locale and localization config\n *\n * Handles the following scenarios:\n * - determines if a fallback locale should be used\n * - determines if a locale specific fallback should be used in place of the default locale\n * - sets the fallbackLocale to 'null' if no fallback locale should be used\n */ const sanitizeFallbackLocale = ({ fallbackLocale, locale, localization })=>{\n    let hasFallbackLocale = false;\n    if (fallbackLocale === undefined || fallbackLocale === null) {\n        hasFallbackLocale = Boolean(localization && localization.fallback);\n    }\n    if (fallbackLocale && ![\n        'false',\n        'none',\n        'null'\n    ].includes(fallbackLocale)) {\n        hasFallbackLocale = true;\n    }\n    if (hasFallbackLocale) {\n        if (!fallbackLocale) {\n            // Check for locale specific fallback\n            const localeSpecificFallback = localization && localization?.locales?.length ? localization.locales.find((localeConfig)=>localeConfig.code === locale)?.fallbackLocale : undefined;\n            if (localeSpecificFallback) {\n                fallbackLocale = localeSpecificFallback;\n            } else {\n                // Use defaultLocale as fallback otherwise\n                if (localization && 'fallback' in localization && localization.fallback) {\n                    fallbackLocale = localization.defaultLocale;\n                }\n            }\n        }\n    } else {\n        fallbackLocale = null;\n    }\n    return fallbackLocale;\n};\n\n//# sourceMappingURL=sanitizeFallbackLocale.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvc2FuaXRpemVGYWxsYmFja0xvY2FsZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXLGtDQUFrQyxzQ0FBc0M7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvc2FuaXRpemVGYWxsYmFja0xvY2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNhbml0aXplcyBmYWxsYmFja0xvY2FsZSBiYXNlZCBvbiBhIHByb3ZpZGVkIGZhbGxiYWNrTG9jYWxlLCBsb2NhbGUgYW5kIGxvY2FsaXphdGlvbiBjb25maWdcbiAqXG4gKiBIYW5kbGVzIHRoZSBmb2xsb3dpbmcgc2NlbmFyaW9zOlxuICogLSBkZXRlcm1pbmVzIGlmIGEgZmFsbGJhY2sgbG9jYWxlIHNob3VsZCBiZSB1c2VkXG4gKiAtIGRldGVybWluZXMgaWYgYSBsb2NhbGUgc3BlY2lmaWMgZmFsbGJhY2sgc2hvdWxkIGJlIHVzZWQgaW4gcGxhY2Ugb2YgdGhlIGRlZmF1bHQgbG9jYWxlXG4gKiAtIHNldHMgdGhlIGZhbGxiYWNrTG9jYWxlIHRvICdudWxsJyBpZiBubyBmYWxsYmFjayBsb2NhbGUgc2hvdWxkIGJlIHVzZWRcbiAqLyBleHBvcnQgY29uc3Qgc2FuaXRpemVGYWxsYmFja0xvY2FsZSA9ICh7IGZhbGxiYWNrTG9jYWxlLCBsb2NhbGUsIGxvY2FsaXphdGlvbiB9KT0+e1xuICAgIGxldCBoYXNGYWxsYmFja0xvY2FsZSA9IGZhbHNlO1xuICAgIGlmIChmYWxsYmFja0xvY2FsZSA9PT0gdW5kZWZpbmVkIHx8IGZhbGxiYWNrTG9jYWxlID09PSBudWxsKSB7XG4gICAgICAgIGhhc0ZhbGxiYWNrTG9jYWxlID0gQm9vbGVhbihsb2NhbGl6YXRpb24gJiYgbG9jYWxpemF0aW9uLmZhbGxiYWNrKTtcbiAgICB9XG4gICAgaWYgKGZhbGxiYWNrTG9jYWxlICYmICFbXG4gICAgICAgICdmYWxzZScsXG4gICAgICAgICdub25lJyxcbiAgICAgICAgJ251bGwnXG4gICAgXS5pbmNsdWRlcyhmYWxsYmFja0xvY2FsZSkpIHtcbiAgICAgICAgaGFzRmFsbGJhY2tMb2NhbGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoaGFzRmFsbGJhY2tMb2NhbGUpIHtcbiAgICAgICAgaWYgKCFmYWxsYmFja0xvY2FsZSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGxvY2FsZSBzcGVjaWZpYyBmYWxsYmFja1xuICAgICAgICAgICAgY29uc3QgbG9jYWxlU3BlY2lmaWNGYWxsYmFjayA9IGxvY2FsaXphdGlvbiAmJiBsb2NhbGl6YXRpb24/LmxvY2FsZXM/Lmxlbmd0aCA/IGxvY2FsaXphdGlvbi5sb2NhbGVzLmZpbmQoKGxvY2FsZUNvbmZpZyk9PmxvY2FsZUNvbmZpZy5jb2RlID09PSBsb2NhbGUpPy5mYWxsYmFja0xvY2FsZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChsb2NhbGVTcGVjaWZpY0ZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgZmFsbGJhY2tMb2NhbGUgPSBsb2NhbGVTcGVjaWZpY0ZhbGxiYWNrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgZGVmYXVsdExvY2FsZSBhcyBmYWxsYmFjayBvdGhlcndpc2VcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxpemF0aW9uICYmICdmYWxsYmFjaycgaW4gbG9jYWxpemF0aW9uICYmIGxvY2FsaXphdGlvbi5mYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBmYWxsYmFja0xvY2FsZSA9IGxvY2FsaXphdGlvbi5kZWZhdWx0TG9jYWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhbGxiYWNrTG9jYWxlID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbGxiYWNrTG9jYWxlO1xufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FuaXRpemVGYWxsYmFja0xvY2FsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/sanitizeFallbackLocale.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/sanitizePermissions.js":
/*!************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/sanitizePermissions.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recursivelySanitizeCollections: () => (/* binding */ recursivelySanitizeCollections),\n/* harmony export */   recursivelySanitizeGlobals: () => (/* binding */ recursivelySanitizeGlobals),\n/* harmony export */   sanitizePermissions: () => (/* binding */ sanitizePermissions)\n/* harmony export */ });\n// @ts-strict-ignore\nfunction checkAndSanitizeFieldsPermssions(data) {\n    let allFieldPermissionsTrue = true;\n    for(const key in data){\n        if (typeof data[key] === 'object') {\n            if (!checkAndSanitizePermissions(data[key])) {\n                allFieldPermissionsTrue = false;\n            } else {\n                ;\n                data[key] = true;\n            }\n        } else if (data[key] !== true) {\n            allFieldPermissionsTrue = false;\n        }\n    }\n    // If all values are true or it's an empty object, return true\n    return allFieldPermissionsTrue;\n}\n/**\n * Check if all permissions in a FieldPermissions, CollectionPermission or GlobalPermission object are true.\n * If nested fields or blocks are present, the function will recursively check those as well.\n */ function checkAndSanitizePermissions(data) {\n    /**\n   * Check blocks permissions\n   */ let blocksPermissions = true;\n    if ('blocks' in data && data.blocks) {\n        for(const blockSlug in data.blocks){\n            if (typeof data.blocks[blockSlug] === 'object') {\n                for(const key in data.blocks[blockSlug]){\n                    /**\n           * Check fields in nested blocks\n           */ if (key === 'fields') {\n                        if (data.blocks[blockSlug].fields) {\n                            if (!checkAndSanitizeFieldsPermssions(data.blocks[blockSlug].fields)) {\n                                blocksPermissions = false;\n                            } else {\n                                ;\n                                data.blocks[blockSlug].fields = true;\n                            }\n                        }\n                    } else {\n                        if (typeof data.blocks[blockSlug][key] === 'object') {\n                            /**\n               * Check Permissions in nested blocks\n               */ if (isPermissionObject(data.blocks[blockSlug][key])) {\n                                if (data.blocks[blockSlug][key]['permission'] === true && !('where' in data.blocks[blockSlug][key])) {\n                                    // If the permission is true and there is no where clause, set the key to true\n                                    data.blocks[blockSlug][key] = true;\n                                    continue;\n                                } else if (data.blocks[blockSlug][key]['permission'] === true && 'where' in data.blocks[blockSlug][key]) {\n                                    // otherwise do nothing so we can keep the where clause\n                                    blocksPermissions = false;\n                                } else {\n                                    blocksPermissions = false;\n                                    data.blocks[blockSlug][key] = false;\n                                    delete data.blocks[blockSlug][key];\n                                    continue;\n                                }\n                            } else {\n                                throw new Error('Unexpected object in block permissions');\n                            }\n                        }\n                    }\n                }\n            } else if (data.blocks[blockSlug] !== true) {\n                // If any value is not true, return false\n                blocksPermissions = false;\n                delete data.blocks[blockSlug];\n            }\n        }\n        if (blocksPermissions) {\n            ;\n            data.blocks = true;\n        }\n    }\n    /**\n   * Check nested Fields permissions\n   */ let fieldsPermissions = true;\n    if (data.fields) {\n        if (!checkAndSanitizeFieldsPermssions(data.fields)) {\n            fieldsPermissions = false;\n        } else {\n            ;\n            data.fields = true;\n        }\n    }\n    /**\n   * Check other Permissions objects (e.g. read, write)\n   */ let otherPermissions = true;\n    for(const key in data){\n        if (key === 'fields' || key === 'blocks') {\n            continue;\n        }\n        if (typeof data[key] === 'object') {\n            if (isPermissionObject(data[key])) {\n                if (data[key]['permission'] === true && !('where' in data[key])) {\n                    // If the permission is true and there is no where clause, set the key to true\n                    data[key] = true;\n                    continue;\n                } else if (data[key]['permission'] === true && 'where' in data[key]) {\n                    // otherwise do nothing so we can keep the where clause\n                    otherPermissions = false;\n                } else {\n                    otherPermissions = false;\n                    data[key] = false;\n                    delete data[key];\n                    continue;\n                }\n            } else {\n                throw new Error('Unexpected object in fields permissions');\n            }\n        } else if (data[key] !== true) {\n            // If any value is not true, return false\n            otherPermissions = false;\n        }\n    }\n    // If all values are true or it's an empty object, return true\n    return fieldsPermissions && blocksPermissions && otherPermissions;\n}\n/**\n * Check if an object is a permission object.\n */ function isPermissionObject(data) {\n    return typeof data === 'object' && 'permission' in data && typeof data['permission'] === 'boolean';\n}\n/**\n * Recursively remove empty objects from an object.\n */ function cleanEmptyObjects(obj) {\n    Object.keys(obj).forEach((key)=>{\n        if (typeof obj[key] === 'object' && obj[key] !== null) {\n            // Recursive call\n            cleanEmptyObjects(obj[key]);\n            if (Object.keys(obj[key]).length === 0) {\n                // Delete the key if the object is empty\n                delete obj[key];\n            }\n        } else if (obj[key] === null || obj[key] === undefined) {\n            delete obj[key];\n        }\n    });\n}\nfunction recursivelySanitizeCollections(obj) {\n    if (typeof obj !== 'object') {\n        return;\n    }\n    const collectionPermissions = Object.values(obj);\n    for (const collectionPermission of collectionPermissions){\n        checkAndSanitizePermissions(collectionPermission);\n    }\n}\nfunction recursivelySanitizeGlobals(obj) {\n    if (typeof obj !== 'object') {\n        return;\n    }\n    const globalPermissions = Object.values(obj);\n    for (const globalPermission of globalPermissions){\n        checkAndSanitizePermissions(globalPermission);\n    }\n}\n/**\n * Recursively remove empty objects and false values from an object.\n */ function sanitizePermissions(data) {\n    if (data.canAccessAdmin === false) {\n        delete data.canAccessAdmin;\n    }\n    if (data.collections) {\n        recursivelySanitizeCollections(data.collections);\n    }\n    if (data.globals) {\n        recursivelySanitizeGlobals(data.globals);\n    }\n    // Run clean up of empty objects at the end\n    cleanEmptyObjects(data);\n    return data;\n}\n\n//# sourceMappingURL=sanitizePermissions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC91dGlsaXRpZXMvc2FuaXRpemVQZXJtaXNzaW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3V0aWxpdGllcy9zYW5pdGl6ZVBlcm1pc3Npb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1zdHJpY3QtaWdub3JlXG5mdW5jdGlvbiBjaGVja0FuZFNhbml0aXplRmllbGRzUGVybXNzaW9ucyhkYXRhKSB7XG4gICAgbGV0IGFsbEZpZWxkUGVybWlzc2lvbnNUcnVlID0gdHJ1ZTtcbiAgICBmb3IoY29uc3Qga2V5IGluIGRhdGEpe1xuICAgICAgICBpZiAodHlwZW9mIGRhdGFba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICghY2hlY2tBbmRTYW5pdGl6ZVBlcm1pc3Npb25zKGRhdGFba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBhbGxGaWVsZFBlcm1pc3Npb25zVHJ1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgZGF0YVtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkYXRhW2tleV0gIT09IHRydWUpIHtcbiAgICAgICAgICAgIGFsbEZpZWxkUGVybWlzc2lvbnNUcnVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgYWxsIHZhbHVlcyBhcmUgdHJ1ZSBvciBpdCdzIGFuIGVtcHR5IG9iamVjdCwgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gYWxsRmllbGRQZXJtaXNzaW9uc1RydWU7XG59XG4vKipcbiAqIENoZWNrIGlmIGFsbCBwZXJtaXNzaW9ucyBpbiBhIEZpZWxkUGVybWlzc2lvbnMsIENvbGxlY3Rpb25QZXJtaXNzaW9uIG9yIEdsb2JhbFBlcm1pc3Npb24gb2JqZWN0IGFyZSB0cnVlLlxuICogSWYgbmVzdGVkIGZpZWxkcyBvciBibG9ja3MgYXJlIHByZXNlbnQsIHRoZSBmdW5jdGlvbiB3aWxsIHJlY3Vyc2l2ZWx5IGNoZWNrIHRob3NlIGFzIHdlbGwuXG4gKi8gZnVuY3Rpb24gY2hlY2tBbmRTYW5pdGl6ZVBlcm1pc3Npb25zKGRhdGEpIHtcbiAgICAvKipcbiAgICogQ2hlY2sgYmxvY2tzIHBlcm1pc3Npb25zXG4gICAqLyBsZXQgYmxvY2tzUGVybWlzc2lvbnMgPSB0cnVlO1xuICAgIGlmICgnYmxvY2tzJyBpbiBkYXRhICYmIGRhdGEuYmxvY2tzKSB7XG4gICAgICAgIGZvcihjb25zdCBibG9ja1NsdWcgaW4gZGF0YS5ibG9ja3Mpe1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmJsb2Nrc1tibG9ja1NsdWddID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGZvcihjb25zdCBrZXkgaW4gZGF0YS5ibG9ja3NbYmxvY2tTbHVnXSl7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIENoZWNrIGZpZWxkcyBpbiBuZXN0ZWQgYmxvY2tzXG4gICAgICAgICAgICovIGlmIChrZXkgPT09ICdmaWVsZHMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ibG9ja3NbYmxvY2tTbHVnXS5maWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrQW5kU2FuaXRpemVGaWVsZHNQZXJtc3Npb25zKGRhdGEuYmxvY2tzW2Jsb2NrU2x1Z10uZmllbGRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NQZXJtaXNzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5ibG9ja3NbYmxvY2tTbHVnXS5maWVsZHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5ibG9ja3NbYmxvY2tTbHVnXVtrZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgKiBDaGVjayBQZXJtaXNzaW9ucyBpbiBuZXN0ZWQgYmxvY2tzXG4gICAgICAgICAgICAgICAqLyBpZiAoaXNQZXJtaXNzaW9uT2JqZWN0KGRhdGEuYmxvY2tzW2Jsb2NrU2x1Z11ba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuYmxvY2tzW2Jsb2NrU2x1Z11ba2V5XVsncGVybWlzc2lvbiddID09PSB0cnVlICYmICEoJ3doZXJlJyBpbiBkYXRhLmJsb2Nrc1tibG9ja1NsdWddW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcGVybWlzc2lvbiBpcyB0cnVlIGFuZCB0aGVyZSBpcyBubyB3aGVyZSBjbGF1c2UsIHNldCB0aGUga2V5IHRvIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYmxvY2tzW2Jsb2NrU2x1Z11ba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmJsb2Nrc1tibG9ja1NsdWddW2tleV1bJ3Blcm1pc3Npb24nXSA9PT0gdHJ1ZSAmJiAnd2hlcmUnIGluIGRhdGEuYmxvY2tzW2Jsb2NrU2x1Z11ba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGRvIG5vdGhpbmcgc28gd2UgY2FuIGtlZXAgdGhlIHdoZXJlIGNsYXVzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tzUGVybWlzc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2Nrc1Blcm1pc3Npb25zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmJsb2Nrc1tibG9ja1NsdWddW2tleV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkYXRhLmJsb2Nrc1tibG9ja1NsdWddW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBvYmplY3QgaW4gYmxvY2sgcGVybWlzc2lvbnMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuYmxvY2tzW2Jsb2NrU2x1Z10gIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBhbnkgdmFsdWUgaXMgbm90IHRydWUsIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIGJsb2Nrc1Blcm1pc3Npb25zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRhdGEuYmxvY2tzW2Jsb2NrU2x1Z107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJsb2Nrc1Blcm1pc3Npb25zKSB7XG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBkYXRhLmJsb2NrcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAqIENoZWNrIG5lc3RlZCBGaWVsZHMgcGVybWlzc2lvbnNcbiAgICovIGxldCBmaWVsZHNQZXJtaXNzaW9ucyA9IHRydWU7XG4gICAgaWYgKGRhdGEuZmllbGRzKSB7XG4gICAgICAgIGlmICghY2hlY2tBbmRTYW5pdGl6ZUZpZWxkc1Blcm1zc2lvbnMoZGF0YS5maWVsZHMpKSB7XG4gICAgICAgICAgICBmaWVsZHNQZXJtaXNzaW9ucyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgO1xuICAgICAgICAgICAgZGF0YS5maWVsZHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgKiBDaGVjayBvdGhlciBQZXJtaXNzaW9ucyBvYmplY3RzIChlLmcuIHJlYWQsIHdyaXRlKVxuICAgKi8gbGV0IG90aGVyUGVybWlzc2lvbnMgPSB0cnVlO1xuICAgIGZvcihjb25zdCBrZXkgaW4gZGF0YSl7XG4gICAgICAgIGlmIChrZXkgPT09ICdmaWVsZHMnIHx8IGtleSA9PT0gJ2Jsb2NrcycpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YVtrZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKGlzUGVybWlzc2lvbk9iamVjdChkYXRhW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFba2V5XVsncGVybWlzc2lvbiddID09PSB0cnVlICYmICEoJ3doZXJlJyBpbiBkYXRhW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwZXJtaXNzaW9uIGlzIHRydWUgYW5kIHRoZXJlIGlzIG5vIHdoZXJlIGNsYXVzZSwgc2V0IHRoZSBrZXkgdG8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFba2V5XVsncGVybWlzc2lvbiddID09PSB0cnVlICYmICd3aGVyZScgaW4gZGF0YVtrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBkbyBub3RoaW5nIHNvIHdlIGNhbiBrZWVwIHRoZSB3aGVyZSBjbGF1c2VcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQZXJtaXNzaW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG90aGVyUGVybWlzc2lvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtrZXldID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkYXRhW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIG9iamVjdCBpbiBmaWVsZHMgcGVybWlzc2lvbnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkYXRhW2tleV0gIT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIElmIGFueSB2YWx1ZSBpcyBub3QgdHJ1ZSwgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICBvdGhlclBlcm1pc3Npb25zID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgYWxsIHZhbHVlcyBhcmUgdHJ1ZSBvciBpdCdzIGFuIGVtcHR5IG9iamVjdCwgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmllbGRzUGVybWlzc2lvbnMgJiYgYmxvY2tzUGVybWlzc2lvbnMgJiYgb3RoZXJQZXJtaXNzaW9ucztcbn1cbi8qKlxuICogQ2hlY2sgaWYgYW4gb2JqZWN0IGlzIGEgcGVybWlzc2lvbiBvYmplY3QuXG4gKi8gZnVuY3Rpb24gaXNQZXJtaXNzaW9uT2JqZWN0KGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmICdwZXJtaXNzaW9uJyBpbiBkYXRhICYmIHR5cGVvZiBkYXRhWydwZXJtaXNzaW9uJ10gPT09ICdib29sZWFuJztcbn1cbi8qKlxuICogUmVjdXJzaXZlbHkgcmVtb3ZlIGVtcHR5IG9iamVjdHMgZnJvbSBhbiBvYmplY3QuXG4gKi8gZnVuY3Rpb24gY2xlYW5FbXB0eU9iamVjdHMob2JqKSB7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKChrZXkpPT57XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICdvYmplY3QnICYmIG9ialtrZXldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnNpdmUgY2FsbFxuICAgICAgICAgICAgY2xlYW5FbXB0eU9iamVjdHMob2JqW2tleV0pO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG9ialtrZXldKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBEZWxldGUgdGhlIGtleSBpZiB0aGUgb2JqZWN0IGlzIGVtcHR5XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9ialtrZXldID09PSBudWxsIHx8IG9ialtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5U2FuaXRpemVDb2xsZWN0aW9ucyhvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb2xsZWN0aW9uUGVybWlzc2lvbnMgPSBPYmplY3QudmFsdWVzKG9iaik7XG4gICAgZm9yIChjb25zdCBjb2xsZWN0aW9uUGVybWlzc2lvbiBvZiBjb2xsZWN0aW9uUGVybWlzc2lvbnMpe1xuICAgICAgICBjaGVja0FuZFNhbml0aXplUGVybWlzc2lvbnMoY29sbGVjdGlvblBlcm1pc3Npb24pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZWN1cnNpdmVseVNhbml0aXplR2xvYmFscyhvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBnbG9iYWxQZXJtaXNzaW9ucyA9IE9iamVjdC52YWx1ZXMob2JqKTtcbiAgICBmb3IgKGNvbnN0IGdsb2JhbFBlcm1pc3Npb24gb2YgZ2xvYmFsUGVybWlzc2lvbnMpe1xuICAgICAgICBjaGVja0FuZFNhbml0aXplUGVybWlzc2lvbnMoZ2xvYmFsUGVybWlzc2lvbik7XG4gICAgfVxufVxuLyoqXG4gKiBSZWN1cnNpdmVseSByZW1vdmUgZW1wdHkgb2JqZWN0cyBhbmQgZmFsc2UgdmFsdWVzIGZyb20gYW4gb2JqZWN0LlxuICovIGV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZVBlcm1pc3Npb25zKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5jYW5BY2Nlc3NBZG1pbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgZGVsZXRlIGRhdGEuY2FuQWNjZXNzQWRtaW47XG4gICAgfVxuICAgIGlmIChkYXRhLmNvbGxlY3Rpb25zKSB7XG4gICAgICAgIHJlY3Vyc2l2ZWx5U2FuaXRpemVDb2xsZWN0aW9ucyhkYXRhLmNvbGxlY3Rpb25zKTtcbiAgICB9XG4gICAgaWYgKGRhdGEuZ2xvYmFscykge1xuICAgICAgICByZWN1cnNpdmVseVNhbml0aXplR2xvYmFscyhkYXRhLmdsb2JhbHMpO1xuICAgIH1cbiAgICAvLyBSdW4gY2xlYW4gdXAgb2YgZW1wdHkgb2JqZWN0cyBhdCB0aGUgZW5kXG4gICAgY2xlYW5FbXB0eU9iamVjdHMoZGF0YSk7XG4gICAgcmV0dXJuIGRhdGE7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhbml0aXplUGVybWlzc2lvbnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/utilities/sanitizePermissions.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/baseFields.js":
/*!**************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/baseFields.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   statuses: () => (/* binding */ statuses),\n/* harmony export */   versionSnapshotField: () => (/* binding */ versionSnapshotField)\n/* harmony export */ });\n// @ts-strict-ignore\nconst statuses = [\n    {\n        label: ({ t })=>t('version:draft'),\n        value: 'draft'\n    },\n    {\n        label: ({ t })=>t('version:published'),\n        value: 'published'\n    }\n];\nconst baseVersionFields = [\n    {\n        name: '_status',\n        type: 'select',\n        admin: {\n            components: {\n                Field: false\n            },\n            disableBulkEdit: true\n        },\n        defaultValue: 'draft',\n        index: true,\n        label: ({ t })=>t('version:status'),\n        options: statuses\n    }\n];\n// When publishing a specific locale,\n// we need to create a new draft which acts as a\n// \"snapshot\" to retain all existing draft data.\n// This field will be used to exclude any snapshot versions\n// from the admin Versions list\nconst versionSnapshotField = {\n    name: 'snapshot',\n    type: 'checkbox',\n    admin: {\n        disableBulkEdit: true,\n        disabled: true\n    },\n    index: true\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (baseVersionFields);\n\n//# sourceMappingURL=baseFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC92ZXJzaW9ucy9iYXNlRmllbGRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ087QUFDUDtBQUNBLGtCQUFrQixHQUFHO0FBQ3JCO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0JBQWtCLEdBQUc7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQixHQUFHO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlFQUFlLGlCQUFpQixFQUFDOztBQUVqQyIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3ZlcnNpb25zL2Jhc2VGaWVsZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbmV4cG9ydCBjb25zdCBzdGF0dXNlcyA9IFtcbiAgICB7XG4gICAgICAgIGxhYmVsOiAoeyB0IH0pPT50KCd2ZXJzaW9uOmRyYWZ0JyksXG4gICAgICAgIHZhbHVlOiAnZHJhZnQnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGxhYmVsOiAoeyB0IH0pPT50KCd2ZXJzaW9uOnB1Ymxpc2hlZCcpLFxuICAgICAgICB2YWx1ZTogJ3B1Ymxpc2hlZCdcbiAgICB9XG5dO1xuY29uc3QgYmFzZVZlcnNpb25GaWVsZHMgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnX3N0YXR1cycsXG4gICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgY29tcG9uZW50czoge1xuICAgICAgICAgICAgICAgIEZpZWxkOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc2FibGVCdWxrRWRpdDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0VmFsdWU6ICdkcmFmdCcsXG4gICAgICAgIGluZGV4OiB0cnVlLFxuICAgICAgICBsYWJlbDogKHsgdCB9KT0+dCgndmVyc2lvbjpzdGF0dXMnKSxcbiAgICAgICAgb3B0aW9uczogc3RhdHVzZXNcbiAgICB9XG5dO1xuLy8gV2hlbiBwdWJsaXNoaW5nIGEgc3BlY2lmaWMgbG9jYWxlLFxuLy8gd2UgbmVlZCB0byBjcmVhdGUgYSBuZXcgZHJhZnQgd2hpY2ggYWN0cyBhcyBhXG4vLyBcInNuYXBzaG90XCIgdG8gcmV0YWluIGFsbCBleGlzdGluZyBkcmFmdCBkYXRhLlxuLy8gVGhpcyBmaWVsZCB3aWxsIGJlIHVzZWQgdG8gZXhjbHVkZSBhbnkgc25hcHNob3QgdmVyc2lvbnNcbi8vIGZyb20gdGhlIGFkbWluIFZlcnNpb25zIGxpc3RcbmV4cG9ydCBjb25zdCB2ZXJzaW9uU25hcHNob3RGaWVsZCA9IHtcbiAgICBuYW1lOiAnc25hcHNob3QnLFxuICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgYWRtaW46IHtcbiAgICAgICAgZGlzYWJsZUJ1bGtFZGl0OiB0cnVlLFxuICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgIH0sXG4gICAgaW5kZXg6IHRydWVcbn07XG5leHBvcnQgZGVmYXVsdCBiYXNlVmVyc2lvbkZpZWxkcztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZUZpZWxkcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/baseFields.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/buildCollectionFields.js":
/*!*************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/buildCollectionFields.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildVersionCollectionFields: () => (/* binding */ buildVersionCollectionFields)\n/* harmony export */ });\n/* harmony import */ var _baseFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseFields.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/baseFields.js\");\n// @ts-strict-ignore\n\nconst buildVersionCollectionFields = (config, collection, flatten)=>{\n    const fields = [\n        {\n            name: 'parent',\n            type: 'relationship',\n            index: true,\n            relationTo: collection.slug\n        },\n        {\n            name: 'version',\n            type: 'group',\n            fields: collection.fields.filter((field)=>!('name' in field) || field.name !== 'id'),\n            ...flatten && {\n                flattenedFields: collection.flattenedFields.filter((each)=>each.name !== 'id')\n            }\n        },\n        {\n            name: 'createdAt',\n            type: 'date',\n            admin: {\n                disabled: true\n            },\n            index: true\n        },\n        {\n            name: 'updatedAt',\n            type: 'date',\n            admin: {\n                disabled: true\n            },\n            index: true\n        }\n    ];\n    if (collection?.versions?.drafts) {\n        if (config.localization) {\n            fields.push(_baseFields_js__WEBPACK_IMPORTED_MODULE_0__.versionSnapshotField);\n            fields.push({\n                name: 'publishedLocale',\n                type: 'select',\n                admin: {\n                    disableBulkEdit: true,\n                    disabled: true\n                },\n                index: true,\n                options: config.localization.locales.map((locale)=>{\n                    if (typeof locale === 'string') {\n                        return locale;\n                    }\n                    return locale.code;\n                })\n            });\n        }\n        fields.push({\n            name: 'latest',\n            type: 'checkbox',\n            admin: {\n                disabled: true\n            },\n            index: true\n        });\n        if (collection?.versions?.drafts?.autosave) {\n            fields.push({\n                name: 'autosave',\n                type: 'checkbox',\n                index: true\n            });\n        }\n    }\n    return fields;\n};\n\n//# sourceMappingURL=buildCollectionFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC92ZXJzaW9ucy9idWlsZENvbGxlY3Rpb25GaWVsZHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUN1RDtBQUNoRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnRUFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC92ZXJzaW9ucy9idWlsZENvbGxlY3Rpb25GaWVsZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLXN0cmljdC1pZ25vcmVcbmltcG9ydCB7IHZlcnNpb25TbmFwc2hvdEZpZWxkIH0gZnJvbSAnLi9iYXNlRmllbGRzLmpzJztcbmV4cG9ydCBjb25zdCBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzID0gKGNvbmZpZywgY29sbGVjdGlvbiwgZmxhdHRlbik9PntcbiAgICBjb25zdCBmaWVsZHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdwYXJlbnQnLFxuICAgICAgICAgICAgdHlwZTogJ3JlbGF0aW9uc2hpcCcsXG4gICAgICAgICAgICBpbmRleDogdHJ1ZSxcbiAgICAgICAgICAgIHJlbGF0aW9uVG86IGNvbGxlY3Rpb24uc2x1Z1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAndmVyc2lvbicsXG4gICAgICAgICAgICB0eXBlOiAnZ3JvdXAnLFxuICAgICAgICAgICAgZmllbGRzOiBjb2xsZWN0aW9uLmZpZWxkcy5maWx0ZXIoKGZpZWxkKT0+ISgnbmFtZScgaW4gZmllbGQpIHx8IGZpZWxkLm5hbWUgIT09ICdpZCcpLFxuICAgICAgICAgICAgLi4uZmxhdHRlbiAmJiB7XG4gICAgICAgICAgICAgICAgZmxhdHRlbmVkRmllbGRzOiBjb2xsZWN0aW9uLmZsYXR0ZW5lZEZpZWxkcy5maWx0ZXIoKGVhY2gpPT5lYWNoLm5hbWUgIT09ICdpZCcpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdjcmVhdGVkQXQnLFxuICAgICAgICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgICAgICAgYWRtaW46IHtcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGV4OiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICd1cGRhdGVkQXQnLFxuICAgICAgICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgICAgICAgYWRtaW46IHtcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGV4OiB0cnVlXG4gICAgICAgIH1cbiAgICBdO1xuICAgIGlmIChjb2xsZWN0aW9uPy52ZXJzaW9ucz8uZHJhZnRzKSB7XG4gICAgICAgIGlmIChjb25maWcubG9jYWxpemF0aW9uKSB7XG4gICAgICAgICAgICBmaWVsZHMucHVzaCh2ZXJzaW9uU25hcHNob3RGaWVsZCk7XG4gICAgICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3B1Ymxpc2hlZExvY2FsZScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgYWRtaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUJ1bGtFZGl0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogY29uZmlnLmxvY2FsaXphdGlvbi5sb2NhbGVzLm1hcCgobG9jYWxlKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxvY2FsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5jb2RlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiAnbGF0ZXN0JyxcbiAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5kZXg6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uPy52ZXJzaW9ucz8uZHJhZnRzPy5hdXRvc2F2ZSkge1xuICAgICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdhdXRvc2F2ZScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgICAgICAgICBpbmRleDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpZWxkcztcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkQ29sbGVjdGlvbkZpZWxkcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/buildCollectionFields.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/buildGlobalFields.js":
/*!*********************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/buildGlobalFields.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildVersionGlobalFields: () => (/* binding */ buildVersionGlobalFields)\n/* harmony export */ });\n/* harmony import */ var _baseFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseFields.js */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/baseFields.js\");\n// @ts-strict-ignore\n\nconst buildVersionGlobalFields = (config, global, flatten)=>{\n    const fields = [\n        {\n            name: 'version',\n            type: 'group',\n            fields: global.fields,\n            ...flatten && {\n                flattenedFields: global.flattenedFields\n            }\n        },\n        {\n            name: 'createdAt',\n            type: 'date',\n            admin: {\n                disabled: true\n            },\n            index: true\n        },\n        {\n            name: 'updatedAt',\n            type: 'date',\n            admin: {\n                disabled: true\n            },\n            index: true\n        }\n    ];\n    if (global?.versions?.drafts) {\n        if (config.localization) {\n            fields.push(_baseFields_js__WEBPACK_IMPORTED_MODULE_0__.versionSnapshotField);\n            fields.push({\n                name: 'publishedLocale',\n                type: 'select',\n                admin: {\n                    disableBulkEdit: true,\n                    disabled: true\n                },\n                index: true,\n                options: config.localization.locales.map((locale)=>{\n                    if (typeof locale === 'string') {\n                        return locale;\n                    }\n                    return locale.code;\n                })\n            });\n        }\n        fields.push({\n            name: 'latest',\n            type: 'checkbox',\n            admin: {\n                disabled: true\n            },\n            index: true\n        });\n        if (global?.versions?.drafts?.autosave) {\n            fields.push({\n                name: 'autosave',\n                type: 'checkbox',\n                index: true\n            });\n        }\n    }\n    return fields;\n};\n\n//# sourceMappingURL=buildGlobalFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC92ZXJzaW9ucy9idWlsZEdsb2JhbEZpZWxkcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ3VEO0FBQ2hEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnRUFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lcmluamVycmkvbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC92ZXJzaW9ucy9idWlsZEdsb2JhbEZpZWxkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtc3RyaWN0LWlnbm9yZVxuaW1wb3J0IHsgdmVyc2lvblNuYXBzaG90RmllbGQgfSBmcm9tICcuL2Jhc2VGaWVsZHMuanMnO1xuZXhwb3J0IGNvbnN0IGJ1aWxkVmVyc2lvbkdsb2JhbEZpZWxkcyA9IChjb25maWcsIGdsb2JhbCwgZmxhdHRlbik9PntcbiAgICBjb25zdCBmaWVsZHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICd2ZXJzaW9uJyxcbiAgICAgICAgICAgIHR5cGU6ICdncm91cCcsXG4gICAgICAgICAgICBmaWVsZHM6IGdsb2JhbC5maWVsZHMsXG4gICAgICAgICAgICAuLi5mbGF0dGVuICYmIHtcbiAgICAgICAgICAgICAgICBmbGF0dGVuZWRGaWVsZHM6IGdsb2JhbC5mbGF0dGVuZWRGaWVsZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ2NyZWF0ZWRBdCcsXG4gICAgICAgICAgICB0eXBlOiAnZGF0ZScsXG4gICAgICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5kZXg6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ3VwZGF0ZWRBdCcsXG4gICAgICAgICAgICB0eXBlOiAnZGF0ZScsXG4gICAgICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5kZXg6IHRydWVcbiAgICAgICAgfVxuICAgIF07XG4gICAgaWYgKGdsb2JhbD8udmVyc2lvbnM/LmRyYWZ0cykge1xuICAgICAgICBpZiAoY29uZmlnLmxvY2FsaXphdGlvbikge1xuICAgICAgICAgICAgZmllbGRzLnB1c2godmVyc2lvblNuYXBzaG90RmllbGQpO1xuICAgICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdwdWJsaXNoZWRMb2NhbGUnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgIGFkbWluOiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVCdWxrRWRpdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluZGV4OiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbmZpZy5sb2NhbGl6YXRpb24ubG9jYWxlcy5tYXAoKGxvY2FsZSk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2NhbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGUuY29kZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogJ2xhdGVzdCcsXG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgICAgYWRtaW46IHtcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGV4OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZ2xvYmFsPy52ZXJzaW9ucz8uZHJhZnRzPy5hdXRvc2F2ZSkge1xuICAgICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdhdXRvc2F2ZScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgICAgICAgICBpbmRleDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpZWxkcztcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkR2xvYmFsRmllbGRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/buildGlobalFields.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/buildVersionCompoundIndexes.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/buildVersionCompoundIndexes.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildVersionCompoundIndexes: () => (/* binding */ buildVersionCompoundIndexes)\n/* harmony export */ });\nconst buildVersionCompoundIndexes = ({ indexes })=>{\n    return indexes.map((each)=>({\n            fields: each.fields.map(({ field, localizedPath, path, pathHasLocalized })=>({\n                    field,\n                    localizedPath: `version.${localizedPath}`,\n                    path: `version.${path}`,\n                    pathHasLocalized\n                })),\n            unique: false\n        }));\n};\n\n//# sourceMappingURL=buildVersionCompoundIndexes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC92ZXJzaW9ucy9idWlsZFZlcnNpb25Db21wb3VuZEluZGV4ZXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLHVDQUF1QyxTQUFTO0FBQ3ZEO0FBQ0EsdUNBQXVDLDhDQUE4QztBQUNyRjtBQUNBLDhDQUE4QyxjQUFjO0FBQzVELHFDQUFxQyxLQUFLO0FBQzFDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvdmVyc2lvbnMvYnVpbGRWZXJzaW9uQ29tcG91bmRJbmRleGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBidWlsZFZlcnNpb25Db21wb3VuZEluZGV4ZXMgPSAoeyBpbmRleGVzIH0pPT57XG4gICAgcmV0dXJuIGluZGV4ZXMubWFwKChlYWNoKT0+KHtcbiAgICAgICAgICAgIGZpZWxkczogZWFjaC5maWVsZHMubWFwKCh7IGZpZWxkLCBsb2NhbGl6ZWRQYXRoLCBwYXRoLCBwYXRoSGFzTG9jYWxpemVkIH0pPT4oe1xuICAgICAgICAgICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxpemVkUGF0aDogYHZlcnNpb24uJHtsb2NhbGl6ZWRQYXRofWAsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGB2ZXJzaW9uLiR7cGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICBwYXRoSGFzTG9jYWxpemVkXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgdW5pcXVlOiBmYWxzZVxuICAgICAgICB9KSk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFZlcnNpb25Db21wb3VuZEluZGV4ZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/buildVersionCompoundIndexes.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/drafts/appendVersionToQueryKey.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/drafts/appendVersionToQueryKey.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appendVersionToQueryKey: () => (/* binding */ appendVersionToQueryKey)\n/* harmony export */ });\nconst appendVersionToQueryKey = (query = {})=>{\n    return Object.entries(query).reduce((res, [key, val])=>{\n        if ([\n            'AND',\n            'and',\n            'OR',\n            'or'\n        ].includes(key) && Array.isArray(val)) {\n            return {\n                ...res,\n                [key.toLowerCase()]: val.map((subQuery)=>appendVersionToQueryKey(subQuery))\n            };\n        }\n        if (key !== 'id') {\n            return {\n                ...res,\n                [`version.${key}`]: val\n            };\n        }\n        return {\n            ...res,\n            parent: val\n        };\n    }, {});\n};\n\n//# sourceMappingURL=appendVersionToQueryKey.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC92ZXJzaW9ucy9kcmFmdHMvYXBwZW5kVmVyc2lvblRvUXVlcnlLZXkuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLDJDQUEyQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsSUFBSTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2VyaW5qZXJyaS9ub2RlX21vZHVsZXMvLnBucG0vcGF5bG9hZEAzLjM5LjFfZ3JhcGhxbEAxNi45LjBfdHlwZXNjcmlwdEA1LjcuMy9ub2RlX21vZHVsZXMvcGF5bG9hZC9kaXN0L3ZlcnNpb25zL2RyYWZ0cy9hcHBlbmRWZXJzaW9uVG9RdWVyeUtleS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgYXBwZW5kVmVyc2lvblRvUXVlcnlLZXkgPSAocXVlcnkgPSB7fSk9PntcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMocXVlcnkpLnJlZHVjZSgocmVzLCBba2V5LCB2YWxdKT0+e1xuICAgICAgICBpZiAoW1xuICAgICAgICAgICAgJ0FORCcsXG4gICAgICAgICAgICAnYW5kJyxcbiAgICAgICAgICAgICdPUicsXG4gICAgICAgICAgICAnb3InXG4gICAgICAgIF0uaW5jbHVkZXMoa2V5KSAmJiBBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucmVzLFxuICAgICAgICAgICAgICAgIFtrZXkudG9Mb3dlckNhc2UoKV06IHZhbC5tYXAoKHN1YlF1ZXJ5KT0+YXBwZW5kVmVyc2lvblRvUXVlcnlLZXkoc3ViUXVlcnkpKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5ICE9PSAnaWQnKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnJlcyxcbiAgICAgICAgICAgICAgICBbYHZlcnNpb24uJHtrZXl9YF06IHZhbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucmVzLFxuICAgICAgICAgICAgcGFyZW50OiB2YWxcbiAgICAgICAgfTtcbiAgICB9LCB7fSk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHBlbmRWZXJzaW9uVG9RdWVyeUtleS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/drafts/appendVersionToQueryKey.js\n");

/***/ }),

/***/ "(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/drafts/getQueryDraftsSort.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/drafts/getQueryDraftsSort.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getQueryDraftsSort: () => (/* binding */ getQueryDraftsSort)\n/* harmony export */ });\n/**\n * Takes the incoming sort argument and prefixes it with `versions.` and preserves any `-` prefixes for descending order\n * @param sort\n */ const getQueryDraftsSort = ({ collectionConfig, sort })=>{\n    if (!sort) {\n        if (collectionConfig.defaultSort) {\n            sort = collectionConfig.defaultSort;\n        } else {\n            sort = '-createdAt';\n        }\n    }\n    if (typeof sort === 'string') {\n        sort = [\n            sort\n        ];\n    }\n    return sort.map((field)=>{\n        let orderBy;\n        let direction = '';\n        if (field[0] === '-') {\n            orderBy = field.substring(1);\n            direction = '-';\n        } else {\n            orderBy = field;\n        }\n        if (orderBy === 'id') {\n            return `${direction}parent`;\n        }\n        return `${direction}version.${orderBy}`;\n    });\n};\n\n//# sourceMappingURL=getQueryDraftsSort.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjMvbm9kZV9tb2R1bGVzL3BheWxvYWQvZGlzdC92ZXJzaW9ucy9kcmFmdHMvZ2V0UXVlcnlEcmFmdHNTb3J0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxJQUFXLDhCQUE4Qix3QkFBd0I7QUFDakU7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFVBQVU7QUFDaEM7QUFDQSxrQkFBa0IsVUFBVSxVQUFVLFFBQVE7QUFDOUMsS0FBSztBQUNMOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zL25vZGVfbW9kdWxlcy9wYXlsb2FkL2Rpc3QvdmVyc2lvbnMvZHJhZnRzL2dldFF1ZXJ5RHJhZnRzU29ydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRha2VzIHRoZSBpbmNvbWluZyBzb3J0IGFyZ3VtZW50IGFuZCBwcmVmaXhlcyBpdCB3aXRoIGB2ZXJzaW9ucy5gIGFuZCBwcmVzZXJ2ZXMgYW55IGAtYCBwcmVmaXhlcyBmb3IgZGVzY2VuZGluZyBvcmRlclxuICogQHBhcmFtIHNvcnRcbiAqLyBleHBvcnQgY29uc3QgZ2V0UXVlcnlEcmFmdHNTb3J0ID0gKHsgY29sbGVjdGlvbkNvbmZpZywgc29ydCB9KT0+e1xuICAgIGlmICghc29ydCkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbkNvbmZpZy5kZWZhdWx0U29ydCkge1xuICAgICAgICAgICAgc29ydCA9IGNvbGxlY3Rpb25Db25maWcuZGVmYXVsdFNvcnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3J0ID0gJy1jcmVhdGVkQXQnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc29ydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc29ydCA9IFtcbiAgICAgICAgICAgIHNvcnRcbiAgICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHNvcnQubWFwKChmaWVsZCk9PntcbiAgICAgICAgbGV0IG9yZGVyQnk7XG4gICAgICAgIGxldCBkaXJlY3Rpb24gPSAnJztcbiAgICAgICAgaWYgKGZpZWxkWzBdID09PSAnLScpIHtcbiAgICAgICAgICAgIG9yZGVyQnkgPSBmaWVsZC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAnLSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcmRlckJ5ID0gZmllbGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGVyQnkgPT09ICdpZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtkaXJlY3Rpb259cGFyZW50YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7ZGlyZWN0aW9ufXZlcnNpb24uJHtvcmRlckJ5fWA7XG4gICAgfSk7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRRdWVyeURyYWZ0c1NvcnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/versions/drafts/getQueryDraftsSort.js\n");

/***/ })

};
;