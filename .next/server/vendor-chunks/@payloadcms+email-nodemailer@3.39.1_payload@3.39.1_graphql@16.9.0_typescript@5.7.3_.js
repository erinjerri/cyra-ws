"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@payloadcms+email-nodemailer@3.39.1_payload@3.39.1_graphql@16.9.0_typescript@5.7.3_";
exports.ids = ["vendor-chunks/@payloadcms+email-nodemailer@3.39.1_payload@3.39.1_graphql@16.9.0_typescript@5.7.3_"];
exports.modules = {

/***/ "(rsc)/../../../../node_modules/.pnpm/@payloadcms+email-nodemailer@3.39.1_payload@3.39.1_graphql@16.9.0_typescript@5.7.3_/node_modules/@payloadcms/email-nodemailer/dist/index.js":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/@payloadcms+email-nodemailer@3.39.1_payload@3.39.1_graphql@16.9.0_typescript@5.7.3_/node_modules/@payloadcms/email-nodemailer/dist/index.js ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   nodemailerAdapter: () => (/* binding */ nodemailerAdapter)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/../../../../node_modules/.pnpm/nodemailer@6.9.16/node_modules/nodemailer/lib/nodemailer.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/../../../../node_modules/.pnpm/payload@3.39.1_graphql@16.9.0_typescript@5.7.3/node_modules/payload/dist/errors/InvalidConfiguration.js\");\n/* eslint-disable no-console */ \n\n/**\n * Creates an email adapter using nodemailer\n *\n * If no email configuration is provided, an ethereal email test account is returned\n */ const nodemailerAdapter = async (args)=>{\n    const { defaultFromAddress, defaultFromName, transport } = await buildEmail(args);\n    const adapter = ()=>({\n            name: 'nodemailer',\n            defaultFromAddress,\n            defaultFromName,\n            sendEmail: async (message)=>{\n                return await transport.sendMail({\n                    from: `${defaultFromName} <${defaultFromAddress}>`,\n                    ...message\n                });\n            }\n        });\n    return adapter;\n};\nasync function buildEmail(emailConfig) {\n    if (!emailConfig) {\n        const transport = await createMockAccount(emailConfig);\n        if (!transport) {\n            throw new payload__WEBPACK_IMPORTED_MODULE_1__.InvalidConfiguration('Unable to create Nodemailer test account.');\n        }\n        return {\n            defaultFromAddress: 'info@payloadcms.com',\n            defaultFromName: 'Payload',\n            transport\n        };\n    }\n    // Create or extract transport\n    let transport;\n    if ('transport' in emailConfig && emailConfig.transport) {\n        ;\n        ({ transport } = emailConfig);\n    } else if ('transportOptions' in emailConfig && emailConfig.transportOptions) {\n        transport = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport(emailConfig.transportOptions);\n    } else {\n        transport = await createMockAccount(emailConfig);\n    }\n    if (!emailConfig.skipVerify) {\n        await verifyTransport(transport);\n    }\n    return {\n        defaultFromAddress: emailConfig.defaultFromAddress,\n        defaultFromName: emailConfig.defaultFromName,\n        transport\n    };\n}\nasync function verifyTransport(transport) {\n    try {\n        await transport.verify();\n    } catch (err) {\n        console.error({\n            err,\n            msg: 'Error verifying Nodemailer transport.'\n        });\n    }\n}\n/**\n * Use ethereal.email to create a mock email account\n */ async function createMockAccount(emailConfig) {\n    try {\n        const etherealAccount = await nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTestAccount();\n        const smtpOptions = {\n            ...emailConfig || {},\n            auth: {\n                pass: etherealAccount.pass,\n                user: etherealAccount.user\n            },\n            fromAddress: emailConfig?.defaultFromAddress,\n            fromName: emailConfig?.defaultFromName,\n            host: 'smtp.ethereal.email',\n            port: 587,\n            secure: false\n        };\n        const transport = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport(smtpOptions);\n        const { pass, user, web } = etherealAccount;\n        console.info('E-mail configured with ethereal.email test account. ');\n        console.info(`Log into mock email provider at ${web}`);\n        console.info(`Mock email account username: ${user}`);\n        console.info(`Mock email account password: ${pass}`);\n        return transport;\n    } catch (err) {\n        if (err instanceof Error) {\n            console.error({\n                err,\n                msg: 'There was a problem setting up the mock email handler'\n            });\n            throw new payload__WEBPACK_IMPORTED_MODULE_1__.InvalidConfiguration(`Unable to create Nodemailer test account. Error: ${err.message}`);\n        }\n        throw new payload__WEBPACK_IMPORTED_MODULE_1__.InvalidConfiguration('Unable to create Nodemailer test account.');\n    }\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwYXlsb2FkY21zK2VtYWlsLW5vZGVtYWlsZXJAMy4zOS4xX3BheWxvYWRAMy4zOS4xX2dyYXBocWxAMTYuOS4wX3R5cGVzY3JpcHRANS43LjNfL25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9lbWFpbC1ub2RlbWFpbGVyL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsZ0NBQW9FO0FBQ3JCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVztBQUNYLFlBQVksaURBQWlEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixpQkFBaUIsR0FBRyxtQkFBbUI7QUFDcEU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHlEQUFvQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLE1BQU07QUFDTixvQkFBb0IsdURBQTBCO0FBQzlDLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MseURBQTRCO0FBQ2xFO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsdURBQTBCO0FBQ3BELGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQSx3REFBd0QsSUFBSTtBQUM1RCxxREFBcUQsS0FBSztBQUMxRCxxREFBcUQsS0FBSztBQUMxRDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixzQkFBc0IseURBQW9CLHFEQUFxRCxZQUFZO0FBQzNHO0FBQ0Esa0JBQWtCLHlEQUFvQjtBQUN0QztBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvZXJpbmplcnJpL25vZGVfbW9kdWxlcy8ucG5wbS9AcGF5bG9hZGNtcytlbWFpbC1ub2RlbWFpbGVyQDMuMzkuMV9wYXlsb2FkQDMuMzkuMV9ncmFwaHFsQDE2LjkuMF90eXBlc2NyaXB0QDUuNy4zXy9ub2RlX21vZHVsZXMvQHBheWxvYWRjbXMvZW1haWwtbm9kZW1haWxlci9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi8gaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSAnbm9kZW1haWxlcic7XG5pbXBvcnQgeyBJbnZhbGlkQ29uZmlndXJhdGlvbiB9IGZyb20gJ3BheWxvYWQnO1xuLyoqXG4gKiBDcmVhdGVzIGFuIGVtYWlsIGFkYXB0ZXIgdXNpbmcgbm9kZW1haWxlclxuICpcbiAqIElmIG5vIGVtYWlsIGNvbmZpZ3VyYXRpb24gaXMgcHJvdmlkZWQsIGFuIGV0aGVyZWFsIGVtYWlsIHRlc3QgYWNjb3VudCBpcyByZXR1cm5lZFxuICovIGV4cG9ydCBjb25zdCBub2RlbWFpbGVyQWRhcHRlciA9IGFzeW5jIChhcmdzKT0+e1xuICAgIGNvbnN0IHsgZGVmYXVsdEZyb21BZGRyZXNzLCBkZWZhdWx0RnJvbU5hbWUsIHRyYW5zcG9ydCB9ID0gYXdhaXQgYnVpbGRFbWFpbChhcmdzKTtcbiAgICBjb25zdCBhZGFwdGVyID0gKCk9Pih7XG4gICAgICAgICAgICBuYW1lOiAnbm9kZW1haWxlcicsXG4gICAgICAgICAgICBkZWZhdWx0RnJvbUFkZHJlc3MsXG4gICAgICAgICAgICBkZWZhdWx0RnJvbU5hbWUsXG4gICAgICAgICAgICBzZW5kRW1haWw6IGFzeW5jIChtZXNzYWdlKT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0cmFuc3BvcnQuc2VuZE1haWwoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBgJHtkZWZhdWx0RnJvbU5hbWV9IDwke2RlZmF1bHRGcm9tQWRkcmVzc30+YCxcbiAgICAgICAgICAgICAgICAgICAgLi4ubWVzc2FnZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICByZXR1cm4gYWRhcHRlcjtcbn07XG5hc3luYyBmdW5jdGlvbiBidWlsZEVtYWlsKGVtYWlsQ29uZmlnKSB7XG4gICAgaWYgKCFlbWFpbENvbmZpZykge1xuICAgICAgICBjb25zdCB0cmFuc3BvcnQgPSBhd2FpdCBjcmVhdGVNb2NrQWNjb3VudChlbWFpbENvbmZpZyk7XG4gICAgICAgIGlmICghdHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENvbmZpZ3VyYXRpb24oJ1VuYWJsZSB0byBjcmVhdGUgTm9kZW1haWxlciB0ZXN0IGFjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRlZmF1bHRGcm9tQWRkcmVzczogJ2luZm9AcGF5bG9hZGNtcy5jb20nLFxuICAgICAgICAgICAgZGVmYXVsdEZyb21OYW1lOiAnUGF5bG9hZCcsXG4gICAgICAgICAgICB0cmFuc3BvcnRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gQ3JlYXRlIG9yIGV4dHJhY3QgdHJhbnNwb3J0XG4gICAgbGV0IHRyYW5zcG9ydDtcbiAgICBpZiAoJ3RyYW5zcG9ydCcgaW4gZW1haWxDb25maWcgJiYgZW1haWxDb25maWcudHJhbnNwb3J0KSB7XG4gICAgICAgIDtcbiAgICAgICAgKHsgdHJhbnNwb3J0IH0gPSBlbWFpbENvbmZpZyk7XG4gICAgfSBlbHNlIGlmICgndHJhbnNwb3J0T3B0aW9ucycgaW4gZW1haWxDb25maWcgJiYgZW1haWxDb25maWcudHJhbnNwb3J0T3B0aW9ucykge1xuICAgICAgICB0cmFuc3BvcnQgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydChlbWFpbENvbmZpZy50cmFuc3BvcnRPcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc3BvcnQgPSBhd2FpdCBjcmVhdGVNb2NrQWNjb3VudChlbWFpbENvbmZpZyk7XG4gICAgfVxuICAgIGlmICghZW1haWxDb25maWcuc2tpcFZlcmlmeSkge1xuICAgICAgICBhd2FpdCB2ZXJpZnlUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVmYXVsdEZyb21BZGRyZXNzOiBlbWFpbENvbmZpZy5kZWZhdWx0RnJvbUFkZHJlc3MsXG4gICAgICAgIGRlZmF1bHRGcm9tTmFtZTogZW1haWxDb25maWcuZGVmYXVsdEZyb21OYW1lLFxuICAgICAgICB0cmFuc3BvcnRcbiAgICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gdmVyaWZ5VHJhbnNwb3J0KHRyYW5zcG9ydCkge1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRyYW5zcG9ydC52ZXJpZnkoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcih7XG4gICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICBtc2c6ICdFcnJvciB2ZXJpZnlpbmcgTm9kZW1haWxlciB0cmFuc3BvcnQuJ1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIFVzZSBldGhlcmVhbC5lbWFpbCB0byBjcmVhdGUgYSBtb2NrIGVtYWlsIGFjY291bnRcbiAqLyBhc3luYyBmdW5jdGlvbiBjcmVhdGVNb2NrQWNjb3VudChlbWFpbENvbmZpZykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGV0aGVyZWFsQWNjb3VudCA9IGF3YWl0IG5vZGVtYWlsZXIuY3JlYXRlVGVzdEFjY291bnQoKTtcbiAgICAgICAgY29uc3Qgc210cE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi5lbWFpbENvbmZpZyB8fCB7fSxcbiAgICAgICAgICAgIGF1dGg6IHtcbiAgICAgICAgICAgICAgICBwYXNzOiBldGhlcmVhbEFjY291bnQucGFzcyxcbiAgICAgICAgICAgICAgICB1c2VyOiBldGhlcmVhbEFjY291bnQudXNlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZyb21BZGRyZXNzOiBlbWFpbENvbmZpZz8uZGVmYXVsdEZyb21BZGRyZXNzLFxuICAgICAgICAgICAgZnJvbU5hbWU6IGVtYWlsQ29uZmlnPy5kZWZhdWx0RnJvbU5hbWUsXG4gICAgICAgICAgICBob3N0OiAnc210cC5ldGhlcmVhbC5lbWFpbCcsXG4gICAgICAgICAgICBwb3J0OiA1ODcsXG4gICAgICAgICAgICBzZWN1cmU6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHNtdHBPcHRpb25zKTtcbiAgICAgICAgY29uc3QgeyBwYXNzLCB1c2VyLCB3ZWIgfSA9IGV0aGVyZWFsQWNjb3VudDtcbiAgICAgICAgY29uc29sZS5pbmZvKCdFLW1haWwgY29uZmlndXJlZCB3aXRoIGV0aGVyZWFsLmVtYWlsIHRlc3QgYWNjb3VudC4gJyk7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhgTG9nIGludG8gbW9jayBlbWFpbCBwcm92aWRlciBhdCAke3dlYn1gKTtcbiAgICAgICAgY29uc29sZS5pbmZvKGBNb2NrIGVtYWlsIGFjY291bnQgdXNlcm5hbWU6ICR7dXNlcn1gKTtcbiAgICAgICAgY29uc29sZS5pbmZvKGBNb2NrIGVtYWlsIGFjY291bnQgcGFzc3dvcmQ6ICR7cGFzc31gKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zcG9ydDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHtcbiAgICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICAgICAgbXNnOiAnVGhlcmUgd2FzIGEgcHJvYmxlbSBzZXR0aW5nIHVwIHRoZSBtb2NrIGVtYWlsIGhhbmRsZXInXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ29uZmlndXJhdGlvbihgVW5hYmxlIHRvIGNyZWF0ZSBOb2RlbWFpbGVyIHRlc3QgYWNjb3VudC4gRXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDb25maWd1cmF0aW9uKCdVbmFibGUgdG8gY3JlYXRlIE5vZGVtYWlsZXIgdGVzdCBhY2NvdW50LicpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../../node_modules/.pnpm/@payloadcms+email-nodemailer@3.39.1_payload@3.39.1_graphql@16.9.0_typescript@5.7.3_/node_modules/@payloadcms/email-nodemailer/dist/index.js\n");

/***/ })

};
;